<!DOCTYPE html>
<html lang="en">
<head>
        <title>Shane Dowling : Shellshock — Am I vulnerable and what do I do?</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="https://shanedowling.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body>
        
<header>
    <h1><a href="." id="site-title">Shane Dowling </a> :
        <a href="./shellshock-am-i-vulnerable-and-what-do-i-do-4368762a4c94.html" id="page-title">Shellshock — Am I vulnerable and what do I do?</a></h1>
<time datetime="2014-09-25T00:00:00+00:00">Thu 25 September 2014</time></header>
<article>
    <p><img alt="" src="images/1__9ehFHvJtYiV__mH5tFVI9OQ.png"></p>
<p>`Shellshock `__ is the
latest Heartbleed level vulnerability to be discovered. It's a pretty
long running exploit in how bash handles environment variables. It's a
good thing to fix asap, especially if you're running any old services
like telnet, ftp or an old version of apache.</p>
<h3>Is my server vulnerable?</h3>
<p>Run this.</p>
<div class="highlight"><pre><span></span><code>env<span class="w"> </span><span class="nv">x</span><span class="o">=</span><span class="s1">&#39;() { :;}; echo vulnerable&#39;</span><span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;echo test&#39;</span>
</code></pre></div>

<p>If you see</p>
<p>vulnerable
test</p>
<p>You should patch immediately.</p>
<p>However if you see.</p>
<p>test</p>
<p>You should be okay.</p>
<h3>How to fix?</h3>
<p>Centos/RedHat</p>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>update<span class="w"> </span>bash
</code></pre></div>

<p>Debian/Ubuntu</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>bash
</code></pre></div>

<h3>OSX</h3>
<p>Unless your running OSX as a critical server somewhere remote, I'd hold
off the solution for now and wait for Apple to distribute an update. If
you need to update.</p>
<ul>
<li>Install homebrew</li>
<li>Run</li>
</ul>
<div class="highlight"><pre><span></span><code>brew<span class="w"> </span>update
</code></pre></div>

<p>Then run</p>
<div class="highlight"><pre><span></span><code>brew<span class="w"> </span>update<span class="w"> </span>bash
</code></pre></div>

<p>Backup your existing vulnerable bash</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>/usr/local/bin/bash<span class="w"> </span>/usr/local/bin/bash_old
</code></pre></div>

<p>Then symlink to the new brew installed bash</p>
<div class="highlight"><pre><span></span><code>ln<span class="w"> </span>-s<span class="w"> </span>/usr/local/Cellar/bash/4.3.25/bin/bash<span class="w"> </span>/usr/local/bin/bash
</code></pre></div>

<p>Finally reboot!</p>
<p>Keep an eye on these solutions as time goes on as I fear these patches might not solve the whole problem.</p>
</article>

        <footer>
            <nav>
                <ul>
                    <li><a href="./pages/contact.html">Contact</a></li>
                    <li>:: <a href="./categories.html">Categories</a></li>
                </ul>
            </nav>
        </footer>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z9P3V6D0SV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z9P3V6D0SV');
</script>
</body>
</html>