<!DOCTYPE html>
<html lang="en">
<head>
        <title>SugarCRM 7 — Enable Importing on Custom Modules</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="./theme/css/main.css" />
        <link href="https://shanedowling.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling Full Atom Feed" />
        <link href="https://shanedowling.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Shane Dowling Full RSS Feed" />
        <link href="https://shanedowling.com/feeds/category.slug.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling Categories Atom Feed" />
        <link href="https://shanedowling.com/feeds/category.slug.rss.xml" type="application/rss+xml" rel="alternate" title="Shane Dowling Categories RSS Feed" />
</head>
<body>

    <div class="main-nav-container">

        <div class="pure-g">
            <div class="pure-u-1 pure-u-lg-2-3">
                <div class="main-nav">
                    <ul class="main-nav-list">
                        <li class="main-nav-item"><a href="./" class="pure-menu-link">Shane Dowling</a></li>

                        <li class="main-nav-item active"><a href="./category/posts.html" class="pure-menu-link">posts</a></li>
                    </ul>
                </div>
             </div>

             <div class="pure-u-1 pure-u-lg-1-3"></div>
        </div>

    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
            <div class="pure-u-3-4 meta-data">
                <a href="./category/posts.html" class="category">posts</a><br />

                <a class="author" href="./author/shane-dowling.html">Shane Dowling</a>
                &mdash; <abbr title="2014-09-11T00:00:00+00:00">Thu 11 September 2014</abbr>
            </div>
        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>SugarCRM 7 — Enable Importing on Custom Modules</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <p><img alt="" src="img/1__rMyjz1HzRpsHOYM40IoG7A.jpeg"></p>
<p>I’ve been wracking my brain trying to get <a href="http://support.sugarcrm.com/04_Find_Answers/03_Developers/100Customization/Enabling_Importing_for_Custom_Modules/">this guide</a> to work with SugarCRM 7. Add to the fact that it “looks” like this is also how it’s done in SugarCRM 7, if you peruse the code under Accounts or Contacts. However it isn’t. This is how I’ve added importing support to custom modules.</p>
<h3>Set Module as Importable</h3>
<p>Under modules/<ModuleName>/<ModuleName>_sugar.php set</p>
<p>public $importable = true;</p>
<h3>Add Menu Item</h3>
<p>Under modules/<MODULES>/clients/base/menus/header/header.php you
should have something like</p>
<p>$moduleName = ‘’;
 $viewdefs[$moduleName][‘base’][‘menu’][‘header’] = array(
 array(
 ‘route’ =&gt; “#$moduleName/create”,
 ‘label’ =&gt; ‘LNK_NEW_RECORD’,
 ‘acl_action’ =&gt; ‘create’,
 ‘acl_module’ =&gt; $moduleName,
 ‘icon’ =&gt; ‘icon-plus’,
 ),
 array(
 ‘route’ =&gt; “#$moduleName”,
 ‘label’ =&gt; ‘LNK_LIST’,
 ‘acl_action’ =&gt; ‘list’,
 ‘acl_module’ =&gt; $moduleName,
 ‘icon’ =&gt; ‘icon-reorder’,
 ),
 );</p>
<p>If not create the file with that array. Next add the import action to
the array.</p>
<p>array(
 ‘route’ =&gt; ‘#bwc/index.php?’ . http_build_query(
 array(
 ‘module’ =&gt; ‘Import’,
 ‘action’ =&gt; ‘Step1’,
 ‘import_module’ =&gt; $moduleName,
 )
 ),
 ‘label’ =&gt;’LBL_IMPORT’,
 ‘acl_action’=&gt;’import’,
 ‘acl_module’=&gt;$moduleName,
 ‘icon’ =&gt; ‘icon-upload’,
 ),</p>
<h3>Add language setting</h3>
<p>Under /modules/<MODULES>/language/en_us.lang.php add into the
$mod\_strings array(if it’s not already there):</p>
<p>‘LBL_IMPORT’ =&gt; ‘Import ‘,</p>
<h3>Finally</h3>
<p>The inevitable quick repair/rebuild.</p>
    </div>

    <footer>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="./author/shane-dowling.html">Shane Dowling</a></h3>
                        <p class="author-description">
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>


</div>


</body>
</html>