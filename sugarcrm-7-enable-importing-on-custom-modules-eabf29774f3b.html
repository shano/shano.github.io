<!DOCTYPE html>
<html lang="en">
<head>
        <title>SugarCRM 7 — Enable Importing on Custom Modules</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="./theme/css/main.css" />
        <link href="https://shanedowling.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling Full Atom Feed" />
        <link href="https://shanedowling.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Shane Dowling Full RSS Feed" />
        <link href="https://shanedowling.com/feeds/category.slug.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling Categories Atom Feed" />
        <link href="https://shanedowling.com/feeds/category.slug.rss.xml" type="application/rss+xml" rel="alternate" title="Shane Dowling Categories RSS Feed" />
</head>
<body>

    <div class="main-nav-container">

        <div class="pure-g">
            <div class="pure-u-1 pure-u-lg-2-3">
                <div class="main-nav">
                    <ul class="main-nav-list">
                        <li class="main-nav-item"><a href="./" class="pure-menu-link">Shane Dowling</a></li>

                        <li class="main-nav-item"><a href="./category/til.html" class="pure-menu-link">TIL</a></li>
                        <li class="main-nav-item active"><a href="./category/tech.html" class="pure-menu-link">Tech</a></li>
                        <li class="main-nav-item"><a href="./category/random.html" class="pure-menu-link">Random</a></li>
                        <li class="main-nav-item"><a href="./category/productivity.html" class="pure-menu-link">Productivity</a></li>
                        <li class="main-nav-item"><a href="./category/mindfulness.html" class="pure-menu-link">Mindfulness</a></li>
                        <li class="main-nav-item"><a href="./category/leadership.html" class="pure-menu-link">Leadership</a></li>
                        <li class="main-nav-item"><a href="./category/digital-minimalism.html" class="pure-menu-link">Digital Minimalism</a></li>
                    </ul>
                </div>
             </div>

             <div class="pure-u-1 pure-u-lg-1-3"></div>
        </div>

    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
            <div class="pure-u-3-4 meta-data">
                <a href="./category/tech.html" class="category">Tech</a><br />

                <a class="author" href="./author/shane-dowling.html">Shane Dowling</a>
                &mdash; <abbr title="2014-09-11T00:00:00+00:00">Thu 11 September 2014</abbr>
            </div>
        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>SugarCRM 7 — Enable Importing on Custom Modules</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <p><img alt="" src="images/1__rMyjz1HzRpsHOYM40IoG7A.jpeg"></p>
<p>I've been wracking my brain trying to get <a href="http://support.sugarcrm.com/04_Find_Answers/03_Developers/100Customization/Enabling_Importing_for_Custom_Modules/">this guide</a> to work with SugarCRM 7. Add to the fact that it "looks" like this is also how it's done in SugarCRM 7, if you peruse the code under Accounts or Contacts. However it isn't. This is how I've added importing support to custom modules.</p>
<h3>Set Module as Importable</h3>
<p>Under modules/<ModuleName>/<ModuleName>_sugar.php set</p>
<div class="highlight"><pre><span></span><span class="x">public $importable = true;</span>
</pre></div>


<h3>Add Menu Item</h3>
<p>Under modules/<MODULES>/clients/base/menus/header/header.php you
should have something like</p>
<div class="highlight"><pre><span></span><span class="x">$moduleName = &#39;&#39;;</span>
<span class="x"> $viewdefs[$moduleName][&#39;base&#39;][&#39;menu&#39;][&#39;header&#39;] = array(</span>
<span class="x"> array(</span>
<span class="x"> &#39;route&#39; =&gt; &quot;#$moduleName/create&quot;,</span>
<span class="x"> &#39;label&#39; =&gt; &#39;LNK_NEW_RECORD&#39;,</span>
<span class="x"> &#39;acl_action&#39; =&gt; &#39;create&#39;,</span>
<span class="x"> &#39;acl_module&#39; =&gt; $moduleName,</span>
<span class="x"> &#39;icon&#39; =&gt; &#39;icon-plus&#39;,</span>
<span class="x"> ),</span>
<span class="x"> array(</span>
<span class="x"> &#39;route&#39; =&gt; &quot;#$moduleName&quot;,</span>
<span class="x"> &#39;label&#39; =&gt; &#39;LNK_LIST&#39;,</span>
<span class="x"> &#39;acl_action&#39; =&gt; &#39;list&#39;,</span>
<span class="x"> &#39;acl_module&#39; =&gt; $moduleName,</span>
<span class="x"> &#39;icon&#39; =&gt; &#39;icon-reorder&#39;,</span>
<span class="x"> ),</span>
<span class="x"> );</span>
</pre></div>


<p>If not create the file with that array. Next add the import action to
the array.</p>
<div class="highlight"><pre><span></span><span class="x">array(</span>
<span class="x"> &#39;route&#39; =&gt; &#39;#bwc/index.php?&#39; . http_build_query(</span>
<span class="x"> array(</span>
<span class="x"> &#39;module&#39; =&gt; &#39;Import&#39;,</span>
<span class="x"> &#39;action&#39; =&gt; &#39;Step1&#39;,</span>
<span class="x"> &#39;import_module&#39; =&gt; $moduleName,</span>
<span class="x"> )</span>
<span class="x"> ),</span>
<span class="x"> &#39;label&#39; =&gt;&#39;LBL_IMPORT&#39;,</span>
<span class="x"> &#39;acl_action&#39;=&gt;&#39;import&#39;,</span>
<span class="x"> &#39;acl_module&#39;=&gt;$moduleName,</span>
<span class="x"> &#39;icon&#39; =&gt; &#39;icon-upload&#39;,</span>
<span class="x"> ),</span>
</pre></div>


<h3>Add language setting</h3>
<p>Under /modules/<MODULES>/language/en_us.lang.php add into the
$mod_strings array(if it's not already there):</p>
<div class="highlight"><pre><span></span><span class="x">&#39;LBL_IMPORT&#39; =&gt; &#39;Import &#39;,</span>
</pre></div>


<h3>Finally</h3>
<p>The inevitable quick repair/rebuild.</p>
    </div>

    <footer>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="./author/shane-dowling.html">Shane Dowling</a></h3>
                        <p class="author-description">
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>


</div>


</body>
</html>