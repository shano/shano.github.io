<!DOCTYPE html>
<html lang="en">
<head>
        <title>Making Drupal 6 Development Suck Less</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="./theme/css/main.css" />
        <link href="https://shanedowling.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling Full Atom Feed" />
        <link href="https://shanedowling.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Shane Dowling Full RSS Feed" />
        <link href="https://shanedowling.com/feeds/category.slug.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling Categories Atom Feed" />
        <link href="https://shanedowling.com/feeds/category.slug.rss.xml" type="application/rss+xml" rel="alternate" title="Shane Dowling Categories RSS Feed" />
</head>
<body>

    <div class="main-nav-container">

        <div class="pure-g">
            <div class="pure-u-1 pure-u-lg-2-3">
                <div class="main-nav">
                    <ul class="main-nav-list">
                        <li class="main-nav-item"><a href="./" class="pure-menu-link">Shane Dowling</a></li>

                        <li class="main-nav-item"><a href="./category/til.html" class="pure-menu-link">TIL</a></li>
                        <li class="main-nav-item"><a href="./category/tech.html" class="pure-menu-link">Tech</a></li>
                        <li class="main-nav-item"><a href="./category/random.html" class="pure-menu-link">Random</a></li>
                        <li class="main-nav-item"><a href="./category/productivity.html" class="pure-menu-link">Productivity</a></li>
                        <li class="main-nav-item active"><a href="./category/posts.html" class="pure-menu-link">posts</a></li>
                        <li class="main-nav-item"><a href="./category/digital-minimalism.html" class="pure-menu-link">Digital Minimalism</a></li>
                    </ul>
                </div>
             </div>

             <div class="pure-u-1 pure-u-lg-1-3"></div>
        </div>

    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
            <div class="pure-u-3-4 meta-data">
                <a href="./category/posts.html" class="category">posts</a><br />

                <a class="author" href="./author/shane-dowling.html">Shane Dowling</a>
                &mdash; <abbr title="2013-10-03T00:00:00+00:00">Thu 03 October 2013</abbr>
            </div>
        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>Making Drupal 6 Development Suck Less</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <p><img alt="" src="images/1__pyKonP__4TTO__P9guQ1lY9A.jpeg"></p>
<p>So you’re here. Like myself probably stuck developing for `Drupal
6 `__. All the modules on-line are for
the latest and greatest versions of Drupal and you’re scouring posts
from 2009 to try find that deprecated module you really need. Well his
post is dedicated to making your life that little bit less painful,
because I too feel your pain.</p>
<h3>Better debugging with <a href="https://drupal.org/project/devel">devel</a>.</h3>
<p><strong>Installation</strong></p>
<ol>
<li>Install <a href="http://subversion.tigris.org/">subversion</a> (to allow devel to download the firePHP extension code needed).</li>
<li>Make sure <a href="http://drush.ws/">drush</a> is installed.</li>
<li>drush dl devel &amp;&amp; drush en devel</li>
<li>Enable user permissions for devel</li>
<li>Enable what you need to at <a href="http://root%5C_url.com/admin/settings/devel">http://rooturl.com/admin/settings/devel</a></li>
<li>Install <a href="https://getfirebug.com/">FireBug</a> and <a href="http://firephp.org/">FirePHP</a> on firefox and enable the Net Panel
     in firebug</li>
</ol>
<p><strong>Usage</strong></p>
<ol>
<li>Checkout watchdog output on firePHP, pretty cool eh?</li>
<li>You can see queries in the sidebar or if you’re logging them, here
     <a href="http://example.com/devel/queries">http://example.com/devel/queries</a></li>
<li>Directly output to firephp with(alternate WARN with ERROR or INFO):</li>
</ol>
<p>dfb($foo, ‘probably bad’, FirePHP::WARN);</p>
<h3>Drupal Specific Vim Config</h3>
<p><a href="https://github.com/joonty/vim-sauce"><strong>VimSauce</strong></a></p>
<p>I like to keep my vim configurations separate from each other so I don’t
end up with huge messy config files with settings overlapping and
breaking things. Before I used some shell aliases to alter symlinks to
different vim configurations I had. Now, I use <a href="https://github.com/joonty/vim-sauce">vimsauce</a> to manage them. Once you got VimSauce installed(I’d recommend Vundle) create a new Drupal specific sauce with</p>
<p>:SauceNew drupal</p>
<p>then edit it with</p>
<p>:SauceEdit drupal</p>
<p><a href="https://drupal.org/project/vimrc"><strong>Drupal Vimrc</strong></a></p>
<p>This project provides vimrc customisations for Drupal-specific editing. Exactly what</p>
<p>drush @none dl vimrc</p>
<p>This should install the file into ~/.drush/vimrc/bundle. Now you need to
configure your new vimsauce file to work with the drupal vimrc
customisations. The vimrc below should explain things. It’s a merge of
the vimsauce default settings, a file I found under
~/.drush/vimrc/examples/vimrc_timplunkett.vim and the pathogen
settings.</p>
<p>set nocompatible call pathogen#infect(‘/home/user/.drush/vimrc/bundle’) call pathogen#infect(‘/home/user/.vimsauce/drupal/bundle’) “ End of vimrc-install additions.</p>
<p>let g:current_dir = “~/code/drupal” exec ‘cd ‘ . g:current_dir</p>
<p>“ Allow Vim-only settings even if they break vi keybindings. set nocompatible</p>
<p>“ Enable filetype detection filetype plugin on</p>
<p>“ General settings set incsearch “Find as you type set scrolloff=2 “Number of lines to keep above/below cursor set number “Show line numbers set wildmode=longest,list “Complete longest string, then list alternatives set pastetoggle= “Toggle paste mode set fileformats=unix “Use Unix line endings set history=300 “Number of commands to remember set showmode “Show whether in Visual, Replace, or Insert Mode set showmatch “Show matching brackets/parentheses set backspace=2 “Use standard backspace behavior set hlsearch “Highlight matches in search set ruler “Show line and column number set formatoptions=1 “Don’t wrap text after a one-letter word set linebreak “Break lines when appropriate</p>
<p>“ Persistent Undo (vim 7.3 and later) if exists(‘&amp;undofile’) &amp;&amp; !&amp;undofile set undodir=~/.vim_runtime/undodir set undofile endif</p>
<p>“ Enable syntax highlighting if &amp;t_Co &gt; 1 syntax enable endif syntax on</p>
<p>“ Custom key mapping map :redo map :tabn map :tabp</p>
<p>“ Uncomment the following to have Vim jump to the last position when “ reopening a file if has(“autocmd”) au BufReadPost * if line(“‘“”) &gt; 0 &amp;&amp; line(“‘“”) &lt;= line(“$”) | exe “normal! g’”” | endif endif</p>
<h3>Sticking to a Coding Standard</h3>
<p>So I try to always adhere to the coding standard of whatever system I’m
using. Typically that’s easy but I’ve found getting my hands on a
automated check that ensures my code is up to drupal’s standards a
little difficult(especially with drupal 6). Firstly you need to install
PHP’s codesniffer, which I did using PEAR.</p>
<p>sudo pear install PHP_CodeSniffer</p>
<p>In the end I was forced to use a Drupal 7 specific codesniffer. This
project has actually been merged into the Coder project but as I’m using
Drupal 6, the current version of coder that works with Drupal 6 doesn’t
include the codesniffer. So I nabbed the latest standalone version of
drupal codesniffer.</p>
<p>wget <a href="http://ftp.drupal.org/files/projects/drupalcs-7.x-1.x-dev.tar.gz">http://ftp.drupal.org/files/projects/drupalcs-7.x-1.x-dev.tar.gz</a></p>
<p>I then extract it to my ~/.drush folder and symlink it to where pear has
placed php codesniffers various syntax checking config files</p>
<p>sudo ln -sv ~/.drush/drupalcs/Drupal $(pear config-getphp_dir)/PHP/CodeSniffer/Standards</p>
<p>Now, this is the setting that I’ve come across that apparently changes
phpcs to use Drupal as the standard which codesniffer adheres to.</p>
<h3>Use drupals codesniffer</h3>
<p>let g:syntastic_phpcs_conf=” — standard=Drupal — extensions=php,module,inc,install,test,profile,theme”</p>
<p>I could not get this to work. It simply refused to budge from the
standard PSR syntax checker that is the default for PHP codesniffer. I
was forced to just set the default to drupal’s.</p>
<p>sudo phpcs — config-set default_standard Drupal</p>
<p>This is a little annoying if you jump between standard PHP projects and
Drupal projects, so I added a system command call to my various vim
sauces to set php codesniffer to the correct standard. It should bug you
to enter a sudo password, but I’d rather that than having to explicitly
run these commands.</p>
<p>call system(“sudo phpcs — config-set default_standard Drupal”)</p>
<p>This post has already gotten very long but I’ll try to write something
up on getting unit-testing up and running with Drupal 6 at a later
stage. I can attest it is possible, just a bit of a pain in the ass.</p>
    </div>

    <footer>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="./author/shane-dowling.html">Shane Dowling</a></h3>
                        <p class="author-description">
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>


</div>


</body>
</html>