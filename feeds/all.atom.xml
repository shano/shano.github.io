<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Shane Dowling</title><link href="https://shanedowling.com/" rel="alternate"></link><link href="https://shanedowling.com/feeds/all.atom.xml" rel="self"></link><id>https://shanedowling.com/</id><updated>2025-02-11T13:57:09+00:00</updated><subtitle>Platform Engineering Manager</subtitle><entry><title>Homelab - Day 1 - Really Ghetto Data Storage</title><link href="https://shanedowling.com/homelab---day-1---data-storage.html" rel="alternate"></link><published>2025-02-11T13:57:09+00:00</published><updated>2025-02-11T13:57:09+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2025-02-11:/homelab---day-1---data-storage.html</id><summary type="html">&lt;h2&gt;Setting Up Storage for the Kubernetes Cluster&lt;/h2&gt;
&lt;p&gt;The first step in setting up my homelab Kubernetes cluster is ensuring some reliable data storage. Right now, I have two main categories of data in mind:&lt;/p&gt;
&lt;h3&gt;1. Operationally Critical Data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Needs RAID with redundancy&lt;/li&gt;
&lt;li&gt;Requires both on-site and off-site backups&lt;/li&gt;
&lt;li&gt;Approximately &lt;strong&gt;1TB …&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h2&gt;Setting Up Storage for the Kubernetes Cluster&lt;/h2&gt;
&lt;p&gt;The first step in setting up my homelab Kubernetes cluster is ensuring some reliable data storage. Right now, I have two main categories of data in mind:&lt;/p&gt;
&lt;h3&gt;1. Operationally Critical Data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Needs RAID with redundancy&lt;/li&gt;
&lt;li&gt;Requires both on-site and off-site backups&lt;/li&gt;
&lt;li&gt;Approximately &lt;strong&gt;1TB&lt;/strong&gt; of data&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2. Media Data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Non-critical, so no backups required&lt;/li&gt;
&lt;li&gt;Several terabytes of storage needed&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since the Kubernetes cluster depends on Operationally Critical Data, I need to establish a RAID-backed storage solution with proper backups before moving forward.&lt;/p&gt;
&lt;h2&gt;What I’ve Done So Far&lt;/h2&gt;
&lt;p&gt;In the spirit of keeping things cheap and hacky, I'm repurposing an old ThinkPad X230 as my server, paired with a few USB drives for RAID storage. Here’s what I’ve done:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Installed OpenMediaVault on the ThinkPad&lt;/li&gt;
&lt;li&gt;Wiped and configured two 500GB hard drives and one 1TB hard drive&lt;/li&gt;
&lt;li&gt;Set up RAID 5, providing 1TB of usable storage&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Key Learnings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;USB RAID is a really dodgy solution for data storage&lt;/strong&gt; – The OpenMediaVault UI didn’t even allow it, though setting it up via CLI was easy. This reinforces my concern that &lt;strong&gt;USB RAID isn’t a viable long-term solution&lt;/strong&gt;. So I guess I've learned I need to buy a NAS asap.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RAID setup was easier than expected&lt;/strong&gt; – I’ve avoided running RAID for years, but getting it working was surprisingly straightforward.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Networking will need an upgrade&lt;/strong&gt; – My BT Hub router and a small 5-in-1 switch aren’t going to cut it. A proper network switch may need to be another purchase.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is just the beginning, but storage is a critical first step. On to the next challenge!&lt;/p&gt;</content><category term="homelab"></category></entry><entry><title>Homelab Setup: The Journey to Kubernetes</title><link href="https://shanedowling.com/homelab-setup-the-journey-to-kubernetes.html" rel="alternate"></link><published>2025-02-10T20:50:46+00:00</published><updated>2025-02-10T20:50:46+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2025-02-10:/homelab-setup-the-journey-to-kubernetes.html</id><summary type="html">&lt;h2&gt;Why I'm Migrating My Self-Hosted Services&lt;/h2&gt;
&lt;p&gt;I've decided to migrate all my existing self-hosted services—and add a few new ones—to a Kubernetes (K8s) cluster that I'm going to build. There are several motivations behind this decision:&lt;/p&gt;
&lt;h3&gt;Learning Kubernetes Beyond Ephemeral Clusters&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;My role as an Engineering Manager at …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h2&gt;Why I'm Migrating My Self-Hosted Services&lt;/h2&gt;
&lt;p&gt;I've decided to migrate all my existing self-hosted services—and add a few new ones—to a Kubernetes (K8s) cluster that I'm going to build. There are several motivations behind this decision:&lt;/p&gt;
&lt;h3&gt;Learning Kubernetes Beyond Ephemeral Clusters&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;My role as an Engineering Manager at Syntasso involves a lot of K8s development using Kind, but these environments are entirely ephemeral. I want to experience the long-term challenges of operating a cluster to build greater empathy for our customers.&lt;/li&gt;
&lt;li&gt;I want to deepen my understanding of Kubernetes, particularly in areas like:&lt;ul&gt;
&lt;li&gt;Hardening a K8s cluster&lt;/li&gt;
&lt;li&gt;Managing multiple clusters effectively&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Increased Focus on Self-Hosting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The British government's baffling approach to tech privacy has pushed me toward self-hosting more of my personal services.&lt;/li&gt;
&lt;li&gt;My current setup is a mix of manually configured systems and Docker Compose-based services running on different machines. It’s time to bring structure to the chaos.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The Plan&lt;/h2&gt;
&lt;h3&gt;Time Constraints and Approach&lt;/h3&gt;
&lt;p&gt;I'm a dad with two small kids, so my time for this project is limited. My approach will be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Chipping away at it&lt;/strong&gt; for a few minutes each night.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Updating my progress&lt;/strong&gt; as I go along.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Keeping it cheap&lt;/strong&gt;—I'll work with my existing hardware for now. If this experiment proves successful, I may invest in better hardware later.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Minimising downtime&lt;/strong&gt;—I already have services running that I need to migrate carefully without disruptions.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Migration Phases&lt;/h3&gt;
&lt;p&gt;The migration will be broken down into multiple phases to ensure a smooth transition. My current focus is on:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Setting up RAID storage&lt;/strong&gt; for critical data (Nextcloud, Git-Tea, Pixelfed, databases) on an old laptop.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Keeping USB media drives on a thin client&lt;/strong&gt; until I migrate services to Kubernetes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Moving USB media drives to a MergerFS pool&lt;/strong&gt; for media storage before the final migration.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Building a Kubernetes cluster (Talos OS)&lt;/strong&gt; once storage is stable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Migrating services from Docker Compose&lt;/strong&gt; to Kubernetes with proper storage integration.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Rough Architecture&lt;/h2&gt;
&lt;p&gt;At the moment, everything will sit under the same LAN at home. However, as I progress, I may invest in a switch and introduce proper network segmentation.&lt;/p&gt;
&lt;p&gt;This is just the beginning. I'll document my learnings, mistakes, and adjustments along the way. Stay tuned!&lt;/p&gt;</content><category term="homelab"></category></entry><entry><title>The Hybrid Cloud Show is Live!</title><link href="https://shanedowling.com/the-hybrid-cloud-show-is-live.html" rel="alternate"></link><published>2024-04-05T16:45:59+00:00</published><updated>2024-04-05T16:45:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2024-04-05:/the-hybrid-cloud-show-is-live.html</id><summary type="html">&lt;p&gt;&lt;img src="images/hcs.jpg" height="400px"&gt;&lt;/p&gt;
&lt;p&gt;Exciting news – the first episode of our podcast, the &lt;a href="https://hybridcloudshow.com/"&gt;Hybrid Cloud Show&lt;/a&gt;, is finally here, part of the awesome &lt;a href="https://latenightlinux.com/"&gt;Late Night Linux podcast family&lt;/a&gt;! 💥 Join me and three very smart industry pros as we dive into the fascinating world of public cloud, private cloud, and everything in between. Check out …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img src="images/hcs.jpg" height="400px"&gt;&lt;/p&gt;
&lt;p&gt;Exciting news – the first episode of our podcast, the &lt;a href="https://hybridcloudshow.com/"&gt;Hybrid Cloud Show&lt;/a&gt;, is finally here, part of the awesome &lt;a href="https://latenightlinux.com/"&gt;Late Night Linux podcast family&lt;/a&gt;! 💥 Join me and three very smart industry pros as we dive into the fascinating world of public cloud, private cloud, and everything in between. Check out our first episode &lt;a href="https://hybridcloudshow.com/hcs01/"&gt;here&lt;/a&gt;.&lt;/p&gt;</content><category term="Podcast"></category></entry><entry><title>I'm launching a Platform Engineering Newsletter</title><link href="https://shanedowling.com/im-launching-a-platform-engineering-newsletter.html" rel="alternate"></link><published>2024-01-02T16:45:59+00:00</published><updated>2024-01-02T16:45:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2024-01-02:/im-launching-a-platform-engineering-newsletter.html</id><summary type="html">&lt;p&gt;Hello! I'm excited to share the first issue of our monthly journey through the world of platform engineering. This newsletter is all about the latest trends, insights, and resources in our field whether you're a seasoned expert or just starting out.&lt;/p&gt;
&lt;p&gt;You can find the first month &lt;a href="https://pemonthly.com/p/platform-engineering-monthly-december"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Each month …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hello! I'm excited to share the first issue of our monthly journey through the world of platform engineering. This newsletter is all about the latest trends, insights, and resources in our field whether you're a seasoned expert or just starting out.&lt;/p&gt;
&lt;p&gt;You can find the first month &lt;a href="https://pemonthly.com/p/platform-engineering-monthly-december"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Each month, I'll bring you a mix of news, case studies, upcoming events, and cool projects to keep you in the know. Feel free to share your thoughts, feedback, or anything exciting you've come across in platform engineering. As it was the holidays, I opted to send Decembers newsletter in January but expect this newsletter to come out on the final Tuesday of the month. &lt;/p&gt;</content><category term="Platform Engineering"></category></entry><entry><title>Kindle Scribe to Mastodon</title><link href="https://shanedowling.com/kindle-scribe-to-mastodon.html" rel="alternate"></link><published>2024-01-01T16:45:59+00:00</published><updated>2024-01-01T16:45:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2024-01-01:/kindle-scribe-to-mastodon.html</id><summary type="html">&lt;p&gt;&lt;img src="images/eink.jpg" height="400px"&gt;&lt;/p&gt;
&lt;h1&gt;Kindle Scribe to Mastodon&lt;/h1&gt;
&lt;p&gt;Over the holidays, I put together a fun little project to put out status updates on Mastodon. Of course, I used some spare time to make this as overly-engineered as possible.&lt;/p&gt;
&lt;h2&gt;Stringing It All Together&lt;/h2&gt;
&lt;p&gt;I wanted this to be event-driven and serverless and to give …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img src="images/eink.jpg" height="400px"&gt;&lt;/p&gt;
&lt;h1&gt;Kindle Scribe to Mastodon&lt;/h1&gt;
&lt;p&gt;Over the holidays, I put together a fun little project to put out status updates on Mastodon. Of course, I used some spare time to make this as overly-engineered as possible.&lt;/p&gt;
&lt;h2&gt;Stringing It All Together&lt;/h2&gt;
&lt;p&gt;I wanted this to be event-driven and serverless and to give me some experience toying with Terraform in AWS. Thankfully, what would be the most computationally challenging part is already handled by Amazon. The Kindle Scribe provides a means to convert a note to text and then email it to myself. I used my email provider to then forward it to AWS. I'm using Amazon to register a domain (click TLD domain names are only $3). I used route53 to hook that domain up to SES, then have SES invoke a Lambda when that particular email address is emailed from a particular email with a particular subject line. As I  can't send the email body directly to a Lambda, I'll need to write it to a bucket first, then have the lambda read from the s3 bucket. (Thankfully SES does pass a MessageID to the Lambda so we know which MessageID refers to to which event), you could also trigger an event from a bucket change but SES already offered, so I figured this was a bit simpler. Now that I've got it all triggering a Lambda, I can throw code at this problem.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_ses_domain_identity&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;ses_domain&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;domain&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;your_domain_name&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_ses_domain_dkim&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;ses_dkim&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;domain&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_ses_domain_identity.ses_domain.id&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kr"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;ses_domain_verification_token&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_ses_domain_identity.ses_domain.verification_token&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="kr"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;dkim_tokens&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_ses_domain_dkim.ses_dkim.dkim_tokens&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_ses_receipt_rule_set&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;main&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;rule_set_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;main-rule-set&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_ses_receipt_rule&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;store_in_s3_and_invoke_lambda&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;store-in-s3-and-invoke-lambda&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;rule_set_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_ses_receipt_rule_set.main.rule_set_name&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;recipients&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;your_inbound_email@your_domain_name&amp;quot;, &amp;quot;do-not-reply@amazon.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;enabled&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;true&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;scan_enabled&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;true&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nb"&gt;add_header_action&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;header_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Custom-Header&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;header_value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Added by SES&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;s3_action&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="na"&gt;bucket_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_s3_bucket.email_bucket.bucket&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;lambda_action&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="na"&gt;function_arn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;arn:aws:lambda:&amp;lt;region&amp;gt;:&amp;lt;account_id&amp;gt;:function:ProcessEmail&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="na"&gt;invocation_type&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Event&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;depends_on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;aws_lambda_permission.allow_ses&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# Grant SES permission to invoke the Lambda function&lt;/span&gt;

&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_lambda_permission&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;allow_ses&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;statement_id&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;AllowExecutionFromSES&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;action&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lambda:InvokeFunction&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;principal&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ses.amazonaws.com&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;function_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;${aws_lambda_function.process_email.function_name}&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kr"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;ses_domain_identity_arn&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_ses_domain_identity.ses_domain.arn&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_ses_email_identity&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;email_identity&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;email&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;your_recipient_email&amp;gt;&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_s3_bucket&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;email_bucket&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;bucket&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;your_email_storage_bucket&amp;gt;&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kr"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;&amp;quot;aws_s3_bucket_policy&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;&amp;quot;allow_ses_write&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;bucket&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_s3_bucket.email_bucket.id&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;policy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;jsonencode&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;Version&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;2012-10-17&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;Statement&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Action&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;s3:PutObject&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Effect&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Allow&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;${aws_s3_bucket.email_bucket.arn}/*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nb"&gt;Principal&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="na"&gt;Service&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ses.amazonaws.com&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;aws_iam_role&amp;quot; &amp;quot;lambda_exec_role&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;                 &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lambda_exec_role&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;assume_role_policy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;jsonencode&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Version&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;2012-10-17&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Statement&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;                                    &lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Action&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sts:AssumeRole&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;                      &lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Effect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Allow&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nb"&gt;Principal&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Service&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lambda.amazonaws.com&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="err"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;aws_iam_policy&amp;quot; &amp;quot;lambda_policy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lambda_policy&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;policy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;jsonencode&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="w"&gt;        &lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Version&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;2012-10-17&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;                          &lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Statement&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Action&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;s3:GetObject&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;s3:ListBucket&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;

&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Effect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Allow&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;${aws_s3_bucket.email_bucket.arn}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;${aws_s3_bucket.email_bucket.arn}/*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Action&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;logs:CreateLogGroup&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;logs:CreateLogStream&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;logs:PutLogEvents&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;

&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Effect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Allow&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="na"&gt;Resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;arn:aws:logs:*:*:*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# Attach the policy to the role&lt;/span&gt;

&lt;span class="err"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;aws_iam_role_policy_attachment&amp;quot; &amp;quot;lambda_attach&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;role&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_iam_role.lambda_exec_role.name&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;policy_arn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_iam_policy.lambda_policy.arn&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="err"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;aws_lambda_function&amp;quot; &amp;quot;process_email&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="na"&gt;function_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ProcessEmail&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;handler&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lambda_function.lambda_handler&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;runtime&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python3.10&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;role&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;aws_iam_role.lambda_exec_role.arn&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;filename&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;${path.module}/build/lambda_function.zip&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;source_code_hash&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;filebase64sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;${path.module}/build/lambda_function.zip&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="na"&gt;timeout&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;60&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Parsing the Email&lt;/h2&gt;
&lt;p&gt;It's slightly complicated as Amazon doesn't attach the content directly to the email; they provide a link to grab the text document. Thankfully, it doesn't require authentication, so with a regex, we can grab the URL and extract the text. The file itself is text split into pages. As my use-case is to flip to a new page, write a status, and post it to the web, I always just need to extract the latest page text.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;boto3&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;email&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;urllib&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;

&lt;span class="c1"&gt;# Initialize S3 client&lt;/span&gt;
&lt;span class="n"&gt;s3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boto3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;s3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Extract the message ID from the SES event                &lt;/span&gt;
&lt;span class="n"&gt;message_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Records&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mail&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;messageId&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;       

&lt;span class="c1"&gt;# Define the S3 bucket name and object key&lt;/span&gt;
&lt;span class="n"&gt;bucket_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;your_bucket_name&amp;gt;&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;object_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;message_id&lt;/span&gt;

&lt;span class="c1"&gt;# Get the email object from the S3 bucket&lt;/span&gt;
&lt;span class="n"&gt;email_object&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;s3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_object&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Bucket&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;bucket_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;object_key&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;email_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;email_object&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Body&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# Parse the email content&lt;/span&gt;
&lt;span class="n"&gt;parsed_email&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;message_from_bytes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email_content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Assuming the email is multipart&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;parsed_email&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;is_multipart&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;part&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;parsed_email&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;

&lt;span class="c1"&gt;# Find the HTML part of the email&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_content_type&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;text/html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;html_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_payload&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# Extract the URL using regex&lt;/span&gt;
    &lt;span class="n"&gt;url_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://www\.amazon\.com/gp/f\.html\?[^&amp;quot;]+&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;url_match&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;html_content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;url_match&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;file_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;url_match&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;# Download the file content using urllib&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;file_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="n"&gt;pages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Page \d+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file_content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="n"&gt;last_page_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pages&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# Get the last page content and strip leading/trailing whitespace&lt;/span&gt;
                    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Content to be published:&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;last_page_content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="c1"&gt;# send_blog_post(last_pagecontent) # Uncomment and replace with your function&lt;/span&gt;
                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Failed to download the file. Status code:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Error downloading the file:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;URL not found in the email content.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Email is not multipart, unable to parse.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Posting the Status&lt;/h2&gt;
&lt;p&gt;Now that we've got the text, it's time to post it online. As I'm using omg.lol, I will post it to my status.lol site, which will also submit it to my social.lol Mastodon account. Obviously, we can plug in any service that provides API access.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;urllib&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;send_post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;address_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;your_omg.lol_name&amp;gt;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;api_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;your_secret&amp;gt;&amp;quot;&lt;/span&gt;  &lt;span class="c1"&gt;# Extract from secret manager or parameter store&lt;/span&gt;

    &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;status&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;external_url&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://example.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="n"&gt;encoded_data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dumps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# Prepare the request&lt;/span&gt;
&lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;https://api.omg.lol/address/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;address_name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/statuses/&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Authorization&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Bearer &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;api_key&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;application/json&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;req&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;encoded_data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;POST&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# Send the request&lt;/span&gt;
&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;response_body&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Response from server:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response_body&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;URLError&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Error sending request:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reason&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Quick Tip&lt;/h2&gt;
&lt;p&gt;If you're not confident Amazon will parse all your text correctly, you can always preview the conversion to text before emailing it. Just hit 'Convert to Text and Email', rather than 'Quick Send' it.&lt;/p&gt;
&lt;p&gt;And that was a fun project that's started to motivate me to write more on my Kindle. In fact, I initially wrote this entire blog post on my Kindle. Thanks for reading!&lt;/p&gt;</content><category term="Digital Minimalism"></category></entry><entry><title>Make your smartphone a little dumber</title><link href="https://shanedowling.com/make-your-smartphone-a-little-dumber.html" rel="alternate"></link><published>2023-09-01T16:45:59+00:00</published><updated>2023-09-01T16:45:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2023-09-01:/make-your-smartphone-a-little-dumber.html</id><summary type="html">&lt;p&gt;&lt;img alt="Photo by Thanos Pal on Unsplash" src="images/dumb-punkt.jpg" height="400px"&gt;&lt;/p&gt;
&lt;p&gt;For many, &lt;a href="switching-to-a-dumbphone-3b090f8ad709.html"&gt;MANY&lt;/a&gt; years, I've been an advocate for the simplicity of dumbphones. My go-to? The LightPhone 2. However, modern life sometimes demands the functionalities of a smartphone, such as banking or GPS navigation. Every once in a while, I wish my smartphone would be just a touch simpler, but …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="Photo by Thanos Pal on Unsplash" src="images/dumb-punkt.jpg" height="400px"&gt;&lt;/p&gt;
&lt;p&gt;For many, &lt;a href="switching-to-a-dumbphone-3b090f8ad709.html"&gt;MANY&lt;/a&gt; years, I've been an advocate for the simplicity of dumbphones. My go-to? The LightPhone 2. However, modern life sometimes demands the functionalities of a smartphone, such as banking or GPS navigation. Every once in a while, I wish my smartphone would be just a touch simpler, but I can't abandon its smart features entirely. There are times I need them, especially for those updates or browser-based app handshakes.&lt;/p&gt;
&lt;p&gt;Thus, I've developed two scripts: dumbify and smartify. The project is &lt;a href="https://github.com/shano/dumbphone"&gt;here&lt;/a&gt; and here's your guide:&lt;/p&gt;
&lt;p&gt;Prerequisites:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Backup all essential data on your phone.&lt;/li&gt;
&lt;li&gt;Be familiar with your phone settings.&lt;/li&gt;
&lt;li&gt;Prepare a list of apps you want to uninstall, noting their full package names. If you're unsure, "Full Package Names" on F-Droid can assist.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Go to your phone settings and enable developer mode.&lt;/li&gt;
&lt;li&gt;Activate USB debugging.&lt;/li&gt;
&lt;li&gt;Connect your phone to your laptop.&lt;/li&gt;
&lt;li&gt;Run ./dumbify with your list of apps to uninstall. This script will identify these apps, create backups on your computer, and then remove them from your phone, while preserving app data.&lt;/li&gt;
&lt;li&gt;When you need your phone's advanced features again, simply run ./smartify to restore.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note:
I tried exporting the Google Play Store using this method and encountered an issue. I had to manually address it with GrapheneOS. It's not ideal, but it's a solution. I welcome any feedback on this.&lt;/p&gt;
&lt;p&gt;Here's to the balance between simplicity and functionality,&lt;/p&gt;</content><category term="Digital Minimalism"></category></entry><entry><title>Streamlining OS Development Pipelines for the Beepberry - A Fun Challenge</title><link href="https://shanedowling.com/streamlining-os-development-pipelines-for-the-beepberry.html" rel="alternate"></link><published>2023-06-05T13:32:59+00:00</published><updated>2023-06-05T13:32:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2023-06-05:/streamlining-os-development-pipelines-for-the-beepberry.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1_6nkAxHBzMyFB-k06nx5jdg.png"&gt;&lt;/p&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Imagine a cool device that brings together an LCD screen, Raspberry Pi Zero, and a Blackberry keyboard – that's the Beepberry! It's designed to work like a WiFi-only keyboard phone, and one of the main goals is to reach a super-fast boot time of under 5 seconds. Sounds challenging, right …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1_6nkAxHBzMyFB-k06nx5jdg.png"&gt;&lt;/p&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Imagine a cool device that brings together an LCD screen, Raspberry Pi Zero, and a Blackberry keyboard – that's the Beepberry! It's designed to work like a WiFi-only keyboard phone, and one of the main goals is to reach a super-fast boot time of under 5 seconds. Sounds challenging, right? Well, to speed up the development process and test boot optimization, using QEMU to emulate the OS is a smart move. In this blog post, we'll explore the tough parts of creating pipelines for entire operating systems, their limitations, and the benefits that the Beepberry project will gain from using QEMU.&lt;/p&gt;
&lt;h2&gt;The Tricky Bits in OS Development Pipelines&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Not-so-accurate Timings: When using QEMU to emulate the OS, the boot time measurements might not be spot-on compared to the real hardware. But hey, at least the improvements you see in the emulator should show relative progress on the device!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hardware Hurdles: The Raspberry Pi Zero is a nifty and affordable choice, but it might have some constraints when it comes to processing power and memory. These factors can have an impact on the overall performance and boot time of the OS.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Emulation Roadblocks: QEMU might not support every single hardware feature of the Raspberry Pi Zero or the Blackberry keyboard, which could lead to some differences in how the system behaves during emulation and actual usage.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;The Perks of Emulation in OS Development&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;DIY Development: With QEMU, you can work on the project right from your own computer, without needing the actual Beepberry device. This makes the development process faster and allows for quicker testing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Smooth CI Pipelines: Emulating the OS means you can integrate the project into continuous integration (CI) pipelines, making it easy to test and validate code automatically with each commit or pull request. This helps make sure any changes are solid before they're merged, boosting overall reliability.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test It All: Why not test the whole shebang? Emulating the entire OS lets you check everything from boot optimization to app performance and system stability. This big-picture approach to testing helps find potential issues and areas for improvement more effectively.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fast Prototyping: Emulation speeds up development cycles because you can test new features and optimizations without having to flash the OS onto the physical device every time. This saves loads of time on repetitive tasks and makes the development process a breeze.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Developing a top-notch pipeline for the Beepberry project's operating system is no walk in the park, with challenges like not-so-accurate timings and hardware hurdles. But by using QEMU for emulation, the development process becomes way more streamlined, enabling DIY development, smooth CI pipelines, system-wide testing, and fast prototyping. By tackling these challenges head-on and focusing on constant improvement, the Beepberry project has the potential to hit that amazing sub-5 second boot time and deliver a snappy, reliable WiFi-only keyboard phone.&lt;/p&gt;</content><category term="Platform Engineering"></category></entry><entry><title>Harnessing the Power of NixOS for Platform Engineering</title><link href="https://shanedowling.com/harnessing-the-power-of-nixos-for-platform-engineering.html" rel="alternate"></link><published>2023-03-19T13:32:59+00:00</published><updated>2023-03-19T13:32:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2023-03-19:/harnessing-the-power-of-nixos-for-platform-engineering.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1*TGyS3TCFr2HNkaxm6B1T7Q@2x.jpeg"&gt;&lt;/p&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;NixOS is an innovative and powerful Linux distribution built on top of the Nix package manager. Its unique approach to package and configuration management sets it apart from traditional Linux distributions, making it an excellent choice for platform engineering tasks. In this blog post, we’ll explore the benefits …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1*TGyS3TCFr2HNkaxm6B1T7Q@2x.jpeg"&gt;&lt;/p&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;NixOS is an innovative and powerful Linux distribution built on top of the Nix package manager. Its unique approach to package and configuration management sets it apart from traditional Linux distributions, making it an excellent choice for platform engineering tasks. In this blog post, we’ll explore the benefits of using NixOS for platform engineering and provide an overview of its key features.
Immutable Infrastructure and Reproducible Builds&lt;/p&gt;
&lt;p&gt;NixOS’s immutability and reproducibility are its most significant strengths. All software packages and system configurations are stored in an isolated and immutable manner, ensuring that any changes to the system will not affect existing dependencies. This approach allows for consistent and reproducible builds, reducing the risk of “works on my machine” issues and simplifying deployment across environments.&lt;/p&gt;
&lt;h2&gt;Declarative System Configuration&lt;/h2&gt;
&lt;p&gt;NixOS relies on a declarative configuration language, which enables users to define the desired state of their system in a single configuration file. This approach promotes version control, collaboration, and easier system maintenance. Platform engineers can quickly and easily define dependencies, services, and configurations, allowing for rapid deployment and updates.
Rollbacks and Atomic Upgrades&lt;/p&gt;
&lt;p&gt;NixOS’s atomic upgrades and rollbacks are invaluable for platform engineering, as they minimize the risk of downtime during system updates. Since all packages are stored in isolation, updates can be performed atomically, without interfering with running services. If an issue arises after an update, the system can be rolled back to a previous state with minimal effort, ensuring stability and reliability.
Efficient Package Management&lt;/p&gt;
&lt;p&gt;The Nix package manager is at the core of NixOS and offers several advantages over traditional package managers. It allows for multiple versions of packages to coexist without conflicts, supports cross-compilation for different platforms, and provides an efficient binary cache, reducing build times and bandwidth consumption.&lt;/p&gt;
&lt;h2&gt;Integration with DevOps Tools&lt;/h2&gt;
&lt;p&gt;NixOS’s unique features make it compatible with popular DevOps tools and practices. It can be easily integrated with continuous integration (CI) and continuous deployment (CD) pipelines, containerization tools like Docker, and orchestration platforms like Kubernetes. NixOS’s reproducibility and atomic updates ensure that development, staging, and production environments remain consistent, streamlining the deployment process.&lt;/p&gt;
&lt;h2&gt;Customizing NixOS for Your Platform Engineering Needs&lt;/h2&gt;
&lt;p&gt;NixOS is highly customizable, allowing platform engineers to create tailored solutions for their specific use cases. By leveraging the Nix expression language and the vast package repository, engineers can build custom packages, modules, and system configurations that meet their requirements while taking advantage of NixOS’s core benefits.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;NixOS offers a unique and powerful approach to system and package management that can greatly benefit platform engineering tasks. Its immutable infrastructure, reproducible builds, declarative configuration, and efficient package management make it an excellent choice for developing and maintaining scalable and reliable systems. By incorporating NixOS into your platform engineering toolkit, you can streamline your development and deployment processes, ultimately leading to more stable and manageable systems.&lt;/p&gt;</content><category term="Platform Engineering"></category></entry><entry><title>De-risk early when engineering platforms</title><link href="https://shanedowling.com/de-risk-early-when-engineering-platforms.html" rel="alternate"></link><published>2023-03-11T13:32:59+00:00</published><updated>2023-03-11T13:32:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2023-03-11:/de-risk-early-when-engineering-platforms.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1*kDMCR1b1FEdKc2qS7WpelA@2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Platform engineering encompasses a broad domain with continually evolving frontiers that require overcoming new challenges to level up the solutions offered to engineers. However, this evolution can lead to situations where previously-made assumptions may no longer be applicable to new solutions.&lt;/p&gt;
&lt;p&gt;Our team recently encountered this scenario when using AWS …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1*kDMCR1b1FEdKc2qS7WpelA@2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Platform engineering encompasses a broad domain with continually evolving frontiers that require overcoming new challenges to level up the solutions offered to engineers. However, this evolution can lead to situations where previously-made assumptions may no longer be applicable to new solutions.&lt;/p&gt;
&lt;p&gt;Our team recently encountered this scenario when using AWS Stacksets across multi-account/region rollouts of our platform, which highlighted some interesting dependency challenges that we only discovered at the 11th hour of our project. The new world introduced edge cases that we didn’t anticipate, and we learned that it’s crucial to identify unknowns early and be honest about them. It’s essential to deliver a first step that cuts across those unknowns as soon as possible and iterate from there, even if that means doing something hacky. If a hack doesn’t work, it’s better to discard it than a polished solution that would never work.&lt;/p&gt;
&lt;p&gt;Ultimately, our lesson was to de-risk early and embrace a growth mindset that values learning from failures and leveraging them to improve.&lt;/p&gt;</content><category term="Platform Engineering"></category></entry><entry><title>Reduce developer cognitive load with nix</title><link href="https://shanedowling.com/reduce-developer-cognitive-load-with-nix.html" rel="alternate"></link><published>2023-03-11T13:32:59+00:00</published><updated>2023-03-11T13:32:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2023-03-11:/reduce-developer-cognitive-load-with-nix.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1*pKKqrJIhwCjSWjfz2BIQPw@2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Nixpkg is a package manager that uses a purely functional approach to package management, isolating packages and ensuring that there are no conflicts between them. It provides a powerful language for defining packages, which makes it easy to manage dependencies and ensure that software environments are reproducible and reliable. Additionally …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1*pKKqrJIhwCjSWjfz2BIQPw@2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Nixpkg is a package manager that uses a purely functional approach to package management, isolating packages and ensuring that there are no conflicts between them. It provides a powerful language for defining packages, which makes it easy to manage dependencies and ensure that software environments are reproducible and reliable. Additionally, Nixpkg makes it easy to manage multiple software environments and share projects with other developers.&lt;/p&gt;
&lt;p&gt;In addition to Nixpkg, there are two other tools that can be used in conjunction with Nix to improve developer productivity: Homemanager and Direnv.&lt;/p&gt;
&lt;p&gt;Homemanager is a tool for managing your home directory configuration files. With Homemanager, you can easily store your dotfiles in a Git repository, and use Nix to manage the installation and configuration of your dotfiles on different systems. This ensures that your configuration files are consistent across all your systems, and that you can easily set up a new system with all your preferred configuration settings.&lt;/p&gt;
&lt;p&gt;Here’s an example of how to use Homemanager to manage your Vim configuration:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# In your home directory, create a directory for your Homemanager configuration&lt;/span&gt;
mkdir&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;~/.config/homemanager

&lt;span class="c1"&gt;# Create a Git repository for your Homemanager configuration&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~/.config/homemanager
git&lt;span class="w"&gt; &lt;/span&gt;init

&lt;span class="c1"&gt;# Add a configuration file for Vim&lt;/span&gt;
cat&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;vim.nix&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;{ config, pkgs, ... }:&lt;/span&gt;

&lt;span class="s"&gt;{&lt;/span&gt;
&lt;span class="s"&gt;  environment.variables.VIMINIT = &amp;quot;~/.vim/vimrc&amp;quot;;&lt;/span&gt;

&lt;span class="s"&gt;  home.file.&amp;quot;.vimrc&amp;quot;.text = &amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="s"&gt;    set nocompatible&lt;/span&gt;
&lt;span class="s"&gt;    set backspace=indent,eol,start&lt;/span&gt;
&lt;span class="s"&gt;    set number&lt;/span&gt;
&lt;span class="s"&gt;    set hlsearch&lt;/span&gt;
&lt;span class="s"&gt;    set incsearch&lt;/span&gt;
&lt;span class="s"&gt;    set ignorecase&lt;/span&gt;
&lt;span class="s"&gt;    set smartcase&lt;/span&gt;
&lt;span class="s"&gt;    set showcmd&lt;/span&gt;
&lt;span class="s"&gt;    set showmatch&lt;/span&gt;
&lt;span class="s"&gt;    set laststatus=2&lt;/span&gt;
&lt;span class="s"&gt;    set statusline=%&amp;lt;%F\ %h%m%r%=%-14.(%l,%c%V%)\ %P&lt;/span&gt;
&lt;span class="s"&gt;  &amp;#39;&amp;#39;;&lt;/span&gt;
&lt;span class="s"&gt;}&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;

&lt;span class="c1"&gt;# Install your Vim configuration using Homemanager&lt;/span&gt;
nix-channel&lt;span class="w"&gt; &lt;/span&gt;--add&lt;span class="w"&gt; &lt;/span&gt;https://nixos.org/channels/nixpkgs-unstable
nix-channel&lt;span class="w"&gt; &lt;/span&gt;--update
nix-env&lt;span class="w"&gt; &lt;/span&gt;-iA&lt;span class="w"&gt; &lt;/span&gt;nixpkgs.homemanager
homemanager&lt;span class="w"&gt; &lt;/span&gt;switch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In this example, we’re using Homemanager to manage our Vim configuration. We’re creating a Git repository in our home directory, and adding a configuration file for Vim in Nix format. We’re then using Homemanager to install our Vim configuration on the current system, using the homemanager switch command.&lt;/p&gt;
&lt;p&gt;Another tool that can be used with Nix to improve developer productivity is Direnv. Direnv is a shell extension that can be used to load and unload environment variables based on your current directory. With Direnv, you can easily manage your software environments on a per-project basis, ensuring that each project has the required dependencies and configuration settings.&lt;/p&gt;
&lt;p&gt;Here’s an example of how to use Direnv with Nixpkg to manage your software environment:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Install Direnv&lt;/span&gt;
nix-env&lt;span class="w"&gt; &lt;/span&gt;-iA&lt;span class="w"&gt; &lt;/span&gt;nixpkgs.direnv

&lt;span class="c1"&gt;# Add the following to your shell profile&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;direnv&lt;span class="w"&gt; &lt;/span&gt;hook&lt;span class="w"&gt; &lt;/span&gt;bash&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Create a .envrc file in your project directory&lt;/span&gt;
cat&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;.envrc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;use nix&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;

&lt;span class="c1"&gt;# Allow the .envrc file&lt;/span&gt;
direnv&lt;span class="w"&gt; &lt;/span&gt;allow&lt;span class="w"&gt; &lt;/span&gt;.

&lt;span class="c1"&gt;# Now you can use Nixpkg commands inside your project directory, and they will use the software environment defined in the .envrc file&lt;/span&gt;
nix-env&lt;span class="w"&gt; &lt;/span&gt;-iA&lt;span class="w"&gt; &lt;/span&gt;nixpkgs.python
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In this example, we’re using Direnv to manage our software environment on a per-project basis. We’re creating a .envrc file in our project directory, and telling Direnv to load the nix shell hook. This will automatically load the software environment defined in the .envrc file when we enter the project directory.&lt;/p&gt;
&lt;p&gt;Nixpkg, Homemanager, and Direnv are three powerful tools that can be used together to improve developer productivity. They simplify package management, manage configuration files, and manage software environments on a per-project basis. By using these tools together, developers can streamline their workflow, reduce time spent managing dependencies and configuration files, and focus on writing high-quality software.&lt;/p&gt;</content><category term="Platform Engineering"></category></entry><entry><title>Physical vs Logical resources</title><link href="https://shanedowling.com/physical-vs-logical-resources.html" rel="alternate"></link><published>2022-07-06T00:00:00+01:00</published><updated>2022-07-06T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2022-07-06:/physical-vs-logical-resources.html</id><summary type="html">&lt;p&gt;Logical ID The logical ID must be alphanumeric (A-Za-z0-9) and unique
within the template. Use the logical name to reference the resource in
other parts of the template. Physical ID A physical ID, which is the
actual assigned name for that resource, such as an EC2 instance ID or an …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Logical ID The logical ID must be alphanumeric (A-Za-z0-9) and unique
within the template. Use the logical name to reference the resource in
other parts of the template. Physical ID A physical ID, which is the
actual assigned name for that resource, such as an EC2 instance ID or an
S3 bucket name. Use the physical IDs to identify resources outside of
AWS CloudFormation templates, but only after the resources have been
created. Eg EC2 in the console&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>How to manage Podcasts on an iPod Classic on Linux</title><link href="https://shanedowling.com/how-to-manage-podcasts-on-an-ipod-classic-on-linux.html" rel="alternate"></link><published>2022-02-26T00:00:00+00:00</published><updated>2022-02-26T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2022-02-26:/how-to-manage-podcasts-on-an-ipod-classic-on-linux.html</id><summary type="html">&lt;p&gt;After my last post generated some interesting discussion on &lt;a class="reference external" href="https://news.ycombinator.com/item?id=30236251"&gt;Hacker
News&lt;/a&gt;, I figured it
was worth a little guide on how I manage my iPod Classic on a Linux
machine. Thankfully some very clever people put together the drivers and
software to make this a breeze, but there's a few …&lt;/p&gt;</summary><content type="html">&lt;p&gt;After my last post generated some interesting discussion on &lt;a class="reference external" href="https://news.ycombinator.com/item?id=30236251"&gt;Hacker
News&lt;/a&gt;, I figured it
was worth a little guide on how I manage my iPod Classic on a Linux
machine. Thankfully some very clever people put together the drivers and
software to make this a breeze, but there's a few things you need to
know that took some figuring out for me. So I'll share them here.&lt;/p&gt;
&lt;div class="section" id="connecting-your-ipod"&gt;
&lt;h2&gt;Connecting your iPod&lt;/h2&gt;
&lt;p&gt;This should be the easiest thing to do. Simply connect your iPod to your
machine and it should appear as an external device. Here's my iPod
appearing under Thunar after I plug it in:&lt;/p&gt;
&lt;img alt="" src="./images/ipod_thunar.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="managing-podcasts"&gt;
&lt;h2&gt;Managing Podcasts&lt;/h2&gt;
&lt;p&gt;To manage podcasts on my laptop I use
&lt;a class="reference external" href="https://gpodder.github.io/"&gt;gPodder&lt;/a&gt;. I'm a huge fan of it. The only
limitation really is there may be podcasts locked to sources like
Spotify, but if you're listening to Podcasts on an iPod you'll hit this
limitation whatever you do. A quick `sudo apt install gpodder` should
install it on most debian-based systems.&lt;/p&gt;
&lt;img alt="" src="./images/gpodder.png" /&gt;
&lt;p&gt;So grab some decent Podcasts via RSS and download them. On my machine
the media files will appear under `~/gPodder/Downloads`&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="adding-podcasts-to-your-ipod"&gt;
&lt;h2&gt;Adding Podcasts to your iPod&lt;/h2&gt;
&lt;p&gt;Once they're downloaded, it's time to add these Podcasts to your iPod,
for this we need &lt;a class="reference external" href="https://wikiless.org/wiki/Gtkpod?lang=en"&gt;gtkpod&lt;/a&gt;.
Again a `sudo apt install gtkpod` should do the job in terms of
installation.&lt;/p&gt;
&lt;p&gt;This is what it should look like once you've started gtkpod and
connected your iPod.&lt;/p&gt;
&lt;img alt="" src="./images/gtkpod_initial.png" /&gt;
&lt;p&gt;You should already have a Podcasts playlist in gtkpod, if not you will
need to create it. Once you do, this is the playlist to add media to and
any media added will then be recognised as Podcasts on your iPod. If you
don't, it gets lost in your larger media collection(and it won't have
resume support). Next step is to start adding Podcasts to your playlist.
You only need to do this once, then it's just a case of syncing your
media. So highlight the Podcasts playlist like so:&lt;/p&gt;
&lt;img alt="" src="./images/gtkpod_highlight_podcasts.png" /&gt;
&lt;p&gt;then in the menu bar, hit &amp;quot;Music&amp;quot; then &amp;quot;Add Folder&amp;quot; and select the
folder where gPodder downloaded your Podcasts to.&lt;/p&gt;
&lt;img alt="" src="./images/gtkpod_add_folder.png" /&gt;
&lt;p&gt;It should start processing your files and adding them to your iPod. It
might be a bit unresponsive for a while. Repeat for any Podcasts you
want to add, making sure you add these folders to the Podcast playlist
in gtkpod. When done, make sure to eject your iPod in gtkpod, then eject
it from your filesystem. Podcasts should now appear on your iPod!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="on-going-podcast-management"&gt;
&lt;h2&gt;On-going Podcast management&lt;/h2&gt;
&lt;p&gt;Now that your folders have been added, gtkpod will remember to look in
these locations next time so when you want to grab any new Podcast
episodes and sync them to your iPod, it's pretty simple.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Open up gPodder and it will check for any new episodes and ask you if
you wish to download them. Use the time to delete any old episodes of
Podcasts you've already listened to.&lt;/li&gt;
&lt;li&gt;Once downloaded, mount your iPod, open gtkpod right click on your
Podcasts playlist and hit &amp;quot;Sync Playlist with dir(s)&amp;quot;, it'll give you
a prompt to say which files with be added and removed. Hit okay and
your iPod will be up to date.&lt;/li&gt;
&lt;/ol&gt;
&lt;img alt="" src="./images/ipod_sayer.jpeg" /&gt;
&lt;p&gt;And that's my process, if you have any suggestion for how you do this
better, &lt;a class="reference external" href="https://shanedowling.com/pages/contact.html"&gt;let me know&lt;/a&gt;!&lt;/p&gt;
&lt;/div&gt;
</content><category term="Digital Minimalism"></category></entry><entry><title>Consuming Content Like it's the 90s</title><link href="https://shanedowling.com/consuming-content-like-its-the-90s.html" rel="alternate"></link><published>2022-02-06T00:00:00+00:00</published><updated>2022-02-06T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2022-02-06:/consuming-content-like-its-the-90s.html</id><summary type="html">&lt;p&gt;It’s the 2020s, we continue to become more connected that we’ve ever
been, and I hate it! I don’t have the self-control needed to handle
these always-on devices. It’s awful. They’re all so incredibly powerful
and give so much in terms of information. I, however …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It’s the 2020s, we continue to become more connected that we’ve ever
been, and I hate it! I don’t have the self-control needed to handle
these always-on devices. It’s awful. They’re all so incredibly powerful
and give so much in terms of information. I, however will be on reddit
or hackernews pretending I’m productive reading about someone else’s
terrificly productive project. I’ve lived with my brain enough to know,
uncontrolled smartphones aren’t really for me. I’ve written elsewhere
&lt;a class="reference external" href="https://shanedowling.com/make-the-smartphone-dumb-again.html"&gt;how my smartphone is basically a dumb
one&lt;/a&gt;,
but I’ve tried to replace the various pieces of value my phone delivers
with more dedicated devices.&lt;/p&gt;
&lt;p&gt;Today, it’s all about Podcasts and Audiobooks. There’s Spotify,
Overcast, Audible and all these other great Podcast apps, but sigh, they
all involve the black rectangle of addictiveness. I’ve been toying with
Digital Minimalism on and off since reading Cal Newports books and
actually &lt;a class="reference external" href="https://shanedowling.com/category/digital-minimalism.html"&gt;long
before&lt;/a&gt;. I
wanted more dedicated devices as a response to phone’s just doing
everything. I didn’t want to constantly feel around for a single device
to entertain me in limitless ways. So lets see if we can find a
reasonable replacement.&lt;/p&gt;
&lt;p&gt;Now I am almost constantly listening to either audiobooks or Podcasts.
With two kids, audio is about the best bet you’ll get in terms of
engaging drama that won’t be interrupted within ten minutes. There are
some excellent Podcasts dramas too. Blackout, and We’re Alive are just
two(especially if you’re into dystopias like myself). So we need a way
to listen to some Podcasts. What are the options available outside of
the black rectangles?&lt;/p&gt;
&lt;div class="section" id="version-1-minidiscs-terrible-first-idea"&gt;
&lt;h2&gt;Version 1 – Minidiscs, terrible first idea&lt;/h2&gt;
&lt;p&gt;So I am a big fan of Minidiscs, I love them as a format and I love that
my guilty please audio listening genre(synthwave!) are still releasing
albums on this format. It’s terrific. There’s a pretty good electron app
to manage tracks, and it’s just such an enjoyable and tactile format. So
lets give Podcasts a try on this thing.&lt;/p&gt;
&lt;p&gt;I gave Podcasts on Minidiscs a real go, even printed out per-podcasts
discs covers, look how nice they look!&lt;/p&gt;
&lt;img alt="" src="./images/podcast-minidiscs.jpeg" /&gt;
&lt;p&gt;But this was a total disaster. The limited audio length was an absolute
killer. Trying to split podcasts and audiobooks amongst multiple discs
was painful. The write speeds being so slow, by the time a podcast was
written to the disc, it felt like the next one would be released. It was
terrible, I love Minidiscs, but no sane person could do this. Any
requirement to that needs frequent writes to a Minidiscs are doomed to
fail. Music and albums would be fine, but anything regularly needing
writing, no change. Learn from my lessons(or maybe you were smart enough
to not do stupid things in the first place)!&lt;/p&gt;
&lt;img alt="" src="./images/minidisc-and-player.jpeg" /&gt;
&lt;/div&gt;
&lt;div class="section" id="version-2-it-s-the-future-ugh"&gt;
&lt;h2&gt;Version 2 – It's the future! Ugh.&lt;/h2&gt;
&lt;p&gt;Okay, let's go from year 1992 to 1997 and try one of those futuristic
MP3 players. I decided to pick up a Victure Bluetooth MP3 Player and
yeah, it worked, but the experience was painful. Getting files on was
dead-easy, it just mounted as a filesystem. So the minidisc write
problems are solved, great. However, the experience of navigating and
listening to Podcasts left a LOT to be desired. These things don’t
support podcasts and the UI is just terrible on this tiny screen.
Without Podcast support, there’s no way to resume anything, and hopping
between Podcasts or pausing and leaving the device sucks. With serious
consequences, this maybe could work, but I feel like this would be too
painful for me not to just revert back to the black rectangle of
distractedness. MP3s are good though, this format might just have a
future.&lt;/p&gt;
&lt;img alt="" src="./images/victure.jpeg" /&gt;
&lt;/div&gt;
&lt;div class="section" id="version-3-just-right-just-about"&gt;
&lt;h2&gt;Version 3 – Just right, just about….&lt;/h2&gt;
&lt;p&gt;This time I opted for a heavy-weight. I didn’t want to mess around with
another cheaply produced modern MP3 player. If I was going MP3 I wanted
it to be the Rolls-Royce of relatively cheap mp3 players. Perhaps made
by the most valuable company on the planet at a time when it’s near
Jesus-like leader was at the peak of his powers. With that in mind, I
opted for an iPod Video 5th generation and in short, Jobs and all those
involved produced an almost perfect product. It’s well-made product,
really, really well-made. Especially considering it’s still going strong
20 years after its initial release. I’m putting it through it’s paces
too, I’ve been using this daily for 6 months, and it’s held up really
well.&lt;/p&gt;
&lt;p&gt;It supports Podcasts and Audiobooks out of the box, has resume support
and a really nice, easy to use UI. It’s staggering how good this UI is,
all things considered. Time has not seriously improved or developed MP3
products at all. I even have Rockbox installed on my iPod(as I just
assumed it would be better), but it genuinely is a poorer experience. No
Podcast support killed it out of the box for me, and generally it just
seems like it has a number of meaningless bells and whistles but nothing
to improve the actual core offering of the MP3 player.&lt;/p&gt;
&lt;p&gt;In terms of a serious evaluation though, I’ve used this iPod for around
6 months now, I listen to Podcasts/Audiobooks on it daily, from a
variety of topics. If you’re looking for a (currently) inexpensive and
also easy way to manage and listening to Podcasts on the go, I cannot
recommend anything better, but if you have any better suggestions, do
reach out, and I’ll happily add them onto the bottom of this post.&lt;/p&gt;
&lt;p&gt;There are some limitations to this, I obviously need to manage
downloading Podcast and then transfer them to my iPod, but generally
that’s sort of done in the background while I’m doing other things. I’ll
write up a post on managing an iPod here. There’s some effort involved,
but once it’s setup it’s all good.&lt;/p&gt;
&lt;img alt="" src="./images/ipod.jpeg" /&gt;
&lt;/div&gt;
</content><category term="Digital Minimalism"></category></entry><entry><title>TIL Updating ZSH</title><link href="https://shanedowling.com/til-updating-zsh.html" rel="alternate"></link><published>2022-01-04T00:00:00+00:00</published><updated>2022-01-04T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2022-01-04:/til-updating-zsh.html</id><content type="html">&lt;p&gt;To update Oh-My-ZSH, all I need to run is `omz update`. Didn't even
realise there was an omz command!&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>Activity Nag</title><link href="https://shanedowling.com/activity-nag.html" rel="alternate"></link><published>2022-01-03T00:00:00+00:00</published><updated>2022-01-03T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2022-01-03:/activity-nag.html</id><summary type="html">&lt;div class="figure"&gt;
&lt;img alt="Digital Minimalism" src="./images/digital_minimalism.jpeg" /&gt;
&lt;p class="caption"&gt;Digital Minimalism&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I'm trying out a month of Digital Minimalism and I wanted some…
encouragement to ensure I stick to my rules. One of which is to use my
laptop only for specific tasks I know ahead of time, for an hour a day
only. I currently already use Activitywatch …&lt;/p&gt;</summary><content type="html">&lt;div class="figure"&gt;
&lt;img alt="Digital Minimalism" src="./images/digital_minimalism.jpeg" /&gt;
&lt;p class="caption"&gt;Digital Minimalism&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I'm trying out a month of Digital Minimalism and I wanted some…
encouragement to ensure I stick to my rules. One of which is to use my
laptop only for specific tasks I know ahead of time, for an hour a day
only. I currently already use Activitywatch to track all my activities
on my machine, so I wanted a quick script that would(after an hour) nag
me constantly if I wanted to continue using my machine. So I made
&lt;a class="reference external" href="https://github.com/shano/activitynag"&gt;ActivityNag&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;You can find all the details around ActivityNag
&lt;a class="reference external" href="https://github.com/shano/activitynag/blob/main/README.md"&gt;here&lt;/a&gt;.&lt;/p&gt;
</content><category term="Digital Minimalism"></category></entry><entry><title>Nonviolent Communication</title><link href="https://shanedowling.com/nonviolent-communication-a7bddf8d0805.html" rel="alternate"></link><published>2021-08-27T13:32:59+00:00</published><updated>2021-08-27T13:32:59+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2021-08-27:/nonviolent-communication-a7bddf8d0805.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__Tq3cCMHDxnnkVTxtFSJ6jA.jpeg"&gt;&lt;/p&gt;
&lt;h3&gt;What is Nonviolent Communication?&lt;/h3&gt;
&lt;p&gt;Nonviolent Communication(NVC) helps us communicate clearly by breaking down and identifying our needs and communicating them compassionately.&lt;/p&gt;
&lt;h3&gt;Why?&lt;/h3&gt;
&lt;p&gt;NVC can help reduce conflict towards others and ourselves. It can also help us to hear others out and recognise each other's needs and support acting more …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__Tq3cCMHDxnnkVTxtFSJ6jA.jpeg"&gt;&lt;/p&gt;
&lt;h3&gt;What is Nonviolent Communication?&lt;/h3&gt;
&lt;p&gt;Nonviolent Communication(NVC) helps us communicate clearly by breaking down and identifying our needs and communicating them compassionately.&lt;/p&gt;
&lt;h3&gt;Why?&lt;/h3&gt;
&lt;p&gt;NVC can help reduce conflict towards others and ourselves. It can also help us to hear others out and recognise each other's needs and support acting more compassionately day to day.&lt;/p&gt;
&lt;h3&gt;How&lt;/h3&gt;
&lt;p&gt;At a high level, the steps involved are:&lt;/p&gt;
&lt;h4&gt;Observation&lt;/h4&gt;
&lt;p&gt;Be present and listen carefully to what the other person is saying. How is it affecting you? Just observe, don't evaluate.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Avoid quick immediate judgements like "You never sweep the floor"&lt;/li&gt;
&lt;li&gt;Use "The last three times I asked you to sweep the floor, it wasn't done"&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Feeling&lt;/h4&gt;
&lt;p&gt;Express how you feel. Be specific, give narratives if you need to.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Avoid ambiguous statements like "I feel drained"&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Needs&lt;/h4&gt;
&lt;p&gt;Identify the needs at the root of your feelings. This can take practice, the objective is to be able to sincerely express yourself directly.&lt;/p&gt;
&lt;h4&gt;Requests&lt;/h4&gt;
&lt;p&gt;Express clearly and specifically what you really want. Be specific in the action needed. Express yourself with positive language. Ask for something, don't frame the request as something to stop being done.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Avoid "You are always X"&lt;/li&gt;
&lt;li&gt;Use language like "I would like…."&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Listening&lt;/h3&gt;
&lt;p&gt;As a bonus, you can also use NVC when you are listening.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Observation&lt;/strong&gt;-Give the person space to fully express their feelings.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Feeling&lt;/strong&gt;-Don't jump to offer advice. Ask questions and help the other person evaluate and understand their feelings.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Needs&lt;/strong&gt;-Use the power of reflection. Rephrase what the other person is saying back to them, sometimes what they communicate might not be what they actually need.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Request&lt;/strong&gt;-Confirm and clarify the request after establishing what the need is. Ensure it's clearly understood.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Behaviours&lt;/h3&gt;
&lt;p&gt;There are also behaviours to be mindful of when practising NVC.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Take responsibility for your feelings. Your reaction to life events determines how you feel, not the event itself.&lt;/li&gt;
&lt;li&gt;When reacting to conflict, avoid defensive/negative reactions, neither get to the root of the issue.&lt;/li&gt;
&lt;li&gt;Talk through your own feelings and use the process to identify your emotional response and address the reasons for the conflict.&lt;/li&gt;
&lt;li&gt;Use NVC to reduce self-judgement. Listen to your judgement and instead of being led by those feelings, ask yourself, "what unmet needs am I expressing here?"&lt;/li&gt;
&lt;/ul&gt;</content><category term="Leadership"></category></entry><entry><title>5 Steps to a better Personal Development Plan(PDP)</title><link href="https://shanedowling.com/wrangle-your-personal-development-plan-pdp-into-actionable-objectives-e448649b5db0.html" rel="alternate"></link><published>2021-03-26T15:30:42+00:00</published><updated>2021-03-26T15:30:42+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2021-03-26:/wrangle-your-personal-development-plan-pdp-into-actionable-objectives-e448649b5db0.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__fc4D7D9urHFu0rbm8cpP2Q.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Reviewing your PDP can be a somewhat overwhelming process. So many areas of improvement can be highlighted, it can be a real challenge to discover what to focus on. Not only that but you also want to make sure your areas of focus have high impact benefits to the squad …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__fc4D7D9urHFu0rbm8cpP2Q.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Reviewing your PDP can be a somewhat overwhelming process. So many areas of improvement can be highlighted, it can be a real challenge to discover what to focus on. Not only that but you also want to make sure your areas of focus have high impact benefits to the squad, so much to think about!&lt;/p&gt;
&lt;p&gt;These 5 steps should help give you the direction needed to turn those PDP opportunities into something actionable, demonstrable and focused on what you care about.&lt;/p&gt;
&lt;h3&gt;Step 1-Find the themes&lt;/h3&gt;
&lt;p&gt;Depending on your PDP, a lot of areas of improvements might be highlighted(or maybe that's just me). They might be categorised as different things, for example competency or skills. It can be overwhelming to try to parse all of that opportunity into something actionable. The first thing I would suggest is to find the themes. Try your best to group your areas of opportunity as best you can, it won't be perfect, but it's helpful to put together some order. That way, you can tackle the theme to demonstrate the competency and show your skills!&lt;/p&gt;
&lt;p&gt;An example that might help, say there's your Agile skills improvement and also a competency you could demonstrate around execution. Could they live under the theme of delivery? Theming can be challenging, but it's an iterative process that you'll improve on over time.&lt;/p&gt;
&lt;h3&gt;Step 2-What gives you energy?&lt;/h3&gt;
&lt;p&gt;Whenever I've tried to think about what I care about I often struggle. Historically I get wrapped up in the objectives of the team and leave my own preferences to one side, this has gone on for so long in my career, I often struggle to answer the question "What do I even care about?".&lt;/p&gt;
&lt;p&gt;One thing working at Gousto has taught me early on was to ask yourself "What gives you energy?". It's deceptively clever for such a simple statement. Focus less on what you want to care about in the future. Focus on what gives you energy now, what undertakings have given you that energy in the past? Use that to inform your decisions.&lt;/p&gt;
&lt;p&gt;With that frame of mind pick one or two of your themes that you think will give you energy.&lt;/p&gt;
&lt;h3&gt;Step 3-Find the outcomes&lt;/h3&gt;
&lt;p&gt;Now that you've come up with the themes you want to put energy into, now is a good time to try to link it to outcomes. What are the outcomes that will help you and the business?&lt;/p&gt;
&lt;p&gt;More importantly, can you demonstrate that you personally are improving in this area and that the business is benefiting from it? Come up with as many outcomes as you can here, we'll whittle them down in the next step!&lt;/p&gt;
&lt;h3&gt;Step 4-Impact and metrics&lt;/h3&gt;
&lt;p&gt;So you have some themes and a greater number of outcomes you could progress, what outcomes should you focus on?&lt;/p&gt;
&lt;p&gt;One tactic you can take is to ask yourself is why? Ideally, you ask yourself why about 5 times. &lt;a href="https://en.wikipedia.org/wiki/Five_whys"&gt;The Five whys&lt;/a&gt; technique is not perfect, but it will hopefully help challenge you into clarifying why that outcome matters.&lt;/p&gt;
&lt;p&gt;The other approach is to look at is metrics. Do your outcomes move any metrics? If not maybe it's worth initially capturing a metric before executing the outcome. When it comes time to review your PDP, demonstrating metrics have moved as a result of executing your PDP is a pretty compelling sign of progress.&lt;/p&gt;
&lt;h3&gt;Step 5-Make a plan&lt;/h3&gt;
&lt;p&gt;At this point the best thing to do is to start breaking down those outcomes and to come up with a plan with your line manager. Hopefully what you now bring to the table is not only what you're going to focus on but also a very clear why you want to focus on it.&lt;/p&gt;
&lt;h3&gt;Outcomes&lt;/h3&gt;
&lt;p&gt;Ideally you'll now have the structure in place to really kickstart your PDPs and have much more productive sessions with your line manager. This can also be something you refer back to regularly, particularly in review sessions.&lt;/p&gt;
&lt;p&gt;As time passes you might discover other worthwhile initiatives, now you can evaluate those initiatives with the same process and stack it against your current focus. It's always useful to remind yourself not only of what you want to focus on, but what you decided not to do and why. This should be your north star.&lt;/p&gt;</content><category term="Leadership"></category></entry><entry><title>Learning Python as a Platform Engineer-First Steps</title><link href="https://shanedowling.com/learning-python-as-a-platform-engineer-first-steps-911e59dd4af8.html" rel="alternate"></link><published>2021-01-01T14:48:49+00:00</published><updated>2021-01-01T14:48:49+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2021-01-01:/learning-python-as-a-platform-engineer-first-steps-911e59dd4af8.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__t__tjPBb9m6YDhRdn3wKGSg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I've relatively recently moved into a Platform Engineering position after working in very developer oriented teams for many years. What's interesting is that the engineers you work with have much more diverse and interesting backgrounds in terms of their experience, so there's a real opportunity to grow and learn a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__t__tjPBb9m6YDhRdn3wKGSg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I've relatively recently moved into a Platform Engineering position after working in very developer oriented teams for many years. What's interesting is that the engineers you work with have much more diverse and interesting backgrounds in terms of their experience, so there's a real opportunity to grow and learn a lot more, as opposed to a more homogenous set of developers. With that in mind, I wanted to put together materials on how a more ops focused engineer can up-skill in Python(as that's more my wheel-house), in particular what are the things that would help you move into a more Python-focused role.&lt;/p&gt;
&lt;h3&gt;Where to start&lt;/h3&gt;
&lt;p&gt;Beginners who have no experience of Python are going to need to get their head around the fundamentals. I wouldn't avoid reading books, but you're going to get more impact delivering. Prioritise writing and reading code over anything else. One thing I'd always suggest is to try automate parts of your life with code. There's a great book called "Automate the boring stuff with Python" if you need inspiration to focus on delivering.&lt;/p&gt;
&lt;p&gt;Personally, when I needed a refresher in Python after several years of NodeJS, I started writing scripts that helped me to refresh myself. I wrote a script to alert me of the most up to date bus arrival times from TFL just before I'd usually leave the house in the morning, so I knew what time I had to leave.&lt;/p&gt;
&lt;p&gt;On an ongoing basis, I maintain a simple Python project on an ongoing-basis that will watch a YouTube channel and automatically download any streams that appear. I use this project to test out things is like to try out, such as new libraries or programming concepts. It's a safe way to try things out before I might suggest using it at work.&lt;/p&gt;
&lt;p&gt;So to start with, &lt;strong&gt;pick a project&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;What to avoid&lt;/h3&gt;
&lt;p&gt;Don't read books and not output anything! It's a trap of feeling productive while avoiding cementing any learnings. Think of it this way, you don't want to "learn to code", what you are is lazy and what you really want is to solve boring problems with code. You're learning to use a hammer, find nails in your life to start banging away at!&lt;/p&gt;
&lt;p&gt;Also avoid getting bogged down in setup. As an ops engineer, you might lean more into what you're comfortable with. Just get something super basic working and don't waste too much time on setup or use repl.it and forget about it! Heck I even wrote a post on &lt;a href="https://shanedowling.com/why-im-using-an-ipad-as-my-at-home-machine-2fe3e8949bb2"&gt;coding on my iPad&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Set a goal&lt;/h3&gt;
&lt;p&gt;Don't set a vague goal when learning to program, getting "better" doesn't mean anything. Programming is about delivering projects and learning what works and what doesn't. Focus on delivering small projects that help you in any small way and iterate on complexity. Don't be afraid to set clear goals for yourself and share them with others.&lt;/p&gt;
&lt;p&gt;If it helps try to think about it as a maturity vs capabilities. You don't "mature" to be a developer, what would that even mean? Think of it more as adding capabilities to yourself, "I'm capable of writing a Python script, I'm capable of writing some tests, I'm capable of using boto to interact with AWS automatically". Avoid thinking "I'll read a bunch of books and be a developer some day".&lt;/p&gt;
&lt;p&gt;So set a goal of delivering a &lt;strong&gt;specific project at a specific date&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;Figure it out&lt;/h3&gt;
&lt;p&gt;Now it's time to start figuring out how to solve this problem you've set for yourself. At this stage I would say, look for what works best for you. Could you learn the basics more from say a book, a series of articles, a Udemy course? I've put some resources at the bottom of this post but this step really only you can define.&lt;/p&gt;
&lt;p&gt;The one thing I would recommend is getting good at reading documentation, try to read up using the Python docs first before using Google/SO, but it's fine if that's what you need to do.&lt;/p&gt;
&lt;h3&gt;Asking for help&lt;/h3&gt;
&lt;p&gt;If you get stuck, ask for help. Ask colleagues, if you can't ask them, ask on Stackoverflow or find a Python discord or IRC channel for example: &lt;a href="https://pythondiscord.com/"&gt;https://pythondiscord.com/&lt;/a&gt; and reach out. I can only speak for myself, but I always love helping people genuinely trying to learn but just getting blocked. If you can't find any help at those resources and have some cash to spare, you can always use a service like &lt;a href="https://codementor.io"&gt;https://codementor.io&lt;/a&gt; to get the expertise you need.&lt;/p&gt;
&lt;h3&gt;Automate your (platform) life&lt;/h3&gt;
&lt;p&gt;From a more platform-focused perspective, if you have say, manual things you do in AWS repeatedly, could that be turned into a quick script? Take a look at boto3 and see if there's anything that could save you some time every day.&lt;/p&gt;
&lt;p&gt;Some inspiration:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When an incident occurs in the systems you maintain, are there several things you might check depending on the type of incident that occurs? Perhaps you could automate pulling out some key data on your local machine to save some critical time.&lt;/li&gt;
&lt;li&gt;Rotating keys, setting up users, any other admin tasks you could use avoid logging into your cloud platform?&lt;/li&gt;
&lt;li&gt;Are there parts of your job where the UI of your cloud-provider of choice is a total pain(&lt;em&gt;cough&lt;/em&gt; Cloudwatch… &lt;em&gt;cough&lt;/em&gt;)? Perhaps you could avoid it by programming a solution.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Resources&lt;/h3&gt;
&lt;p&gt;In terms of resources you can use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://automatetheboringstuff.com"&gt;https://automatetheboringstuff.com&lt;/a&gt;-Great for inspiration to start projects.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.twilio.com/quest/learn/python"&gt;https://www.twilio.com/quest/learn/python&lt;/a&gt;-If you can't think of any projects you'd like to start, this looks like a fun way to crank out some lines of code.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.fullstackpython.com/"&gt;https://www.fullstackpython.com/&lt;/a&gt;-Deep dive into programming in Python.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=mvK0UzFNw1Q"&gt;https://www.youtube.com/watch?v=mvK0UzFNw1Q&lt;/a&gt;-Great video on where to start and explains why you should focus on delivering projects instead.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://repl.it/"&gt;https://repl.it/&lt;/a&gt;-Don't get bogged down setting your local environment.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://codementor.io/"&gt;https://codementor.io/&lt;/a&gt;-Pay to get expert help.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is definitely enough to get a platform engineer started, I'll expand on this series with next steps, so keep an eye! I'll also start documenting how I'm growing from a Developer into a role demanding more Ops capabilities when I feel more comfortable myself.&lt;/p&gt;</content><category term="Leadership"></category></entry><entry><title>The vagueness of Secular Buddhism</title><link href="https://shanedowling.com/the-vagueness-of-secular-buddhism.html" rel="alternate"></link><published>2020-11-07T00:00:00+00:00</published><updated>2020-11-07T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-11-07:/the-vagueness-of-secular-buddhism.html</id><summary type="html">&lt;p&gt;I’m looking for a path to atheist spirituality, and I’ve looking more
into Secular Buddhism. I have to admit, the results aren’t so promising,
many are so vague as to be almost completely useless.&lt;/p&gt;
&lt;p&gt;I’m looking for Buddhism minus beliefs, what I keep seeing is much …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I’m looking for a path to atheist spirituality, and I’ve looking more
into Secular Buddhism. I have to admit, the results aren’t so promising,
many are so vague as to be almost completely useless.&lt;/p&gt;
&lt;p&gt;I’m looking for Buddhism minus beliefs, what I keep seeing is much more
content on beliefs in general, references to Buddhism material but very
little meat. No answers to:&lt;/p&gt;
&lt;div class="section" id="what-can-i-explore-as-something-spiritual"&gt;
&lt;h2&gt;What can I explore as something spiritual?&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="what-ceremonies-can-i-lean-on-to-support-this"&gt;
&lt;h2&gt;What ceremonies can I lean on to support this?&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="what-new-ways-could-i-reframe-my-view-off-the-world"&gt;
&lt;h2&gt;What new ways could I reframe my view off the world?&lt;/h2&gt;
&lt;p&gt;I’ll continue to explore and see what I can find to help answer these,
but so far(in the past) I’ve found Stoicism a much more concrete
approach to these questions.&lt;/p&gt;
&lt;/div&gt;
</content><category term="Mindfulness"></category></entry><entry><title>Make the smartphone dumb again</title><link href="https://shanedowling.com/make-the-smartphone-dumb-again.html" rel="alternate"></link><published>2020-11-05T00:00:00+00:00</published><updated>2020-11-05T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-11-05:/make-the-smartphone-dumb-again.html</id><summary type="html">&lt;p&gt;I have terrible, terrible impulse control. I cannot stop using my phone
as a distraction tool. I simply cannot. We can discuss willpower, or
being a better person, but they don’t work. I have no willpower and
remain a terrible person despite how hard I try. If my phone …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I have terrible, terrible impulse control. I cannot stop using my phone
as a distraction tool. I simply cannot. We can discuss willpower, or
being a better person, but they don’t work. I have no willpower and
remain a terrible person despite how hard I try. If my phone can do
something to distract me, I will use it, a lot. Then the loathing sets
in.&lt;/p&gt;
&lt;p&gt;So I needed to turn my super sweet iPhone into something entirely
distraction-less and boring, it’s that, or I throw my phone away(which
I’ve seriously considered but without Whatsapp I just cannot communicate
easily with my family and that is not something I want to add friction
to).&lt;/p&gt;
&lt;p&gt;So here’s my approach to blocking the noise. (Note: This if for iPhone,
I’m sure Android can do something similar, it’s not like the bulk of
Google’s revenue is tied to you constantly engaging with their
services).&lt;/p&gt;
&lt;div class="section" id="what-has-been-disabled-uninstalled-from-my-phone"&gt;
&lt;h2&gt;What has been disabled/uninstalled from my Phone?&lt;/h2&gt;
&lt;div class="section" id="safari-browsers"&gt;
&lt;h3&gt;Safari/Browsers&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="app-store"&gt;
&lt;h3&gt;App Store&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="email"&gt;
&lt;h3&gt;Email&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="games"&gt;
&lt;h3&gt;Games&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="social-networks"&gt;
&lt;h3&gt;Social Networks&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="todo-apps"&gt;
&lt;h3&gt;Todo Apps&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="habit-apps"&gt;
&lt;h3&gt;Habit Apps&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="reading-apps"&gt;
&lt;h3&gt;Reading Apps&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="colors"&gt;
&lt;h3&gt;Colors&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="any-app-that-nags-me-for-anything-that-isnt-very-important"&gt;
&lt;h3&gt;Any app that nags me for anything that isn’t very important.&lt;/h3&gt;
&lt;p&gt;All noise that just does not add value to my life.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="what-remains-on-my-phone"&gt;
&lt;h2&gt;What remains on my Phone?&lt;/h2&gt;
&lt;div class="section" id="maps"&gt;
&lt;h3&gt;Maps&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="camera"&gt;
&lt;h3&gt;Camera&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="podcasts-limit-of-3-for-now"&gt;
&lt;h3&gt;Podcasts(limit of 3 for now)&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="journal-day-one"&gt;
&lt;h3&gt;Journal(Day One)&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="banking-apps"&gt;
&lt;h3&gt;Banking Apps&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="apple-health"&gt;
&lt;h3&gt;Apple Health&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="notes"&gt;
&lt;h3&gt;Notes&lt;/h3&gt;
&lt;/div&gt;
&lt;div class="section" id="whatsapp"&gt;
&lt;h3&gt;Whatsapp&lt;/h3&gt;
&lt;p&gt;So basically boring tools and Whatsapp. Nothing here would particularly
compel me to check my phone every ten minutes for any sort of update.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="how-do-i-disable-stuff-and-keep-them-disabled"&gt;
&lt;h2&gt;How do I disable stuff and keep them disabled?&lt;/h2&gt;
&lt;p&gt;This is all great, but I’m a terrible person and once I’ve uninstalled
all of that stuff, I’m basically going to re-installed it all in 5
minutes when terrible me reappears. My solution is lock myself out of my
own phone. Find someone you trust (or if you want these restrictions for
life, someone who hates you) for this process. Here’s how.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Uninstall all of the distracting, time-wasting apps you want to
remove.&lt;/li&gt;
&lt;li&gt;Under Settings, in “Content and Privacy Restrictions”, enable it.&lt;/li&gt;
&lt;li&gt;Get your friend/enemy to set a password that &lt;strong&gt;you don’t know&lt;/strong&gt; but
that &lt;strong&gt;they will remember&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Under “Allowed Apps”, disable Safari.&lt;/li&gt;
&lt;li&gt;Under “Content Restrictions”, disable installing apps.&lt;/li&gt;
&lt;li&gt;Search “Color Filters” in Settings and turn on “Greyscale”&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Woo! We have a drab boring soulless rectangle that gives me exciting
access to my bank.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="replacements"&gt;
&lt;h2&gt;Replacements&lt;/h2&gt;
&lt;p&gt;So we can talk about getting rid of all of this stuff, but in the end,
if you don’t come up with replacements to that pull for distraction
you’re likely going to crack, beg your friend for the password and
reinstall again. I did, many times. What I needed was replacements and
these seem to have tenuously worked pretty well so far for me.&lt;/p&gt;
&lt;p&gt;My replacements are mostly a kindle and a notebook. Kindle to keep me
entertained when my brain, you know, starts to contemplate things like
life and its lack of meaning or cancer or why good things happen to bad
people. The notebook is for habit reminders, todos and when I get that
pull towards the rectangle to search for a thing. When I’m drawn to
research something, instead of the usual reinstall-fest, I write it down
what I want in my notebook and look it up later on a laptop if it still
matters(it often doesn’t).&lt;/p&gt;
&lt;/div&gt;
</content><category term="Digital Minimalism"></category></entry><entry><title>TIL - AWS Lambda Environment Vars</title><link href="https://shanedowling.com/til-aws-lambda-environment-vars.html" rel="alternate"></link><published>2020-11-05T00:00:00+00:00</published><updated>2020-11-05T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-11-05:/til-aws-lambda-environment-vars.html</id><content type="html">&lt;p&gt;In AWS Lambda, if you use ENVIRONMENT VARS they are tied to the lambda
version, so a new deploy is required to update that config change.&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>Please, PLEASE make a domain for your own email address.</title><link href="https://shanedowling.com/please-please-make-a-domain-for-your-own-email-address.html" rel="alternate"></link><published>2020-11-02T00:00:00+00:00</published><updated>2020-11-02T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-11-02:/please-please-make-a-domain-for-your-own-email-address.html</id><summary type="html">&lt;p&gt;Don’t have a &lt;a class="reference external" href="mailto:me&amp;#64;gmail.com"&gt;me&amp;#64;gmail.com&lt;/a&gt; or &lt;a class="reference external" href="mailto:us&amp;#64;outlook.com"&gt;us&amp;#64;outlook.com&lt;/a&gt;, have a &lt;a class="reference external" href="mailto:me&amp;#64;myname.com"&gt;me&amp;#64;myname.com&lt;/a&gt;
instead! [Google locks people out of their
accounts](&lt;a class="reference external" href="https://www.businessinsider.com/google-users-locked-out-after-years-2020-10?r=US&amp;amp;IR=T"&gt;https://www.businessinsider.com/google-users-locked-out-after-years-2020-10?r=US&amp;amp;IR=T&lt;/a&gt;),
to me loss of my email address would be a total disaster. This is the
problem with …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Don’t have a &lt;a class="reference external" href="mailto:me&amp;#64;gmail.com"&gt;me&amp;#64;gmail.com&lt;/a&gt; or &lt;a class="reference external" href="mailto:us&amp;#64;outlook.com"&gt;us&amp;#64;outlook.com&lt;/a&gt;, have a &lt;a class="reference external" href="mailto:me&amp;#64;myname.com"&gt;me&amp;#64;myname.com&lt;/a&gt;
instead! [Google locks people out of their
accounts](&lt;a class="reference external" href="https://www.businessinsider.com/google-users-locked-out-after-years-2020-10?r=US&amp;amp;IR=T"&gt;https://www.businessinsider.com/google-users-locked-out-after-years-2020-10?r=US&amp;amp;IR=T&lt;/a&gt;),
to me loss of my email address would be a total disaster. This is the
problem with monopolies and something everyone needs to think more
about. Imagine a world where a comment somewhere on an unrelated social
network wipes out 15 years of email and communication as well as ongoing
access to that email address. That’s today and if you don’t look out for
these things you can be locked out of incredibly important parts of your
own digital world.&lt;/p&gt;
&lt;p&gt;So a few quick tips:&lt;/p&gt;
&lt;div class="section" id="use-a-personal-domain-for-email-dont-rely-on-any-one-service-ever-with-a-personal-domain-you-can-keep-your-email-address-and-swap-to-different-suppliers-whenever-you-could-try-fastmail-with-your-me-myname-com-address-and-if-you-dont-like-it-swap-back-to-gmail-if-you-want-try-protonmail-maybe-either-way-your-email-address-never-needs-to-change"&gt;
&lt;h2&gt;Use a personal domain for email, don’t rely on any one service ever. With a personal domain you can keep your email address and swap to different suppliers whenever. You could try Fastmail with your &lt;a class="reference external" href="mailto:me&amp;#64;myname.com"&gt;me&amp;#64;myname.com&lt;/a&gt; address, and if you don’t like it swap back to Gmail if you want, try Protonmail maybe. Either way, your email address never needs to change.&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="always-backup-your-current-email-use-a-client-like-mail-or-thunderbird-and-always-download-your-mail"&gt;
&lt;h2&gt;Always backup your current email, use a client(like Mail or Thunderbird), and always download your mail.&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="dont-use-google-sign-in-up-process-ever-dont-use-any-companies-single-sign-on-with-your-google-account-gone-those-logins-are-totally-doomed-its-far-too-risky"&gt;
&lt;h2&gt;Don’t use Google Sign-In/Up process ever. Don’t use any companies single sign on. With your Google Account gone, those logins are totally doomed. It’s far too risky.&lt;/h2&gt;
&lt;p&gt;Bonus tip! Take a look at [nomoregoogle.com](&lt;a class="reference external" href="https://nomoregoogle.com"&gt;https://nomoregoogle.com&lt;/a&gt;)
and try to distribute some of your life away from one company.&lt;/p&gt;
&lt;/div&gt;
</content><category term="Tech"></category></entry><entry><title>Quick Review - Long Gone Days</title><link href="https://shanedowling.com/quick-review-long-gone-days.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/quick-review-long-gone-days.html</id><summary type="html">&lt;p&gt;Coming from the AMAZING Bundle for Racial Justice and Equality, Long
Gone Days is a &amp;quot;2D modern-day military RPG set in our current times,
with a focus on language and cultural barriers&amp;quot;'.&lt;/p&gt;
&lt;div class="section" id="looks"&gt;
&lt;h2&gt;Looks&lt;/h2&gt;
&lt;p&gt;Love the art-style of the game.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="music"&gt;
&lt;h2&gt;Music&lt;/h2&gt;
&lt;p&gt;The score is solid and the in-game sounds are fine …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Coming from the AMAZING Bundle for Racial Justice and Equality, Long
Gone Days is a &amp;quot;2D modern-day military RPG set in our current times,
with a focus on language and cultural barriers&amp;quot;'.&lt;/p&gt;
&lt;div class="section" id="looks"&gt;
&lt;h2&gt;Looks&lt;/h2&gt;
&lt;p&gt;Love the art-style of the game.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="music"&gt;
&lt;h2&gt;Music&lt;/h2&gt;
&lt;p&gt;The score is solid and the in-game sounds are fine but unspectacular.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="story"&gt;
&lt;h2&gt;Story&lt;/h2&gt;
&lt;p&gt;No spoilers here. The story isn't bad, but it definitely has higher
ideas than it's able to pull off. It also doesn't really capture the
language and cultural barriers effectively in it's dialogue or plot.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="gameplay"&gt;
&lt;h2&gt;Gameplay&lt;/h2&gt;
&lt;p&gt;Walking around the pretty world is nice enough, but the motion feels a
bit clunky. The RPG elements are extremely shallow, and the battle
screen is unimpressive. There are sniper sections also which are also
fairly weak. All in all, it's not strong gameplay wise.&lt;/p&gt;
&lt;p&gt;The idea of language and cultural barriers ties into the gameplay too.
You enter new areas without the ability to communicate with NPCs, that
could really have driven home the message about language barriers but in
reality you pretty quickly find a translator and that's that. It could
have been interwoven into the gameplay further, for example
mis-understanding language could lead to some character mistakes
plot-wise, or it could have been woven more effectively in the gameplay.
Again, it's just a bit shallow.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="did-i-finish-it"&gt;
&lt;h2&gt;Did I finish it?&lt;/h2&gt;
&lt;p&gt;The true estimation of if a game is decent in this bundle. So for me,
no, after playing for a few hours, upon returning it felt too slow paced
and clunky to want to continue. Perhaps the shallowness gameplay wise is
forgivable, I'd say give it 30 minutes, if you're not sold on wanting to
progress the story the gameplay may not keep you around.&lt;/p&gt;
&lt;/div&gt;
</content><category term="Random"></category></entry><entry><title>TIL - AWS Summit - ECR</title><link href="https://shanedowling.com/til-aws-summit-ecr.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-aws-summit-ecr.html</id><content type="html">&lt;p&gt;ECR supports vulnerability scanning of pushed up repo images.&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>TIL - AWS Summit - Eventbridge</title><link href="https://shanedowling.com/til-aws-summit-eventbridge.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-aws-summit-eventbridge.html</id><content type="html">&lt;p&gt;Eventbridge can translate a lot of useful internal Amazon events into a
call to say a Lamdba, so you can drive custom behaviour from those
events. For example: high vulnerabilities in your pushed ECR image could
trigger lambda to fire off an alert(or delete the image).&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>TIL - AWS Summit - Fargate Autoscaling</title><link href="https://shanedowling.com/til-aws-summit-fargate-autoscaling.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-aws-summit-fargate-autoscaling.html</id><content type="html">&lt;p&gt;Fargate supports autoscaling options that include `FARGATE` or
`FARGATE&lt;sub&gt;SPOT&lt;/sub&gt;` for spot pricing.&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>TIL - AWS Summit - Latency</title><link href="https://shanedowling.com/til-aws-summit-latency.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-aws-summit-latency.html</id><content type="html">&lt;p&gt;P99 and P95 latency refer to the percentage of requests should be faster
than given latency.&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>TIL - AWS Summit - Spot Instances</title><link href="https://shanedowling.com/til-aws-summit-spot-instances.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-aws-summit-spot-instances.html</id><content type="html">&lt;p&gt;Currently, ~5% of spot instances are getting taken out, but their
pricing is 1/3 of an On-Demand instance.&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>TIL - Bash Shift</title><link href="https://shanedowling.com/til-bash-shift.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-bash-shift.html</id><content type="html">&lt;p&gt;In `bash`, use `shift` to reassign positional arguments.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;p&gt;```bash $1 $2 $3 ```&lt;/p&gt;
&lt;p&gt;Would become&lt;/p&gt;
&lt;p&gt;```bash $1 matches old $2 $2 matches old $3 ```&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>TIL - Git Rebase</title><link href="https://shanedowling.com/til-git-rebase.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-git-rebase.html</id><content type="html">&lt;p&gt;In git, during rebase, ours and theirs are reversed. `theirs` is
actually the current branch in the case of rebase.&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>TIL - How to match python regex postgis</title><link href="https://shanedowling.com/til-how-to-match-python-regex-postgis.html" rel="alternate"></link><published>2020-09-28T00:00:00+01:00</published><updated>2020-09-28T00:00:00+01:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-28:/til-how-to-match-python-regex-postgis.html</id><content type="html">&lt;p&gt;Use `(.*)` for matching groups in Python regexes.&lt;/p&gt;
</content><category term="TIL"></category></entry><entry><title>Populate Ansible from Amazon secrets manager</title><link href="https://shanedowling.com/populate-ansible-from-amazon-secrets-manager-8eac77127e37.html" rel="alternate"></link><published>2020-09-03T18:06:58+00:00</published><updated>2020-09-03T18:06:58+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2020-09-03:/populate-ansible-from-amazon-secrets-manager-8eac77127e37.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__l0WrN40X7lf7tKsbdtj7Sw.png"&gt;&lt;/p&gt;
&lt;p&gt;One of the ways to improve your security and avoid passing around env files is to follow the &lt;a href="https://12factor.net/config"&gt;twelve factor app&lt;/a&gt; and start populating your secrets from the environment. Another improvement is to pull those secrets from a known secret store, with features like rotation, auditing etc.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Requirements&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.ansible.com/"&gt;Ansible&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Have …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__l0WrN40X7lf7tKsbdtj7Sw.png"&gt;&lt;/p&gt;
&lt;p&gt;One of the ways to improve your security and avoid passing around env files is to follow the &lt;a href="https://12factor.net/config"&gt;twelve factor app&lt;/a&gt; and start populating your secrets from the environment. Another improvement is to pull those secrets from a known secret store, with features like rotation, auditing etc.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Requirements&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.ansible.com/"&gt;Ansible&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Have some secrets stored in &lt;a href="https://aws.amazon.com/secrets-manager/"&gt;AWS Secrets Manager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ansible should have access to the latest &lt;a href="https://aws.amazon.com/cli/"&gt;aws-cli&lt;/a&gt; command(secrets manager is a recent addition)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stedolan.github.io/jq/"&gt;Jq&lt;/a&gt; if you're storing json in your secrets&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It's worth testing your AWS calls to just extract the secret you're interested in to stdout, from the terminal tests some calls like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;aws&lt;span class="w"&gt; &lt;/span&gt;secretsmanager&lt;span class="w"&gt; &lt;/span&gt;get-secret-value&lt;span class="w"&gt; &lt;/span&gt;--secret-id&lt;span class="w"&gt; &lt;/span&gt;some/secret/name&lt;span class="w"&gt; &lt;/span&gt;--query&lt;span class="w"&gt; &lt;/span&gt;SecretString&lt;span class="w"&gt; &lt;/span&gt;--output&lt;span class="w"&gt; &lt;/span&gt;text
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or for json you might do something like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;aws&lt;span class="w"&gt; &lt;/span&gt;secretsmanager&lt;span class="w"&gt; &lt;/span&gt;get-secret-value&lt;span class="w"&gt; &lt;/span&gt;--secret-id&lt;span class="w"&gt; &lt;/span&gt;secrets&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jq&lt;span class="w"&gt; &lt;/span&gt;--raw-output&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.SecretString&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jq&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;.API_KEY
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Ansible Config&lt;/h3&gt;
&lt;p&gt;Once you have secrets manager outputting your secrets to stdout, you can utilise it in Ansible. In this example I'm outputting to an env file but this could but used anywhere in Ansible. Instead of outputting to a file you could set its own environment variables then spin up the project from Ansible without outputting to a file anywhere.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;Setting env with some secret&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;args&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;executable&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bin/bash&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;shell&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="no"&gt;aws secretsmanager get-secret-value --secret-id some/secret/name --query SecretString --output text&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;register&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;some_secret&lt;/span&gt;

&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;pass response of ssm to .env file&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;become&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;no&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;blockinfile&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;#39;{{&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;some_environment_path&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;}}/.env&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;present&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;create&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;#&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;{mark}&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;MY&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;SECRET&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;FROM&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;AWS&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;#&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;block&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="no"&gt;SOME_SECRET=&amp;#39;{{ some_secret.stdout }}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And that's it! Anything I could've done better(which I'm sure there is), do let me know!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Better local development for Serverless Functions</title><link href="https://shanedowling.com/better-local-development-for-serverless-functions-b96b5a4cfa8f.html" rel="alternate"></link><published>2019-02-11T20:15:38+00:00</published><updated>2019-02-11T20:15:38+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2019-02-11:/better-local-development-for-serverless-functions-b96b5a4cfa8f.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__roedigbmFjRYkZobdZWuKg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Lambda is a terrific piece of kit for all the benefits listed on the &lt;a href="https://aws.amazon.com/lambda/"&gt;AWS product page&lt;/a&gt; and &lt;a href="https://serverless.com/"&gt;Serverless&lt;/a&gt; is a very useful framework for developing Lambda functions. However, developing serverless applications locally is a total pain if what you're solving isn't totally trivial.&lt;/p&gt;
&lt;p&gt;When things get complicated and your …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__roedigbmFjRYkZobdZWuKg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Lambda is a terrific piece of kit for all the benefits listed on the &lt;a href="https://aws.amazon.com/lambda/"&gt;AWS product page&lt;/a&gt; and &lt;a href="https://serverless.com/"&gt;Serverless&lt;/a&gt; is a very useful framework for developing Lambda functions. However, developing serverless applications locally is a total pain if what you're solving isn't totally trivial.&lt;/p&gt;
&lt;p&gt;When things get complicated and your Lambda functions start to integrate with other AWS services, things really begin to break down. There are a few things that look like silver-bullets, I'll share them here and explain why they didn't work for me, then give you a working example that I myself struggled to find(hence me writing this).&lt;/p&gt;
&lt;h3&gt;Localstack&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/localstack/localstack"&gt;Localstack&lt;/a&gt; is definitely the biggest attempt at a silver bullet here. Basically it emulates a huge chunk of AWS locally and you connect your serverless functions into that. Why I didn't use it:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Bits worked, but if you have any sort of half complicated setup(like a region outside us-east-1 or eu-west-1), it will break down. Uploading a whole cloudformation template was a disaster of broken links between services. I got to the point of editing localstack code to try fix issue after issue I was coming across and gave up. The product would be cool if it wasn't trying to do something so super complicated.&lt;/li&gt;
&lt;li&gt;It's also a huge resource drain on a developer's machine.&lt;/li&gt;
&lt;li&gt;Fundamentally, you shouldn't have to emulate half of AWS to test your code.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Serverless Offline&lt;/h3&gt;
&lt;p&gt;Serverless offline is fairly straightforward. It should allow you to spin up your functions locally and call them as needed. Where this fell down for me was that it required you to have HTTP endpoints for your lambda functions, all of our Lambda functions were driven either by SQS events or a Cron. We also instantiate our SNS topics in our code, so it would constantly attempt to create SNS topics and AWS would throw errors.&lt;/p&gt;
&lt;p&gt;I also did try using &lt;a href="https://www.npmjs.com/package/serverless-offline-sqs"&gt;serverless-offline-sqs&lt;/a&gt; but could not get it to drive events into our Lamdba functions.&lt;/p&gt;
&lt;p&gt;I was burning a lot of time getting a dev environment setup and I realised that this was fundamentally the wrong approach. I needed to start writing proper unit tests and use mocking to emulate the infrastructure(I mean ideally they'd be isolated properly and infrastructure/functions would be totally ignorant of each other, but that's for another day).&lt;/p&gt;
&lt;h3&gt;The Example&lt;/h3&gt;
&lt;p&gt;Say we're developing an application that makes use of:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lambda&lt;/li&gt;
&lt;li&gt;MongoDB&lt;/li&gt;
&lt;li&gt;SQS&lt;/li&gt;
&lt;li&gt;SNS&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Your lambda function connects to your MongoDB, does a thing and fires off occasional SNS notifications/SQS messages to other services.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Lambda&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For the actual code being run, I was going to use &lt;a href="https://www.npmjs.com/package/jest"&gt;jest&lt;/a&gt; to start writing tests. Jest works well and integrates nicely into serverless.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MongoDB&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To emulate MongoDB, I'm going to use an &lt;a href="https://www.npmjs.com/package/mongodb-memory-server"&gt;in-memory version of MongoDB&lt;/a&gt; that ties nicely into our Mongoose models.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SQS/SNS&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For any Amazon infrastructure, we're going to use &lt;a href="https://www.npmjs.com/package/aws-sdk-mock"&gt;aws-sdk-mock&lt;/a&gt;. This is an excellent wrapper around &lt;a href="https://www.npmjs.com/package/sinon"&gt;sinon&lt;/a&gt; for mocking the AWS infrastructure, that's super useful for unit tests as you'll see later.&lt;/p&gt;
&lt;h3&gt;Tieing it all together&lt;/h3&gt;
&lt;p&gt;So firstly lets install our dependencies.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;npm install aws-sdk-mock mongodb-memory-server sinon jest --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Let's also create a tests folder to keep all this test code in.&lt;/p&gt;
&lt;p&gt;mkdir tests&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Setting up MongoDB&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Now, for our code to integrate with our in-memory Mongo-DB server, we're going to need to add a few setup/teardown functions and a Mongo Environment. Clone this &lt;a href="https://github.com/vladgolubev/jest-mongodb"&gt;repo&lt;/a&gt; and put:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;setup.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;teardown.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mongo-environment.js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;into your new test folder.&lt;/p&gt;
&lt;p&gt;In your root directory add a &lt;code&gt;jest.config.js&lt;/code&gt; with this content.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;module&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;exports&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nx"&gt;globalSetup&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./tests/setup.js&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nx"&gt;globalTeardown&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./tests/teardown.js&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nx"&gt;testEnvironment&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./tests/mongo-environment.js&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nx"&gt;roots&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./tests/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This should be enough to get MongoDB up and running. Now onto our actual tests scripts.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Setting up our tests&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Now, finally, you can tie it all together with this snippet:&lt;/p&gt;
&lt;p&gt;Add jest to your package.json&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;jest&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And run with &lt;code&gt;npm test&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;One major point to note is that aws-mock-sdk requires a very specific way of instantiating AWS resources(within the scope of the function tests), so if you see any errors around aws regions, double check &lt;a href="https://github.com/dwyl/aws-sdk-mock#use-in-your-tests"&gt;you're following the rules&lt;/a&gt;.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Easy maintenance mode with nginx</title><link href="https://shanedowling.com/easy-maintenance-mode-with-nginx-2d4d510a0980.html" rel="alternate"></link><published>2018-08-20T18:51:42+00:00</published><updated>2018-08-20T18:51:42+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-08-20:/easy-maintenance-mode-with-nginx-2d4d510a0980.html</id><summary type="html">&lt;p&gt;So I combined a few solutions I found online to come up with a quick way to set up maintenance mode using nginx. Ideally it shouldn't happen but in times of emergency in can be good to knock up a quick maintenance page for everyone but your own internal ips …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So I combined a few solutions I found online to come up with a quick way to set up maintenance mode using nginx. Ideally it shouldn't happen but in times of emergency in can be good to knock up a quick maintenance page for everyone but your own internal ips.&lt;/p&gt;
&lt;h3&gt;Nginx Config&lt;/h3&gt;
&lt;p&gt;So here's the configuration I use for nginx, it starts with setting the internal ips of your company in the main nginx config file. Then in the actual vhost, you can set it to watch for the existence of a maintenance_on.html and when it exists, throw a 503 and use the maintenance page as your 503 error page.&lt;/p&gt;
&lt;h3&gt;How to use&lt;/h3&gt;
&lt;p&gt;By default I have the file named as maintenance_off.html, so it's only a simple move operation to turn on maintenance mode. For the content of my maintenance file, I generally use this self-contained static html file to serve out a message to customers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Any sort of conditionals going on on your web server is likely to slow things down by a few milliseconds. Again you're asking your web server to check against network and the disk per request, then make a decision, so bear this in mind before implementing a solution like this.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Please don't do it Github</title><link href="https://shanedowling.com/please-dont-do-it-github-5890eb72d12c.html" rel="alternate"></link><published>2018-06-02T16:39:57+00:00</published><updated>2018-06-02T16:39:57+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-06-02:/please-dont-do-it-github-5890eb72d12c.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__cKz__YzMFvM1HgqvzbIBvzw__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;So &lt;a href="http://www.businessinsider.com/2-billion-startup-github-could-be-for-sale-microsoft-2018-5"&gt;Microsoft has been in talks with Github&lt;/a&gt; about a potential acquisition. There are several reasons why this is a terrible idea. Github is a pretty solid git repo hosting company, but it has a few core values that are in jeopardy here and I'm not sure Microsoft(or anyone …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__cKz__YzMFvM1HgqvzbIBvzw__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;So &lt;a href="http://www.businessinsider.com/2-billion-startup-github-could-be-for-sale-microsoft-2018-5"&gt;Microsoft has been in talks with Github&lt;/a&gt; about a potential acquisition. There are several reasons why this is a terrible idea. Github is a pretty solid git repo hosting company, but it has a few core values that are in jeopardy here and I'm not sure Microsoft(or anyone) can acquire an entity like Github without severe repercussions.&lt;/p&gt;
&lt;h3&gt;Platform agnostic integrations&lt;/h3&gt;
&lt;p&gt;Github has a ton of super useful integrations that help make the life for developers a lot easier. Tools like appveyor, travis-ci, coverall, readthedocs, codacy are really useful and what's so great is you free to run them wherever you like. How can Microsoft make the business case to keep platform agnostic integrations that are aiding competitors? Maybe they won't ban them, but they may become very much second class citizens.&lt;/p&gt;
&lt;p&gt;Don't believe me? Some examples of Microsoft not giving a single crap about anyone outside Microsoft products..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Having to use &lt;a href="https://tel.red/linux.php"&gt;Sky&lt;/a&gt; as there's no Skype for Business on Linux&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.sunrise.am/"&gt;Sunrise to Outlook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.theverge.com/2015/1/29/7936081/microsoft-outlook-app-ios-android-features"&gt;Accompli to Outlook&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are certainly more examples, but the day I need to sign into a Microsoft account to use Github or can only deploy to Azure platforms for build tools, will be the day I stop bothering to use it and this is a real concern I have.&lt;/p&gt;
&lt;h3&gt;The connection to open source&lt;/h3&gt;
&lt;p&gt;Github repos are by default open and if you wish to pay a monthly fee they can be made private, this alone has simply been amazing for open source and why Github has been the platform of choice for most open source projects. There's also a great issue tracker, wikis, support for markdown readmes etc. We've all benefitted from such a great setup for open source projects.&lt;/p&gt;
&lt;p&gt;Microsoft has been doing good work in the open source space for the last few years, but anyone can see this is a recent development and purely for business reasons to regain much of the damage done in the 90s. When Microsoft attended Linux conferences they've &lt;a href="https://www.samba.org/samba/news/articles/low_point/column08.html"&gt;come dressed as Darth Vader&lt;/a&gt;, the dark corporate entity against the rebels of open source. Now they're planning to purchase the entity hosting the largest repository of open source code that has ever existed? If the strong connection to open source goes, the coolness factor takes a hit and so does Github's community.&lt;/p&gt;
&lt;h3&gt;Coolness&lt;/h3&gt;
&lt;p&gt;Microsoft is not cool. God love them, they're trying their best, and I don't hate Microsoft at all. They've always given a shit about developers. I recently gave VSCode a whirl and was impressed. However, can you imagine Windows and Microsoft services getting hooked into Github all over the place? Collaborate with your open source developers over (ugh) Skype, auto-deploy your repo to Azure, or tie your Github account into your Linkedin one so recruiters can find more evidence you're perfect for that Java role because of some decade old Java repo from college. If anyone thinks this is insane I give you this monstrosity.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__8tn6DDr1phm4CJnvPvr__0A__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;In the end, migrating to another git host(cough &lt;a href="https://about.gitlab.com/"&gt;gitlab&lt;/a&gt;) might be a bit of a pain but it's really not that much work, mostly because git is so awesome. So Microsoft is really going to have to play this one carefully. I imagine a lot of Stallman's army will leave the moment Github agrees to such an acquisition, in fact Gnome has moved to Gitlab as they feel it matches them &lt;a href="https://about.gitlab.com/2018/05/31/welcome-gnome-to-gitlab/"&gt;more in spirit&lt;/a&gt;. Can you imagine many open source projects aligning with Microsoft 'in spirit'? Open source as a movement naturally rebels against centralised systems, how Microsoft can purchase its way into the hearts of developers is a hard thing to see.&lt;/p&gt;
&lt;p&gt;Edit: Update&lt;/p&gt;
&lt;p&gt;So there's been a &lt;a href="https://www.bloomberg.com/news/articles/2018-06-03/microsoft-is-said-to-have-agreed-to-acquire-coding-site-github"&gt;confirmation from Microsoft,&lt;/a&gt; color me skeptical. The best case scenario is Microsoft gives it the lightest possible touch. The question is if Microsoft's recent efforts with Github provide enough positive energy to maintain goodwill towards Github or if Gitlab becomes the de-facto FOSS git repo and let's be honest, the de-facto git repo hosting company of choice down the line.&lt;/p&gt;</content><category term="Random"></category></entry><entry><title>Beware the todo list</title><link href="https://shanedowling.com/beware-the-todo-list-7faac97dae4a.html" rel="alternate"></link><published>2018-04-02T13:45:51+00:00</published><updated>2018-04-02T13:45:51+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-04-02:/beware-the-todo-list-7faac97dae4a.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__enCLGwgR9ubVJ2oT2fFCKQ__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;For the last few months, I've been working off a varying series of to-do lists to drive my life. I use a mix of the Things app, my bullet journal, and a calendar. Basically, my setup is to have annual Smart Goals, broken down into achievable chunks, then broken down …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__enCLGwgR9ubVJ2oT2fFCKQ__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;For the last few months, I've been working off a varying series of to-do lists to drive my life. I use a mix of the Things app, my bullet journal, and a calendar. Basically, my setup is to have annual Smart Goals, broken down into achievable chunks, then broken down into tasks to knock off todo lists. On the face of it, it's a way to organise a wiggly world.&lt;/p&gt;
&lt;p&gt;And what is a wiggly world? Alan Watts describes it best:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This world is a great wiggly affair. Clouds are wiggly, waters are wiggly, plants are wiggly, mountains are wiggly, people are wiggly. But people are always trying to straighten things out.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Todo lists are essentially another attempt to make wiggly things straight and processable. There's the addictive high of knocking another task off a list, then spending no time actually appreciating what you've accomplished. After you spend months achieving something important, how long does the joy you obtain from completing the activity last? From my experience, maybe a few hours. Essentially the to-do lists can become is just a list of unfulfilled craving with no real end-point in sight.&lt;/p&gt;
&lt;p&gt;Drive is important. From the theory behind Compassion Focused Therapy(CFT), your mind is broken down into three elements of emotional regulation. Drive, Threat and Soothing. All three are essential to living a happy, productive, flourishing life, but issues arise when the balance is skewed one way or another and this is where my concern with todo lists comes in.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__4LBDCrsJSxN2vzhDISELNw__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;External threats like losing your job can be helpful so you don't slack off each day at work. There is a functional value to threats like this. However, I'm beginning to think that todo lists are engaging threat into a pit of sorts. In the act of creating a to-do list, your converting your Drive behavior into a sort of Threat based motivation. I feel Drive, so I make these todos, I am then threatening myself into an unfulfilled existence if I don't act on this external list. If balanced, this can work relatively well.&lt;/p&gt;
&lt;p&gt;The problems arise when there's too much Drive forcing far too much Threat for you to handle. Our hunter-gatherer ancestors probably found it relatively easy to keep a balanced Drive -&amp;gt; Threat system, where we only kept in our heads a few goals to further enhance our status or gain a mate etc. Think of it like a physical attack, if you have one or two threats, you can make a reasonable estimation and attack/flee accordingly, when you're surrounded by a dozen or so, screw it, you might as well just lie on the ground and let it happen.&lt;/p&gt;
&lt;p&gt;For now, I'm just going try to create a few aims(maybe three or so) each morning and work out, if I'm any more or less productive than I was before or after. No long todo lists, no more guilt over unfulfilled goals. I'm going to look at what my wiggly mind wants to do at each instant, rather than crowbarring in what my driven straight-lined-self wanted me to do a few weeks ago.&lt;/p&gt;</content><category term="Productivity"></category></entry><entry><title>Wild Wild Country – The Soundtrack</title><link href="https://shanedowling.com/wild-wild-country-the-soundtrack-bbe397fc1cf4.html" rel="alternate"></link><published>2018-03-29T20:16:00+00:00</published><updated>2018-03-29T20:16:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-03-29:/wild-wild-country-the-soundtrack-bbe397fc1cf4.html</id><summary type="html">&lt;p&gt;Wild Wild Country – The Soundtrack&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1____IGWS6a7nQTfKgT6H5FQZw__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;For anyone who hasn't seen Netflix's &lt;a href="https://www.netflix.com/title/80145240?s=i&amp;amp;trkid=14170286"&gt;Wild Wild Country&lt;/a&gt;, I highly recommend you watch it. The story told, along with the wealth of footage they got their hands on makes it an incredible watch.&lt;/p&gt;
&lt;p&gt;The soundtrack is also excellent, I've put together the soundtrack as …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Wild Wild Country – The Soundtrack&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1____IGWS6a7nQTfKgT6H5FQZw__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;For anyone who hasn't seen Netflix's &lt;a href="https://www.netflix.com/title/80145240?s=i&amp;amp;trkid=14170286"&gt;Wild Wild Country&lt;/a&gt;, I highly recommend you watch it. The story told, along with the wealth of footage they got their hands on makes it an incredible watch.&lt;/p&gt;
&lt;p&gt;The soundtrack is also excellent, I've put together the soundtrack as a playlist on Apple Music, you can find it &lt;a href="https://itunes.apple.com/gb/playlist/wild-wild-country-soundtrack/pl.u-4Jomzk2tMMl6Gm"&gt;here&lt;/a&gt;. Enjoy!&lt;/p&gt;</content><category term="Random"></category></entry><entry><title>Four years without Facebook</title><link href="https://shanedowling.com/four-years-without-facebook-7d5285a25913.html" rel="alternate"></link><published>2018-03-26T18:06:17+00:00</published><updated>2018-03-26T18:06:17+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-03-26:/four-years-without-facebook-7d5285a25913.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__gvkmxCDjT7hqaHPPWYsovg__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I'm happy to see the media dog-piling on Facebook so much lately. None of this 'news' seems to actually be conveying much that's new, more that it's started taking what was slowly becoming normalised and framed it in a way to highlight the outrage. I don't particularly like the media's …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__gvkmxCDjT7hqaHPPWYsovg__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I'm happy to see the media dog-piling on Facebook so much lately. None of this 'news' seems to actually be conveying much that's new, more that it's started taking what was slowly becoming normalised and framed it in a way to highlight the outrage. I don't particularly like the media's approach but I can't feel too sorry about Facebook. We should be outraged with their on-going behaviour.&lt;/p&gt;
&lt;p&gt;Four years ago I wrote an &lt;a href="https://shanedowling.com/de-activating-facebook-for-a-month-f91b49da00a4"&gt;article about de-activating Facebook&lt;/a&gt;, I have not used Facebook since then and I believe I've permanently deleted my account somewhere along the way. I didn't remove Facebook for it's data hoovering and sharing but simply for it's lack of intrinsic value. There have been points over the years where I felt a little FOMO, but very rarely and never enough to get back onto the site. Perhaps I don't know what I'm missing, but from the looks of it on the outside that hasn't been the case.&lt;/p&gt;
&lt;p&gt;I'm happy to see Facebook die(not that I believe this will be anything like a death bell for them). Ideally, I'd like to see functionality it provides get split up into smaller, focused alternatives, that could be something I'd use again.&lt;/p&gt;
&lt;p&gt;Perhaps this recent outrage is a nice reminder to question the true value of social networks in general, and to what extent we can meaningfully communicate through them. Think about your last few interactions with Facebook, did you feel good? Did you feel engaged with those around you? I certainly didn't.&lt;/p&gt;</content><category term="Mindfulness"></category></entry><entry><title>Leaving no Trace</title><link href="https://shanedowling.com/leaving-no-trace-6ca31ffc0b9.html" rel="alternate"></link><published>2018-03-19T14:26:05+00:00</published><updated>2018-03-19T14:26:05+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-03-19:/leaving-no-trace-6ca31ffc0b9.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__ybl2a5U__z3REr1FD8qv09Q__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;While I was camping along the West Coast of the US, I heard about the &lt;a href="https://en.wikipedia.org/wiki/Leave_No_Trace"&gt;Leave No Trace&lt;/a&gt; movement and found the idea very much resonated with me. Recently, I've found myself looking around day to day and wondering where I could start leaving less of a trace. We can …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__ybl2a5U__z3REr1FD8qv09Q__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;While I was camping along the West Coast of the US, I heard about the &lt;a href="https://en.wikipedia.org/wiki/Leave_No_Trace"&gt;Leave No Trace&lt;/a&gt; movement and found the idea very much resonated with me. Recently, I've found myself looking around day to day and wondering where I could start leaving less of a trace. We can all hate on consumerism, but lets face it, well all need to consume a certain amount to live in the modern world. So this isn't a guide on becoming a burlap wearing hermit, it's just a few things I've come up with for to start applying this idea into my life a little more.&lt;/p&gt;
&lt;h3&gt;Transport&lt;/h3&gt;
&lt;p&gt;The weather in London has finally started getting a little better, so I'm now alternating running and cycling to work instead of using public transport. Save money, contribute less carbon and free exercise. The benefits are obvious but we all know it's not that simple. Start small and build from there.&lt;/p&gt;
&lt;h3&gt;Food&lt;/h3&gt;
&lt;p&gt;I have a Nespresso machine and looking back, I kind of regret that purchase. They do provide a recycling program(I assume in response to the massive amounts of waste going on), so please do use that if you can. It's still not great and I do feel guilty about that level of waste. I've picked up some re-usable pods and compost the coffee grounds(they're great for plants). I already have an aero-press with a steel filter that provides almost no waste(beyond the coffee itself), so I am tempted to, swap back to that. Will see if the effort becomes a bother again.&lt;/p&gt;
&lt;h3&gt;Reducing Waste&lt;/h3&gt;
&lt;p&gt;Find out what your local authority can take in terms of recycling. For the UK &lt;a href="https://www.gov.uk/recycling-collections"&gt;here's a postcode finder&lt;/a&gt;, that displays the information you need.&lt;/p&gt;
&lt;h3&gt;When things break&lt;/h3&gt;
&lt;h4&gt;Electronics&lt;/h4&gt;
&lt;p&gt;Here's a few things to try before hitting that store:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Perhaps the manufacturer has an option to repair the thing. It costs almost no time, so check up on this before doing anything else.&lt;/li&gt;
&lt;li&gt;If that's not an option, check out if it's repairable. See if there's some &lt;a href="https://www.ifixit.com/"&gt;ifixit guides&lt;/a&gt; available. I have had a &lt;a href="https://www.ifixit.com/Device/Lenovo_Thinkpad_x230"&gt;Lenovo Thinkpad x230&lt;/a&gt; for several years and have replaced almost everything in it and it's still a great machine. It's currently running as a server but could be pulled back out into more regular usage soon if I ever feel like it.&lt;/li&gt;
&lt;li&gt;If you're not too comfortable with repairs, see if there's a repair cafe nearby where someone could help. There's a recent article &lt;a href="https://www.theguardian.com/world/2018/mar/15/can-we-fix-it-the-repair-cafes-waging-war-on-throwaway-culture"&gt;here&lt;/a&gt; on The Guardian about such places, so take a look and see what options there are.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Clothes&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Repairing clothes is not that difficult, take a look into a course. It's definitely something I'll be doing in the coming months but right now my girlfriend is excellent at clothes repair, so I do rely on here a little…&lt;/li&gt;
&lt;li&gt;If you're into that, consider going to your local dry cleaners, they will often do clothes repair often at a pretty reasonable price. I've used them myself for various fixes/alterations and never had anything but good experiences.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;When you need to buy something new&lt;/h3&gt;
&lt;h4&gt;In General&lt;/h4&gt;
&lt;p&gt;There's a bunch of places where you can buy second hand. eBay, Gumtree, Shpock, Craigslist are all great options when you need something new that doesn't have to be new.&lt;/p&gt;
&lt;h4&gt;Electronics&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;If you can, go second hand. The UK has a number of second hand stores: Cex, Envirophone, Cash Converters to name a few. Make use of these places too when you're getting rid of a device, free money and perhaps preventing the sale of another unnecessary new gadget&lt;/li&gt;
&lt;li&gt;If you are into repairs and definitely need a new phone, take a look into a &lt;a href="https://www.fairphone.com/en/"&gt;Fairphone&lt;/a&gt;. It's an easily fixable Android smartphone created with ethically sourced labour and parts. Definitely worth looking into. Neat things include individual upgrades to parts, want a better camera? Instead of buying a new phone, just buy an upgraded camera and put it into the phone! It's a very cool idea.&lt;/li&gt;
&lt;li&gt;Take a look at the ifixit score to make life easier if it does go down the drain.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Clothes&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Check out that local charity shop and see if they don't provide what you're looking for. Give some money to charity, reduce waste and get stuff cheaper. There's really no downside here.&lt;/li&gt;
&lt;li&gt;Hate shopping? Consider looking for Buy it For Life items, there's a &lt;a href="https://www.reddit.com/r/BuyItForLife/"&gt;subreddit&lt;/a&gt; dedicated to durable, quality items, so less waste and less boring clothes shopping.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Just buy less&lt;/h3&gt;
&lt;p&gt;Okay, so there's a little bit of anti-consumerism going on. I'm not going to bore you landfill stats or other miserable information about waste, that's not the point. Just maybe take some time to contemplate your purchases a little more, perhaps when you feel the urge to buy item X add it to your calendar for 30 days in the future and see where you get to.&lt;/p&gt;</content><category term="Mindfulness"></category></entry><entry><title>10 lessons from 150 days of meditation</title><link href="https://shanedowling.com/10-lessons-from-150-days-of-meditation-b4976d062a20.html" rel="alternate"></link><published>2018-03-14T22:06:05+00:00</published><updated>2018-03-14T22:06:05+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-03-14:/10-lessons-from-150-days-of-meditation-b4976d062a20.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__GBwIzkZphZlN9GeNW3HAEA__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I've been meditating now for 150 days straight, but even before that I was a fairly regular meditator for many years, I had just never kept up with any sort of meaningful streak every single day. My current momentum started from a difficult period in my life and even once …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__GBwIzkZphZlN9GeNW3HAEA__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I've been meditating now for 150 days straight, but even before that I was a fairly regular meditator for many years, I had just never kept up with any sort of meaningful streak every single day. My current momentum started from a difficult period in my life and even once that difficulty subsided, there was still a desire to keep going with the streak. 150 days later and I'm still happy to maintain it, but figured I'd write down a few insights I've gotten from this whole period.&lt;/p&gt;
&lt;p&gt;For most of my meditation sessions, I've used Headspace. I've worked my way through many their programs, finished Headspace Pro(which incorporates more silence week on week), their daily sessions and have just used it as timer when I didn't want to hear anything.&lt;/p&gt;
&lt;p&gt;Over time, I've tried to reflect heavily on what has worked for me and what hasn't.&lt;/p&gt;
&lt;h3&gt;1. Space matters&lt;/h3&gt;
&lt;p&gt;I've meditated on trains, planes (and automobiles in fact) and everywhere else in between and while it's great to be able to meditate anywhere, I do have to say that I found my mind definitely casts itself into that relaxed awareness far more easily in the right space. At home, I put some effort in. My flat has wooden floors, so I have a pretty comfy mat with a pretty solid meditation cushion on the floor. During the early morning sessions I often light some incense and a candle.&lt;/p&gt;
&lt;p&gt;This is something I never really focused on before, assuming that I could just focus on my breath and those aids were just hippie nonsense, posing as a mindful person. For me nowadays it's whatever can best help me get into a quiet, contemplating, curious mind. So ignore that self-critical part of yourself that might judge for some incense, or a particular post, whatever gets you in the zone and practicing every day.&lt;/p&gt;
&lt;h3&gt;2. The lead up and wind down help&lt;/h3&gt;
&lt;p&gt;The best time I've found to meditate is first thing in the morning. That's what I've worked out but it may be different for you. When my mind is still relatively quiet, I move around a bit to get some alertness and then sit in silence, it's also a wonderful way to start the day but isn't always possible.&lt;/p&gt;
&lt;p&gt;If you have to meditate in strange places, the best thing you can do is spend a minute or two just focusing cultivating a genuine curiousity about how you're feeling right now, like ask yourself "How is my breathing?", I've found it helps me keep focused and not take the practice for granted and get more value out of it.&lt;/p&gt;
&lt;p&gt;The same is true after meditating, I spend a minute or two just basking in the feeling after a meditation and resolving to try maintain it for as long as I can, which is admittedly, not always very long.&lt;/p&gt;
&lt;h3&gt;3. Incorporate it everywhere&lt;/h3&gt;
&lt;p&gt;I have also found however, that when I meditated just in the morning, the relaxed, wise energy that came with the practice faded quickly. I started incorporating meditation into various parts of my day. Headspace has a commuting meditation, as well as a walk in the park. There's sessions dedicated to various issues you might have at work, mindful computer usage etc. I've tried a lot of these and I can't recommend any one of them more than any other. They all sort of provide the general benefit of making you aware of your monkey brain and might help to stop feeding that side of you when you get caught up in things.&lt;/p&gt;
&lt;p&gt;From my own perspective, I gained a lot of insight just trying different things out, all the while still maintaining my morning practice.&lt;/p&gt;
&lt;p&gt;Another thing I can recommend if you have an Apple Watch is the Breathe App. It's a simple timer that vibrates in such a way to help you time your in and out breaths. This is called rhythmic breathing and it's great.&lt;/p&gt;
&lt;p&gt;There's a talk on YouTube &lt;a href="https://www.youtube.com/watch?v=q06YIWCR2Js"&gt;here&lt;/a&gt;, that might help convince of you of the value of rhythmic breathing(including measuring the heart rate of a poor guy dragged on stage). It's pretty convincing that rhythmic breathing is definitely something worth trying, there is also probably some alternative you could use on a Phone, I've just found the Apple Watch app is discreet and convenient, so I can do it on the train or work and no-one would even notice I'm simply focusing on my breathing rhythm.&lt;/p&gt;
&lt;h3&gt;4. If you're mind is too active while meditating&lt;/h3&gt;
&lt;p&gt;Another sales pitch for rhythmic breathing, when I found my mind was too active and jumping around while I meditated if I switched to rhythmic breathing for a few minutes, I could more easily focus on the original meditation I wanted to work on. This was particularly helpful when I woke up after a stressful dream and my mind was still racing.&lt;/p&gt;
&lt;h3&gt;5. Don't meditate in bed!!!&lt;/h3&gt;
&lt;p&gt;This might seem obvious, but on those days where I was feeling pretty lazy, I would attempt a meditation in bed, rather than get up and do it. It's a pretty bad idea and you might as well not bother and get a couple of extra minutes sleep. Seems obvious but it can be a pretty easy thing to convince yourself to try in a half awake state.&lt;/p&gt;
&lt;h3&gt;6. Silent meditation is different to the apps&lt;/h3&gt;
&lt;p&gt;Most of the meditations on Headspace are heavily guided, you can choose to go along the Headspace Pro pack(which I do recommend after a while) or the timed Unguided Meditation, but beyond that most involve a lot of listening to Andy guiding you through the exercise and for the most part I find this great. However, I did notice the difficulty ramping up when I tried to simply sit quietly.&lt;/p&gt;
&lt;p&gt;During my 150 days I went on an introductory meditation retreat for a weekend. No screens whatsoever and a lot of (surprisingly enjoyable) silent periods. When I arrived I felt like meditation was something I was good at and wouldn't have any problems with the prolonged silent meditations. Boy was I wrong. While Headspace is great at practicing with meditation, just a silent meditation of just you with your own thoughts is still definitely a more challenging experience. Far more noticing of discomfort, a louder mind with no voice to guide it, I frankly struggled sometimes, but in a way the reward. was much greater. I felt like I had delved deeper into facing the monkey mind despite the challenges i faced. Silent meditation is not something I think I could do at home every day but I do think I'll push along with headspace pro again and find more time for silence.&lt;/p&gt;
&lt;h3&gt;7. Find every opportunity&lt;/h3&gt;
&lt;p&gt;Sounds similar to the previous lesson of incorporating it everywhere but not exactly. You can focus on the breath everywhere, but you can also focus on different activities. You really can meditate while walking, cleaning, cooking, eating, basically just focusing on your life with a easy relaxed awareness supported by some sort of regular focused meditation would give everyone a huge boost in contentment. Don't get too hung-up on the breath, at the same time those other "mindful moments" certainly are a little more difficult to maintain and I am certainly not there myself, but it is something I try to aspire to each day(when work and life don't get in the way).&lt;/p&gt;
&lt;h3&gt;8. Slow down&lt;/h3&gt;
&lt;p&gt;One of the lessons I learned very recently was to slow down, this message came to me during my meditation retreat. The long periods of silence and no technology created an environment that cultivated an excellent setup to meditation practice. When I say this, I mean that feeling of easy awareness really stuck with me for far longer. Our lives are often incompatible with a mindful attitude, but that content, easy feeling I felt during the retreat motivated me to start taking a hard look at my own life and perhaps eliminate as much "busyness" as I could to cultivate a similar feeling. This realisation has come recently and am I certainly only a beginner at this, but will share any insights and things I've tried that have/haven't worked.&lt;/p&gt;
&lt;h3&gt;9. Don't hold any expectations&lt;/h3&gt;
&lt;p&gt;If you constantly expect meditation to show you something about yourself, or provide that warm fuzzy feeling you will often be disappointed. If there's any expectation to hold it's that you will always find the truth in meditation, and that truth can be extreme pain or the height of pleasure.&lt;/p&gt;
&lt;h3&gt;10. The Best Advice&lt;/h3&gt;
&lt;p&gt;That's all I can come up with for now, but the best advice I could probably offer from a wise cartoon monkey(10 points if you get that reference), which is, "Every day it gets a little easier. But you have to do it every day. That's the hard part. But it does get easier.".&lt;/p&gt;</content><category term="Mindfulness"></category></entry><entry><title>Lessons from Remote Working</title><link href="https://shanedowling.com/for-the-past-few-years-as-a-freelancer-ive-done-many-forms-of-remote-work-19b58de3bc90.html" rel="alternate"></link><published>2018-02-18T22:57:15+00:00</published><updated>2018-02-18T22:57:15+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-02-18:/for-the-past-few-years-as-a-freelancer-ive-done-many-forms-of-remote-work-19b58de3bc90.html</id><summary type="html">&lt;p&gt;For the past few years as a freelancer, I've done many forms of remote work. I've worked both part and full-time remote positions, I've also worked with teams across multiple time-zones, in locations ranging from home offices, hotdesking, even camping and crummy motels, so I have a fairly broad range …&lt;/p&gt;</summary><content type="html">&lt;p&gt;For the past few years as a freelancer, I've done many forms of remote work. I've worked both part and full-time remote positions, I've also worked with teams across multiple time-zones, in locations ranging from home offices, hotdesking, even camping and crummy motels, so I have a fairly broad range of experience with remote working. It seems to be the trend that many companies have opted for, and this is definitely a great idea, both for the employee and the company. The employee can often cultivate a better work-life balance and the company can access a far wider range of talent than what may exist in the local area.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__vEPp8je3q4MQbK__hHru5AA__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;However, with remote teams, there is a cost paid for the lack of a physical presence. If right now, communication is sloppy and requires a lot of working around the system, going remote is going to be difficult. Most of this article deals with the issues of communication but also problems can come up with regard to teamwork, motivation and the potential for a class-based communication system, with remote workers being second class citizens so to speak. I'm also going to be stealing a bunch of stuff from the Agile framework, as (intentionally or not), it seems to cultivate very good remote working conditions, from my experience.&lt;/p&gt;
&lt;h3&gt;Communication&lt;/h3&gt;
&lt;p&gt;So the first thing is (obviously enough) communication. You will have to cultivate a lot more intentional focus on communication. You begin to appreciate how excellent the bandwidth of face to face conversations is when its gone. One way in which my more successful remote teams worked is through the &lt;a href="https://en.wikipedia.org/wiki/Agile_software_development"&gt;Agile framework&lt;/a&gt;. Agile is a programmer-specific framework, but there are still lessons that can be taken away for non-development teams. Many of the things I've found that worked within remote teams have strong Agile ties.&lt;/p&gt;
&lt;h3&gt;Enforce Morning stand-ups&lt;/h3&gt;
&lt;p&gt;So within Agile, there is the idea of a morning standup, where you essentially discuss what you worked on yesterday, any particular blockers to that work and what you plan on doing today. This sort of morning meeting often becomes the backbone of communication with remote teams, it also has a great bang for your buck in terms of actually building a sense of a team. Too easily can you slip into the role of a lone remote worker and ignore the resources on your team, you do so at your peril, so having a semi-formal place to air out your issues and perhaps get valuable insights from others should not be under-estimated. For those running teams, you can get a huge amount of value in a very short space of time.&lt;/p&gt;
&lt;h3&gt;Emulate the water cooler&lt;/h3&gt;
&lt;p&gt;While I'm on the topic of morning retro's there is another aspect to meetings that I found definitely increases my feeling of working within a team and that was the watercooler-esque conversations with the team before and after meetings. These to me are somewhat essential if you want to try and cultivate a good team vibe. Typically at the start of a remote meeting, someone will be late or have connection issues, use the time to chat about life, catch up with the people who are online with you and fill them in on what's new in your life. These things are really easy to ignore but when you start getting into a routine of informal chatting it can really create a great connection between team members.&lt;/p&gt;
&lt;h3&gt;Retrospectives are also useful&lt;/h3&gt;
&lt;p&gt;Retros are another part of the Agile methodology, essentially they are a semi-regular meeting to review how a past sprint(few weeks work) has gone. There's plenty of info online if you want to dig in, but essentially, it's an intentional review of how things are going outside of the work itself. One topic that came up often in retro's is how we could improve communication, we'd often face an issue, come up with a potential solution, try it out and see how it went in the next retro. The points I'm sharing here are just a starting off point, it's going to be up to you and your team to figure out what works best and retro's can be a great way to put some structure around that and (to some extent) force these beneficial reviews because it's not like you going to happen across each other at lunchtime, and chat out your ideas. Formalise these types of insight capturing or they will be lost.&lt;/p&gt;
&lt;h3&gt;Everyone should act as if remote&lt;/h3&gt;
&lt;p&gt;One thing that can kill a remote team vibe is where most of the team is in an office and remote members have to join from a screen in. I've sat in such meetings and essentially you become a second class member of the meeting. I guarantee you will not say nearly as much as you could have, had you been on-site. Interjecting on someone's point is really difficult and awkward when it's on a room full of people separate to you, the time delay alone can mean awkward breaks in the conversation, you'll give up and often won't respond to much unless there's specific attention directed towards you. I've been there, it happens and valuable insights can be missed as a result.&lt;/p&gt;
&lt;p&gt;Try to see if you can test having all team members working a remote setup. It will help immensely with balancing out communication barriers between the team and if there are sub-conversations that need to be had been two members in the same office, they can always take it offline after the remote meeting has happened, so hopefully, it should'nt ruin the office-workers bandwidth too much.&lt;/p&gt;
&lt;h3&gt;Slack is actually awesome&lt;/h3&gt;
&lt;p&gt;While I didn't want to specifically talk much about tools, I will say this, just use Slack. It's flexibility, the variety of communication methods and ease of use make it the best tool I've found for working remotely. Hands down. There's plenty of reviews discussing features, but for me, the best part was when a text-conversation became too burdensome, how easily it was to just swap to an audio/video call or a screen-sharing session. It's simply awesome.&lt;/p&gt;
&lt;p&gt;If the company you work with doesn't use Slack and is using something rubbish like Skype or something painful like an old ass version of Cisco WebEx that doesn't support Linux(ugh), appear.in can also provide a handy video chat tool that requires no sign-up and just a browser to get things going. Can definitely recommend it too.&lt;/p&gt;
&lt;p&gt;Try use video chat where you can, I have found it can get really easy to get too comfortable typing to communicate with team members. Never underestimate the value of a video conversation, even if it often feels like too much effort from the comfort of your office chair.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__wRyT5k0tDgJZZ6wcwxAcpw__2x.jpeg"&gt;&lt;/p&gt;
&lt;h3&gt;Get dressed for work&lt;/h3&gt;
&lt;p&gt;This is just a small point, but it really will do you no harm to get dressed in the morning. You want to create as much of an appearance of a working environment as possible, even when it couldn't be further from the truth. Yanking a shirt out of my backpack gave me some sense of professionalism even when it was a laptop on my lap on some dingy couch in a run-down motel.&lt;/p&gt;
&lt;p&gt;The more simulated distance you can create between "work you" and "life you" the less those two things will bleed into each other, which is better for your headspace and of those around you, coworkers and family benefit too. So try come up with as many simulated differences as possible. Perhaps try having a routine that emulates commuting or a habit that signifies "this is the start of work", that isn't just getting right into work.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__d1fy9ivJ4ziTH6jxvEoBFQ__2x.jpeg"&gt;&lt;/p&gt;
&lt;h3&gt;Try to make it fun&lt;/h3&gt;
&lt;p&gt;One of the QA members I worked with always came up with nice ideas for each of the remote workers to share something about their location or day for each retro. So try take a photo of your workspace or go outside your front door and take a picture, these little things were a really nice way to get a sense of what was going on in your co-worker's lives. Not essential but definitely a nice thing to do.&lt;/p&gt;
&lt;h3&gt;Use the focus&lt;/h3&gt;
&lt;p&gt;I've worked in many companies (remote and on-site) that have had shitty communication setups. Too many meetings, too many people in meetings, pointless meetings with no aim, the list goes on. This often happened because there was no barrier to just adding a few more people who might be useful in that meeting, hey the meeting room is a few feet from my desk, I can drop in for a bit.&lt;/p&gt;
&lt;p&gt;With remote working, you actually have a nice default which is that communication doesn't come easy, so make use of that. Start to become very intentional about how you communicate and why. You can create a very refined, tight communication structure, filled with value because communication itself becomes a regular topic to refine in and of itself. There are no natural moments where two people are sitting beside each other where you can informally ask "Hey can I run this by you", those interactions get forgotten when you're running a local team, for better or worse.&lt;/p&gt;
&lt;h3&gt;What now?&lt;/h3&gt;
&lt;p&gt;Myself, I've since moved back to a full-time office position within an office, with a generous option to remote work(which I've taken them up on occasion), I'll share another post on why at a later stage, but if I remember any other insights from my years of remote working, I will certainly add it here.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__6gfnVvkMRFtjVsWF7vkClA.png"&gt;&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Supplementing an iPad Pro with Linux</title><link href="https://shanedowling.com/supplementing-an-ipad-pro-57a809a06d7f.html" rel="alternate"></link><published>2018-01-21T13:04:52+00:00</published><updated>2018-01-21T13:04:52+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-01-21:/supplementing-an-ipad-pro-57a809a06d7f.html</id><summary type="html">&lt;p&gt;Recently I wrote about &lt;a href="https://shanedowling.com/why-im-using-an-ipad-as-my-at-home-machine-2fe3e8949bb2"&gt;why I'm using an iPad Pro as my main "at home" machine&lt;/a&gt; and &lt;a href="https://shanedowling.com/how-am-i-using-my-ipad-pro-as-a-development-machine-e4912a31744e"&gt;how I'm generally using it for tinkering around with remote servers&lt;/a&gt;. There is however, one caveat. I do still have an at-home server that I use for helping with making the iPad as …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Recently I wrote about &lt;a href="https://shanedowling.com/why-im-using-an-ipad-as-my-at-home-machine-2fe3e8949bb2"&gt;why I'm using an iPad Pro as my main "at home" machine&lt;/a&gt; and &lt;a href="https://shanedowling.com/how-am-i-using-my-ipad-pro-as-a-development-machine-e4912a31744e"&gt;how I'm generally using it for tinkering around with remote servers&lt;/a&gt;. There is however, one caveat. I do still have an at-home server that I use for helping with making the iPad as feature rich as I need it to be.&lt;/p&gt;
&lt;h4&gt;The Server&lt;/h4&gt;
&lt;p&gt;To do this, I essentially have Archlinux running on an old Thinkpad X230, sitting under my router connected via an ethernet cable to keep things nice and stable. The only way I manage it is over SSH.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1____SEPppZNXVSX8WegbbzcEQ.png"&gt;&lt;/p&gt;
&lt;h4&gt;Blocking Advertisements&lt;/h4&gt;
&lt;p&gt;While the iPad has the ability to add content blockers into Safari, this (obviously enough) did not block the ads within Apps, nor did it provide as complete an ad-blocking setup as I would have liked. Though I can recommend &lt;a href="https://1blocker.com"&gt;1Blocker&lt;/a&gt; as a pretty great app in a pinch.&lt;/p&gt;
&lt;p&gt;For this I ended up using &lt;a href="https://pi-hole.net"&gt;pi-hole&lt;/a&gt;, a pretty excellent ad-blocking solution that works on the router end of things. There's a great guide on their site, that allows you to set your router to use a local DNS server(instead of your ISPs or Google's for example). Also how pi-hole blocks is pretty great too, it attempts to &lt;a href="https://www.reddit.com/r/pihole/comments/7evq88/how_does_pihole_responds_to_a_piholed_domain/dq8988s/"&gt;minimise visual interruption&lt;/a&gt;, which is neat.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__obYk____7GDnINeg2aRaxg6w.png"&gt;&lt;/p&gt;
&lt;h4&gt;Making use of Usenet&lt;/h4&gt;
&lt;p&gt;Very rarely do I need to use Usenet these days, my various TV/Movie subscription almost always sort me out. When I do need to grab something off Usenet, I have a very nice setup connecting my iPad to my Archlinux box to add a few nice features.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__0rs2KHDuoThDZD0sqxrH9g.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Firstly I installed/configured &lt;a href="https://nzbget.net"&gt;NZBGet&lt;/a&gt; on my Archlinux machine and ensured I could connect to the WebUI from the iPad. Don't worry if the UI looks a bit rough around the edges, someone has written a really nice client for IOS.&lt;/p&gt;
&lt;p&gt;The next setup it to down/setup &lt;a href="https://itunes.apple.com/us/app/nzbclient-for-nzbget/id1178245637?mt=8"&gt;NZBClient for NZBGet&lt;/a&gt; on my iPad, which doesn't take long. You can fill in both your NZBGet server details as well as your &lt;a href="https://sabnzbd.org/wiki/introduction/nzb-sources"&gt;indexer&lt;/a&gt;, that way, you can search for stuff and download it directly from your iPad, pretty seamless! However what happens when you want to watch/listen to anything you might have grabbed from Usenet?&lt;/p&gt;
&lt;h4&gt;Media Streaming&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="images/1__GYDK9r5tzOltIFYEmakcsg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;The most useful/performant App I found so far for Media Streaming, is an app called &lt;a href="https://itunes.apple.com/us/app/playerxtreme-media-player-pro/id440488550?platform=ipad&amp;amp;preserveScrollPosition=true#platform/ipad"&gt;PlayerExtreme&lt;/a&gt;. It supports a lot of different remote server types. For me I actually found just setting up plain &lt;a href="https://wiki.archlinux.org/index.php/samba"&gt;Samba&lt;/a&gt; on Archlinux worked really well for streaming, but there's plenty of other protocols you can try.&lt;/p&gt;
&lt;p&gt;Either way, it, combined with my Usenet client means I never need to really hit the server anymore, everything has been up and running for a few months now and is always working as expected. I'd definitely give this is a go if you running into similar limitations on your iPad.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>The iPad Pro as a focused, simple coding machine</title><link href="https://shanedowling.com/how-am-i-using-my-ipad-pro-as-a-development-machine-e4912a31744e.html" rel="alternate"></link><published>2018-01-20T22:47:42+00:00</published><updated>2018-01-20T22:47:42+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-01-20:/how-am-i-using-my-ipad-pro-as-a-development-machine-e4912a31744e.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__bY3zgSqJyGTkf__ghXqpKRQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;So recently I wrote a post on &lt;a href="https://shanedowling.com/why-im-using-an-ipad-as-my-at-home-machine-2fe3e8949bb2"&gt;why a developer might use an iPad Pro&lt;/a&gt; as an at home machine. Today, I'm going to elaborate on how I'm actually using it day to day.&lt;/p&gt;
&lt;h3&gt;So there is not much you can do locally&lt;/h3&gt;
&lt;p&gt;Realistically, as a local dev environment there …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__bY3zgSqJyGTkf__ghXqpKRQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;So recently I wrote a post on &lt;a href="https://shanedowling.com/why-im-using-an-ipad-as-my-at-home-machine-2fe3e8949bb2"&gt;why a developer might use an iPad Pro&lt;/a&gt; as an at home machine. Today, I'm going to elaborate on how I'm actually using it day to day.&lt;/p&gt;
&lt;h3&gt;So there is not much you can do locally&lt;/h3&gt;
&lt;p&gt;Realistically, as a local dev environment there really is not much an iPad Pro can do. I'm used to proper Linux/Unix based machines, these sandboxed apps just didn't cut it for me, there's nothing close to a full development system on an iPad(sorry I know!), I wouldn't even bother trying. So pretty quickly I opted to go for a remote Linux box that I could remotely access.&lt;/p&gt;
&lt;p&gt;I picked up an iPad Pro with the ability to add in cellular data, so I can hop onto my remote server from anywhere I have data, which made this a solid possibility. I know I am basically cheating, but, I still needed to investigate if there was a painless enough setup I could use on the iPad that I would actually continue to use. So a fast starting server, decent network connection, and a decent enough editing environment was essential.&lt;/p&gt;
&lt;h3&gt;Editing Code&lt;/h3&gt;
&lt;p&gt;Now that I've already pulled back the curtain(you can't really code just on an iPad), we need to decide on a method of remotely editing code. I've used Vim for years, for me, I was happy to just ssh onto the server using some terminal client, setup a nice Vim environment and be done. Everything went well setup wise, but unfortunately vim editing sucks a lot more when you're missing an escape key. Which the iPad Pro Smart Keyboard does not have and I'm not lugging around a second keyboard just for the ESC key.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__wXkWchnmXkkug2FEzXFdOA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;There is hacky ways with other shortcuts to get esc working, there's also an onscreen esc key that terminal clients provide for IOS, but it's just just the same, my decade old Vim muscle memory makes the whole thing too painful when I keep hitting backtick constantly. So Vim was out the window.&lt;/p&gt;
&lt;p&gt;I tried a few different options but in the end, &lt;a href="http://gocoedit.com"&gt;GoCoEdit&lt;/a&gt; was the best available. It can remotely mount folders over ssh, it performs pretty well over networking and it has a fairly decent interface(sublime textish if that helps).&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__vel3b1tg__V__rsu4RlMO2Yg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;If you do more web-based editing, I hear Coda is pretty great but not what I wanted for my needs. I'm a more terminals, piping and grepping, not pretty pages and CSS.&lt;/p&gt;
&lt;p&gt;What I'll probably end up doing is setting up &lt;a href="http://spacemacs.org"&gt;Spacemacs&lt;/a&gt; with the Emacs configuration and seeing if I can finally pull the trigger and start using Emacs's crazy keybindings, but I'm not learning a whole new set of editor shortcuts right now.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__hCg__jKnXH__1LM3zXbVnxew.png"&gt;&lt;/p&gt;
&lt;h3&gt;Executing Applications&lt;/h3&gt;
&lt;h4&gt;Which remote server&lt;/h4&gt;
&lt;p&gt;I needed a way to be able to spin up/shut down a remote Linux box, have it start-up pretty quickly and do this in the painless way as possible, because I'm not paying for constantly on uptime when this is only being used very occasionally by myself. I also wanted it to be connectable via the same access details each time, to avoid having to put in new server IPs into my terminal client every time I started up the server.&lt;/p&gt;
&lt;p&gt;I tried out both Vultr and DigitalOcean for this, mostly as they were relatively straightforward to work with and this is mostly for me playing around with things, not production uptime machines. So in the end it came down to speed and App quality. Cutting a long story short, DigitalOcean won out. It supported having a reserved ip, which meant I didn't need to rely on something like DynDNS/waiting for DNS propagation each time I powered it down/up again(or manually setting IPs). It was also very quick to spin up, like shockingly quick. If I requested a power-up via the DigitalOcean IOS app, by the time I'd swapped to my ssh client and connected, it was already up, which was crazy good for me. I could also run an instance from London which reduced latency a bunch for me, that was a nice advantage over Vultr. To add to it, the app that could connect to DigitalOcean seem to be of a better quality(and actually worked, which is nice). None of the apps tested were particularly amazing but the DigitalOcean one consistently worked and worked well. So from my perspective, I'd strongly suggest DigitalOcean for such a setup.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__hV07DCg6sdHlxSfoK__D7tA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;So people know, the DigitalOcean app I tried was &lt;a href="https://itunes.apple.com/us/app/digitalocean-manager/id633128302?mt=8"&gt;DigitalOcean Manager&lt;/a&gt; and the Vultr one was called &lt;a href="https://itunes.apple.com/us/app/vulture-unofficial-vultr-app/id1116844578?mt=8"&gt;Vulture&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Remotely connecting&lt;/h3&gt;
&lt;p&gt;So here's the list of tools I use for connecting to various services I might need.&lt;/p&gt;
&lt;h4&gt;SQL Client&lt;/h4&gt;
&lt;p&gt;So on the App Store there are a few SQL Clients but none of them looked so great. So I just use &lt;a href="http://www.mycli.net"&gt;mycli&lt;/a&gt; on the server itself, works just fine.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__wPGK5QcybjIjH8ePcYmV__g.jpeg"&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a href="https://itunes.apple.com/gb/app/termius/id549039908?mt=8"&gt;Termius&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;I've been a Linux user for so many years, I'm pretty comfortable working exclusive on the command line. Termius is the de-facto ssh terminal client for IOS and for good reason. I ran it, it worked perfectly and never even bothered looking at anything else.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__iS2vFJJgmH5XpACE6GmV9g.png"&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a href="https://www.docker.com"&gt;Docker&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;I would definitely recommend picking up some Docker knowledge if you haven't already. Being able to quickly spin up services on a remote machine is really handy. For example I wanted to migrate from my static content pelican site to Medium, but Medium only accepts Wordpress archives. So I spun up a basic Wordpress Docker, used a quick script(with a few of my own bugfixes) to import my static content to Wordpress and exported to Medium, all without touching the parent operating system. All very nice!&lt;/p&gt;
&lt;h3&gt;A Handy Tip&lt;/h3&gt;
&lt;p&gt;So one thing that might be useful is when you exit your little server to have it automatically shut down so you don't need to keep remembering to kill the server via the app. If you want to do this without needing to enter a password each time, firstly run this command to start editing the sudoers file.&lt;/p&gt;
&lt;p&gt;sudo visudo&lt;/p&gt;
&lt;p&gt;Then add this line to allow passwordless access to poweroff commands.&lt;/p&gt;
&lt;p&gt;username   ALL=(ALL) NOPASSWD: /sbin/poweroff, /sbin/reboot, /sbin/shutdown&lt;/p&gt;
&lt;p&gt;Then create an alias for your user so that when you hit exit, it actually shuts down the machine. Put this in your .bashrc or .zshrc or whatever rc your shell uses.&lt;/p&gt;
&lt;p&gt;alias exit='sudo poweroff'&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__6gfnVvkMRFtjVsWF7vkClA.png"&gt;&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Why an iPad for a backend developer</title><link href="https://shanedowling.com/why-im-using-an-ipad-as-my-at-home-machine-2fe3e8949bb2.html" rel="alternate"></link><published>2018-01-08T19:38:33+00:00</published><updated>2018-01-08T19:38:33+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-01-08:/why-im-using-an-ipad-as-my-at-home-machine-2fe3e8949bb2.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__B__WKx4__N__VChXf__FWDV5dg__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;So I'm a backend developer. I'm often closest to the source of most technical problems at my job. Networking issues, memory issues, hardware issues, operating system issues, the list goes on. I need to be able to tinker and play with things often, so usually my work environments reflect this …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__B__WKx4__N__VChXf__FWDV5dg__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;So I'm a backend developer. I'm often closest to the source of most technical problems at my job. Networking issues, memory issues, hardware issues, operating system issues, the list goes on. I need to be able to tinker and play with things often, so usually my work environments reflect this. So the question is, why in God's name would I want to move to an iPad?&lt;/p&gt;
&lt;p&gt;The downsides are immediately obvious, I have almost no tinkering power on here. It's not Open Source, like at all. There's very little I can do with this if something goes wrong, recently I had an issue with an app not syncing with my iPhone, I had to contact the developer and ask for assistance, rather than just jump down to the log files or the code itself and see what was up.&lt;/p&gt;
&lt;p&gt;I also like to keep abreast of whatever new tech changes happen on Linux machines. Examples off the top of my head are the removal of ifconfig on most systems or the change to upstartd, these were things I had faced on my bleeding edge desktop long before the became the norm on my work servers. But, most of these "issues" I can live with. Let me explain the benefits and how I've gotten around the inability to tinker and play about with the bleeding edge server changes.&lt;/p&gt;
&lt;h3&gt;Single tasking is great&lt;/h3&gt;
&lt;p&gt;These days I prefer Apps to the Web. For me the web is an open-ended mind field of negative sentiment and distraction. I find myself disliking it more and more when I jump onto a web browser for anything other than totally focused work, it's just a time suck for me. So now I find the idea of a full-screen, mostly single tasking app-driven system does wonders for my focus. (IOS does support split screen but it's mostly terrible to use and unintuitive in it's design, so I'm happy to ignore it's existence).&lt;/p&gt;
&lt;p&gt;What single tasking am I doing? Right now I'm writing this on the wonderfully hipster Hanx app, which is essentially an old type-writer clone(for some reason the sound of old clackey keys makes me want to write more). I also spend a fair amount of time reading and writing on the Medium, and I have a few dev/ssh apps on here(but more on that later), in general it's mostly to pop on, do something specific and hop off. Rarely do I hit Safari and rarely do I get stuck on some random time-sink that had nothing to do with my original intentions. The sandboxed feel of working within the context of "Apps" genuinely has done wonders for my sanity.&lt;/p&gt;
&lt;h3&gt;Maintenance takes up energy&lt;/h3&gt;
&lt;p&gt;The first thing I do when I jump onto my own Macbook or my work Linux machine is maintenance. Any new brew updates on this thing? Everything running okay? Do I need to run CleanMyMac or Hazel to tidy things up? Often times on my personal machine, I don't want to think about these tasks, I want to use the tool in my hands, not screw about with it's inner workings. I might be a developer, but at home I might want to just hop on some writing project or screw around with my guitar on Garageband, I would say, with a laptop more than half the times I wanted to do some specific task, I would go down some unrelated technical rabbit hole and go nowhere near the task I intended on solving. The iPad removes a lot of that, it feels like it's removed a barrier that I always have with my Macbook.&lt;/p&gt;
&lt;h3&gt;Tinkering and Digging have their place&lt;/h3&gt;
&lt;p&gt;When I do want to start screwing around with things, as I often do, I spin up a DigitalOcean instance, SSH on and play around, simple as that. I have an iPad that takes a sim card for cellular data and ssh doesn't take up much data for me. On top of that DigitalOcean instances seem to spin up pretty instantaneously for me, so there really isn't much of a barrier for me to get to a tinkery Debian environment from my iPad.&lt;/p&gt;
&lt;p&gt;Also for me and my personal tinkering, Vim is a perfectly excellent editor. However, I even have a local editor on my iPad that allows me to mount remote SSH servers should I want something locally. Also pleasantly Emacs with Spacemacs seems to work fine over ssh, so if I need to do some heavier development, that's always an option.&lt;/p&gt;
&lt;p&gt;The nice thing about all this however is my tinkering environment is siloed in a very pleasing way. It's also fully backed up at an OS level for a dollar a month, so if I screw something up and totally bomb it, firstly I haven't lost my general purpose computing device and secondly I can restore what is non-essential tinkering server from a backup from a few days ago.&lt;/p&gt;
&lt;h3&gt;The battery life is actually good&lt;/h3&gt;
&lt;p&gt;Maybe is was because of my Dev setup and the iPad has forced some simplicity on me, but my 2017 Macbook Pro had a shitty battery life for me. Again, this could be down to Docker images or some other pile of services on my old machine that killed the battery, but I never ever got close to the advertised speeds on my Macbook. My iPad however, has a crazy good battery. Sure, Docker, Vagrant and the other power sucks have been migrated off to a remote server so perhaps "technically" this iPad battery is worse than my Macbook but practically speaking, it's incredibly good.&lt;/p&gt;
&lt;h3&gt;These sandboxes Apps are…. nice&lt;/h3&gt;
&lt;p&gt;All day at work I deal with things like package management issues, log files, potential security threats, etc. There is certain amount of pleasure in pulling this device out(that does "just work") and start doing productive things, without thinking about all of the crap I usually need to maintain on a machine. When I (very rarely) hop onto my MacBook at home, there's a sense of dread that there will be something I need to deal with. The whole interface to it feels clunky, should I really need to maintain brew packages every time I hop onto a machine?&lt;/p&gt;
&lt;p&gt;Certainly you can argue that I could set my MacBook up to be more sandboxed and probably doesn't need constant maintenance, but ultimately my tinkering is an addiction. I feel compelled to just start messing around with things and create yet another crazy setup that will add no value and I will inevitably discard but will take me a bunch of time to configure properly. I left my Linux machine for a Macbook, mostly due to endless tinkering. However all the Macbook became was a shit version of Linux for tinkering. I still found endless time to waste on maintenance getting "The Perfect Setup".&lt;/p&gt;
&lt;h3&gt;How does it feel?&lt;/h3&gt;
&lt;p&gt;I mean, I know full well RMS would be very angry with me. I guess I'm at a point where I no longer care. I have little to prove to anyone either. In my younger days there was a sense of pride pulling out my custom installed ArchLinux distro, with some obscure window manager and working almost purely from the command line. I could show off my crazy looking colour terminal where most of my work is done(I mean that is basically what my work development environment looks like right now). Lately however, I'm seeing these machines much more as tools to be used than a time-suck in and of themselves.&lt;/p&gt;
&lt;p&gt;Since I've had this iPad, I have only ever used my Macbook for yanking files off of, nothing more. In my mind this is a success, but only time will tell.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Freelancer Lessons – Part 3</title><link href="https://shanedowling.com/freelancer-lessons-part-3-7015dc89b6fb.html" rel="alternate"></link><published>2018-01-06T14:54:41+00:00</published><updated>2018-01-06T14:54:41+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-01-06:/freelancer-lessons-part-3-7015dc89b6fb.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__Ih__APvHH2mTGl0LL8Uv__kg__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;This is part 3 in a series on lessons I've learned from several years of freelancing. You can find Part 1 &lt;a href="https://shanedowling.com/developer-lessons-from-2017-part-1-14c31f45307c"&gt;here&lt;/a&gt; and Part 2 &lt;a href="https://shanedowling.com/freelancer-lessons-part-2-e5700002d8b"&gt;here&lt;/a&gt;, though you can read these in no specific order really.&lt;/p&gt;
&lt;h3&gt;Watch your mental state&lt;/h3&gt;
&lt;p&gt;When you're working a full-time job, you'll have people around …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__Ih__APvHH2mTGl0LL8Uv__kg__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;This is part 3 in a series on lessons I've learned from several years of freelancing. You can find Part 1 &lt;a href="https://shanedowling.com/developer-lessons-from-2017-part-1-14c31f45307c"&gt;here&lt;/a&gt; and Part 2 &lt;a href="https://shanedowling.com/freelancer-lessons-part-2-e5700002d8b"&gt;here&lt;/a&gt;, though you can read these in no specific order really.&lt;/p&gt;
&lt;h3&gt;Watch your mental state&lt;/h3&gt;
&lt;p&gt;When you're working a full-time job, you'll have people around you who will get to know you over time. Professional relationships start to develop, people will start to recognise you 'on a good day' or 'on a bad day' with enough 'bad days' on the trot almost always a caring co-worker or a good boss will check in on you, perhaps help with your workload or just lend an ear to listen.&lt;/p&gt;
&lt;p&gt;When contracting, you may want to ensure that you have some sort of support network around the work you do that may not come from your co-workers. You may not be in roles long enough to garner the professional relationships I've mentioned above or perhaps as a contractor there may be a professional distance you want to maintain. The point is when you start to have several 'bad days' in a row, make sure someone is around to recognise and make you aware of it and can talk to you about it.&lt;/p&gt;
&lt;p&gt;Having not really having had much of a professional support network and realising its implicit value, one of my main focus points when returning to full time work is to ensure that I am more of a caring co-worker to the people around me and am trying to do a better job of keeping an eye on the well-being of those around me. It's easy for programmers(or knowledge workers in general) to get too focused on solving problems on the screen in front of you, and not lift your head up and check in on the people around you and make sure they're doing okay.&lt;/p&gt;
&lt;h3&gt;Seek job satisfaction&lt;/h3&gt;
&lt;p&gt;One of the underlying lessons I hope I've imparted is that there can be a tendency to prioritise 'the business' over the individual, this point is just to keep in mind how happy you are in your role. One of the benefits to contracting is flexibility, make use of it. Don't like a role? Hop onto something else! As a contractor this is to some extent more expected than a perm employee and right now freelancer programmers can be picky about their roles. I'm certain this won't always be the case, but we may as well enjoy this while it lasts!&lt;/p&gt;
&lt;p&gt;To counterpoint this however, I would also bear in mind that there is always a drive in our society(and technology is no different) to be constantly seeking better, to never be happy with what you have. So if you do want to change roles, perhaps try to understand your underlying reasoning before job hopping. Maybe you don't like only working in PHP or Python or whatever, but does that really bother you or is it the Hacker News posts talking about how better everything is with technology X or Y? PHP, Python, bloody Fortran are all fine to work with if you're challenged and happy in your role, whatever that looks like.&lt;/p&gt;
&lt;h3&gt;Simplify&lt;/h3&gt;
&lt;p&gt;Contracting can make things complicated… Invoicing, chasing bills, logging receipts, sorting out your next contract, multiple development environments, company environments, accounts, tax returns etc, etc. Just do whatever you can to make it as simple as possible. I hired my own accountant which made things a little easier. I tried using an accountancy software, which didn't make things easier(Unless you're lucky enough to support a very standardised approach to invoicing and billing the accounting systems won't be of much use). The point is, try things, does it make things easier? Then keep it, if not discard. Life's complicated enough.&lt;/p&gt;
&lt;p&gt;In terms of actual app/sites I used, I found I stuck to tools that were either very flexible or did one very specific thing well. In the end I used &lt;a href="https://www.google.com/sheets/about/"&gt;Google Sheets&lt;/a&gt; for invoicing, as well as tracking income and &lt;a href="https://1tapreceipts.com"&gt;1Tap Receipts&lt;/a&gt; for tracking my expenses, then emailed the whole ball of stuff to my accountant to deal with.&lt;/p&gt;
&lt;h3&gt;Working from home is not all it's cracked up to be&lt;/h3&gt;
&lt;p&gt;This topic is a biggie, it's one I might dedicate several posts to. Put in the most simple terms, every other point I've listed above can be compounded and its effects can be worsened by working from home. I'll link to my future posts here about the pitfalls I faced working from home. Right now just bear in mind, for many it may not be the promised working utopia we were all told it would be.&lt;/p&gt;
&lt;h3&gt;To sum it up&lt;/h3&gt;
&lt;p&gt;I hope the realisations I've slowly(and sometimes painfully) gained are of some use to future/existing freelancers. Despite all of this, I think freelancing still can be a great way to work if you think it might suit you. For me, it has completely shifted how I perceive my work day to day and has also made me appreciate the many advantages there are to regular old full-time work.&lt;/p&gt;</content><category term="Productivity"></category></entry><entry><title>Freelancer Lessons – Part 2</title><link href="https://shanedowling.com/freelancer-lessons-part-2-e5700002d8b.html" rel="alternate"></link><published>2018-01-01T16:45:00+00:00</published><updated>2018-01-01T16:45:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2018-01-01:/freelancer-lessons-part-2-e5700002d8b.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__2AEQoUCrc3CV1JPJNEGr9Q__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;This is a series of posts on lessons I've learned while freelancing for the past four years. You can find Part 1 &lt;a href="https://shanedowling.com/developer-lessons-from-2017-part-1-14c31f45307c?source=linkShare-c3fb4f3f97d3-1514928400"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Focusing on "profits only"&lt;/h3&gt;
&lt;p&gt;I've alluded to this in my previous post, but, now that you're a business, you may start to make decisions that optimise being …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__2AEQoUCrc3CV1JPJNEGr9Q__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;This is a series of posts on lessons I've learned while freelancing for the past four years. You can find Part 1 &lt;a href="https://shanedowling.com/developer-lessons-from-2017-part-1-14c31f45307c?source=linkShare-c3fb4f3f97d3-1514928400"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Focusing on "profits only"&lt;/h3&gt;
&lt;p&gt;I've alluded to this in my previous post, but, now that you're a business, you may start to make decisions that optimise being a business, not a person. It becomes easier to start making decisions that might lead to say personal burnout for the sake of professional business health. Taking holidays was a big one for me, while contracting I never once took as many holidays as my partners mandatory holidays in her full time roles. Knowing your invoices were about to take a big hit next month by taking say, two weeks off will always be hanging over your head. Even if you've calculated that you would get paid a whole lot more over an annual period if you took a bunch of holidays while contacting when decision time comes for that month, it can be tough to make the call to take that time off.&lt;/p&gt;
&lt;p&gt;Another "effective business decision" might be to jump on clearly bad idea projects for a higher day rate. You become less important in relation to "the business". It takes effective higher level, long term thinking to ensure that profits are not the only metric to measure success against.&lt;/p&gt;
&lt;h3&gt;Dealing with money really sucks&lt;/h3&gt;
&lt;p&gt;While I've never been completely burned over invoicing issues(though many others have), late payments of invoices were shockingly regular. Perhaps there's a better way to punish/promote better payment schedules, but I found trying to propose such things with clients difficult and awkward, often you need to be flexible to make it worth the effort to onboard you in the first place and offering punishing late payment terms seemed to get in the way, I regret that decision looking back. Had I known how often late payments would occur, I would have used a late payment penalty fee as a metric to determine whether a future client would cause issues. As I said before, I always had more work than time, and should have refused more contracts. There were several occasions where I wanted to keep a client happy several months after officially finishing work with them as they still had outstanding invoices to be paid, this is not a good way to work. One advantage to multiple clients is though is that you can hedge your bets and perhaps live from the income of one client while waiting for late payments from another.&lt;/p&gt;
&lt;p&gt;The other burden with money is obviously having to submit your own tax returns, even with an accountant I found the whole process particularly stressful each year. Being a developer, you often want to know the ins and outs of things before proceeding, however tax law is often non-obvious and confusing, leading you down paths where you don't know how to proceed. Even with my accountant, we ran into complications where the answers should have been straightforward but aren't. Being a remote developer often working for several companies in different countries it was perhaps not a well trodden path and both HMRC and the accountants I worked with could do a better job understanding/sharing the information required. A lot of contractors in the UK create their own company as a way of reducing their tax burden, this can be complicated and cause issues with IR35 legislation if you are working for the same client for a long period of time. Despite being almost certain I was legally fine doing this, I decided instead to remain self employed as, frankly, I wanted to pay taxes(crazy I know) as it felt like the most honest approach. Part of me wishes I've gone down the company route, simply as it probably would have been more straightforward and liabilities would be tied up in the company not myself as an individual, but perhaps it was for the best as leaving/shutting down such a setup can be quite complicated.&lt;/p&gt;
&lt;h3&gt;Not stagnating on tech&lt;/h3&gt;
&lt;p&gt;One thing to bear in mind in terms of the technologies you work with, there often is excellent money in working with niche technologies, I can personally attest to that. The issue might come up however that the demand for such skills might dry up or (what happened with myself), you grow tired of working with a particular niche technology and simply want to move on. Ensure you maintain a broader set of skills so you can hop out of that niche into a variety of roles if the market/your interests change.&lt;/p&gt;
&lt;h3&gt;The cost of seeking work&lt;/h3&gt;
&lt;p&gt;This was never really an issue for me, finding work through contacts from previous roles meant that there has been always more work than time for me and I often had to turn potential offers down, but if you're not in such a position having to regularly seek work and the stress involved in role changing can become an issue. Be wary of this and perhaps have a system in place for when it's time to hunt for that new contract(or ideally several weeks or months before your current contract is due to end), in the end this will alleviate a lot of the stress and burden of finding new contracts.&lt;/p&gt;
&lt;p&gt;Up next is the final post in this series, &lt;a href="https://shanedowling.com/freelancer-lessons-part-3-7015dc89b6fb?source=linkShare-c3fb4f3f97d3-1515250509"&gt;Part 3&lt;/a&gt;.&lt;/p&gt;</content><category term="Productivity"></category></entry><entry><title>Freelancer lessons – Part 1</title><link href="https://shanedowling.com/developer-lessons-from-2017-part-1-14c31f45307c.html" rel="alternate"></link><published>2017-12-31T19:20:04+00:00</published><updated>2017-12-31T19:20:04+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2017-12-31:/developer-lessons-from-2017-part-1-14c31f45307c.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__T29vR6I4G8K__edEp81oWCQ__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Looking back on this year, many of the lessons I've learned had less to do with specific technologies and more to do with long term career growth. I've been a developer now for 9 years and as a result, I'm starting to think more about longer term goals and happiness …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__T29vR6I4G8K__edEp81oWCQ__2x.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Looking back on this year, many of the lessons I've learned had less to do with specific technologies and more to do with long term career growth. I've been a developer now for 9 years and as a result, I'm starting to think more about longer term goals and happiness. As a result I made the decision to move from contracting back to full time work towards the tail end of the year so a lot of my reflections are tied around the costs of short term thinking and contracting in general.&lt;/p&gt;
&lt;h3&gt;Money isn't everything&lt;/h3&gt;
&lt;p&gt;So this is an obvious one, but it was a lesson slowly learned for me. I've been a contractor for the past few years and while it has had some highlights and excellent roles there is definitely a price to pay being a contractor. At the end of the year I dropped my contracts and have moved back into a full time position. There were several reasons for this, many of which are outlined below. It was tough to leave the contractor lifestyle, it will almost always pay better than full time work, there's a certain flexibility to it, you hop between multiple projects and that can keep things interesting. The key takeaway this year was that most of those benefits were slowly getting outweighed by negatives and the only thing keeping me contracting was high day rates and in the end I had to make the call to leave, money wasn't worth the overhead.&lt;/p&gt;
&lt;h3&gt;Keep it to one company&lt;/h3&gt;
&lt;p&gt;For the last three years I have been contracting for either two or three companies simultaneously. I tended to draw higher day rates when I split my week between clients. Often clients simply need a top-up developer to help out with smaller projects while also not becoming an irreplaceable member of the team, it makes sense in terms of managing contractors. However there are issues with this setup.&lt;/p&gt;
&lt;p&gt;Firstly, the cognitive overhead. Swapping 2 or 3 times a week between not only different tech, different team members, processes, documentation, heck even different email providers and ticketing systems has a higher long term cognitive overhead than one might expect. Initially, there might be no issues with such a setup, but over time the constant churn of swapping will create a productivity hit. There's simply too much variability to focus as effectively on what your being hired to do. It also has the cumulative effect alongside the huge gaps between work. I might be halfway through a task and not get a chance to return to working on it for another 5 or 6 days, between which I've worked at multiple locations on different teams in different companies all likely with different tech. Anyone who believes there won't be a cognitive cost(I include my past self in that group) is deluding themselves.&lt;/p&gt;
&lt;p&gt;The second major issue is that clients bleed into one another. Be wary of clients where you're the only subject matter expert for a particular technology. There can be definite expectations that when an issue arises you'll take care of it despite working for another client that day. The stress levels of managing such a situation can be high, as you try to manage the expectations of multiple clients at once, and again this takes away from your focus on the job, which is not what you want when you live or die based on solidly productive days to justify your day rate.&lt;/p&gt;
&lt;p&gt;There is further more subtle issues that arise with simultaneous contracts, but these are the main ones that lead me to believe that if your want to stay more focused, have a higher output and be day to day happier try to focus on one client only if you can.&lt;/p&gt;
&lt;h3&gt;The team matters&lt;/h3&gt;
&lt;p&gt;One thing about contracting is that you may end up working for companies that might not have the best team structure. That they need contractors to supplement their internal resources may indicate a staffing issue which can be for various reasons, there are plenty of exceptions to the rule and you can also certainly work with poor teams while working full time, it's simply that there can be a tendency to prioritise the higher payoff over good working conditions.&lt;/p&gt;
&lt;p&gt;The single thing I focused on when moving to a full time position was working within a good team and getting a good feeling from technical and non-technical leadership within the company. This was simply the most important motivator for me and I highly doubt I'll ever regret using this as my barometer for finding my current position or future positions for that matter.&lt;/p&gt;
&lt;h3&gt;Temporary decision-making leading to long term costs&lt;/h3&gt;
&lt;p&gt;I have never had a client end a contract, it was always on me to move onto something else. As a contractor you might expect to work a 6 month contract, have it end, then move on. This belief can lead to short term decision making. For example, when you literally have a choice between a good and a bad team but there's a twofold increase in your day rate, sacrificing your day to day happiness is a legitimate option as these decisions all to some extent feel like temporary measures. The problem is, it has never played out like this for me. Despite taking many short term contracts, the clients always ended up wanting to renew. In a way this makes sense, it can be a pain to replace contractors who have decent internal knowledge, or perhaps the hiring managers plan to replace you has gone awry or it's simply just hard to find reliable developers.&lt;/p&gt;
&lt;p&gt;The problem is that you might be making bad long term decisions while believing them to be short term ones and it can be easier to stick around somewhere because your comfortable and perhaps don't have the energy levels to make a switch right now. The lesson here is simply to be wary of short term thinking, as it can easily play out over the long term.&lt;/p&gt;
&lt;p&gt;Up next, &lt;a href="https://shanedowling.com/freelancer-lessons-part-2-e5700002d8b"&gt;Part 2&lt;/a&gt;.&lt;/p&gt;</content><category term="Productivity"></category></entry><entry><title>A Short Review of 'Freedom from the Known'</title><link href="https://shanedowling.com/a-short-review-of-freedom-from-the-known-d22f52f8cdd3.html" rel="alternate"></link><published>2017-10-13T00:00:00+00:00</published><updated>2017-10-13T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2017-10-13:/a-short-review-of-freedom-from-the-known-d22f52f8cdd3.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__jQR__j9gf6__MDS8XZSsef0A.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Freedom from the Known can be a tough book to crack, the lessons offered within are almost dismissed by the arguments made within the book, on top of that it's likely most won't be in a position to even accept what they read as they are reading it. Despite these …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__jQR__j9gf6__MDS8XZSsef0A.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Freedom from the Known can be a tough book to crack, the lessons offered within are almost dismissed by the arguments made within the book, on top of that it's likely most won't be in a position to even accept what they read as they are reading it. Despite these barriers, there is still wonderful lessons here calling out our own values, our judgements and what is preventing us from being truly free and present in each moment.&lt;/p&gt;
&lt;h3&gt;Authority&lt;/h3&gt;
&lt;p&gt;Krishnamurti opens by trying to list out what are the things in life preventing us from true freedom. The list becomes more radical as time goes on. Here is a far from exhaustive list.
-Second-hand words, such as books which cause us to become second-hand people. A sort of circular logic here.
-Religious leaders and promise of something beyond this little life
-"That is our daily life and in that, there is no hope, and therefore every form of philosophy, every form of theological concept, is merely an escape from the actual reality of what is."
-Nationalism
-Tradition
-Pleasure
-Memory
-Fear
-Belief
-Relationships based on an 'image of the other end'
-What we should be
-Time -&amp;gt; "When I say I know you, I mean I knew you yesterday. I do not know you actually now."
-The observer/observed division
-Thought
This goes as far as "There is no guide, no teacher, no authority. There is only you-your relationship with others and with the world-there is nothing else." but even then we also need to dismiss the current 'you', "Forget all you know about yourself; forget all you have ever thought about yourself; we are going to start as if we knew nothing."&lt;/p&gt;
&lt;p&gt;Krishnamurti spends a lot of time explaining what we shouldn't do, how we should not behave, the elements of this book that drive us towards what we should do are to some extent frustratingly brief. However this can be explained as 'showing us the path' as opposed to pointing out every bend on the way, but he might argue that there even is a path.&lt;/p&gt;
&lt;h3&gt;Lack of Sympathy&lt;/h3&gt;
&lt;p&gt;Maybe it's arguable but Krishnamurti sounds like he believes not many are willing to change, "those who are fairly secure socially and economically or who hold dogmatic beliefs and are content to accept themselves and things as they are or in a slightly modified form" are left out in the cold. That leaves a lot of people out in the cold. Despite this, I would argue if you are in this position it's still worth pursuing this book. Krishnamurti does an excellent job of calling out the baggage each of us holds that keeps us from being truly free in his definition, and while he may argue that we cannot go in half-hearted, casting aside some of the things holding us back from a present without judgement is worth pursuing.&lt;/p&gt;
&lt;p&gt;I would also argue there is a lack of psychological sympathy here. Krishnamurti's goals are painfully simple and yet incredibly difficult to achieve. His response is also to achieve these things in the immediate. Do it now, without much care for human psychology or the difficulty involved in re-shaping your entire worldview in such a radical way.&lt;/p&gt;
&lt;h3&gt;The 'Goal'&lt;/h3&gt;
&lt;p&gt;What's left after dismissing these elements of our own minds? In Krishnamurti's words, "What is important is not a philosophy of life but to observe what is actually taking place in our daily life, inwardly and outwardly." And "Freedom is a state of mind-not freedom from something but a sense of freedom, a freedom to doubt and question everything and therefore so intense, active and vigorous that it throws away every form of dependence, slavery, conformity and acceptance." There is essentially a psychological death that will free us to observe the new and to truly live. "To die is to have a mind that is completely empty of itself, empty of its daily longings, pleasures and agonies. Death is a renewal, a mutation, in which thought does not function at all because thought is old. When there is death there is something totally new. Freedom from the known is death, and then you are living."&lt;/p&gt;</content><category term="Random"></category></entry><entry><title>Faster SugarCRM Development with PHPStorm</title><link href="https://shanedowling.com/faster-sugarcrm-development-with-phpstorm-8f59b4860885.html" rel="alternate"></link><published>2017-04-30T00:00:00+00:00</published><updated>2017-04-30T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2017-04-30:/faster-sugarcrm-development-with-phpstorm-8f59b4860885.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__QzgJ__r__gWS5Nddl0PmJlSw.png"&gt;&lt;/p&gt;
&lt;p&gt;Javascript development with SugarCRM can be a bit of a pain, however combining PHPStorm's filewatcher tool with a cut down repair script can speed things up to a more tolerable level.&lt;/p&gt;
&lt;p&gt;What this setup does is watch for any javascript changes in our custom/ folder(because you're not making core …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__QzgJ__r__gWS5Nddl0PmJlSw.png"&gt;&lt;/p&gt;
&lt;p&gt;Javascript development with SugarCRM can be a bit of a pain, however combining PHPStorm's filewatcher tool with a cut down repair script can speed things up to a more tolerable level.&lt;/p&gt;
&lt;p&gt;What this setup does is watch for any javascript changes in our custom/ folder(because you're not making core hacks are you?) and execute a light-weight repair script when any of those files change. So you'll hit save in PHPStorm, wait a few seconds and your dev javascript should be refreshed and ready to test.&lt;/p&gt;
&lt;p&gt;The Repair Script
-—-—-—-— -&lt;/p&gt;
&lt;p&gt;First thing to do is get our hands on a fast repair script. Thankfully FrancescaS on the SugarCRM forums came up with a tidy javascript focused version of a repair script(originally by Jeff Bikart. The whole thread is `here `__ but I'll reproduce the code below for the lazy.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;/*&lt;/span&gt;
&lt;span class="x"&gt;* Copyright 2013&lt;/span&gt;
&lt;span class="x"&gt;* Jeff Bickart&lt;/span&gt;
&lt;span class="x"&gt;* @bickart&lt;/span&gt;
&lt;span class="x"&gt;* jeff @ neposystems.com&lt;/span&gt;
&lt;span class="x"&gt;* modified by FrancescaS @ wolfram.com to repair/rebuild&lt;/span&gt;
&lt;span class="x"&gt;* only what absolutely necessary to work on js scripts&lt;/span&gt;
&lt;span class="x"&gt;*/&lt;/span&gt;
&lt;span class="x"&gt;if(!defined(&amp;#39;sugarEntry&amp;#39;))define(&amp;#39;sugarEntry&amp;#39;, true);&lt;/span&gt;
&lt;span class="x"&gt;require_once(&amp;#39;include/entryPoint.php&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt;require_once(&amp;#39;modules/Administration/QuickRepairAndRebuild.php&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt;//Bug 27991 . Redirect to index.php if the request is not come from CLI.&lt;/span&gt;
&lt;span class="x"&gt;$sapi_type = php_sapi_name();&lt;/span&gt;
&lt;span class="x"&gt;if (substr($sapi_type, 0, 3) != &amp;#39;cgi&amp;#39;) {&lt;/span&gt;
&lt;span class="x"&gt;global $sugar_config;&lt;/span&gt;
&lt;span class="x"&gt;if(!empty($sugar_config[&amp;#39;site_url&amp;#39;])){&lt;/span&gt;
&lt;span class="x"&gt;}else{&lt;/span&gt;
&lt;span class="x"&gt;sugar_die(&amp;quot;Didn&amp;#39;t find site url in your sugarcrm config file&amp;quot;);&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;span class="x"&gt;//End of #27991&lt;/span&gt;
&lt;span class="x"&gt;if(empty($current_language)) {&lt;/span&gt;
&lt;span class="x"&gt;$current_language = $sugar_config[&amp;#39;default_language&amp;#39;];&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;span class="x"&gt;$app_list_strings = return_app_list_strings_language($current_language);&lt;/span&gt;
&lt;span class="x"&gt;$app_strings = return_application_language($current_language);&lt;/span&gt;
&lt;span class="x"&gt;global $current_user;&lt;/span&gt;
&lt;span class="x"&gt;$current_user = new User();&lt;/span&gt;
&lt;span class="x"&gt;$current_user-&amp;gt;getSystemUser();&lt;/span&gt;
&lt;span class="x"&gt;$GLOBALS[&amp;#39;log&amp;#39;]-&amp;gt;debug(&amp;#39;-—-—-—-—-—-—-—-—-—-—-→ at repair.php ←-—-—-—-—-—-—-—-—-—-—-&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt;$repair = new RepairAndClear();&lt;/span&gt;
&lt;span class="x"&gt;// replace the repairAndClearAll with a limited set or clear actions&lt;/span&gt;
&lt;span class="x"&gt;//$repair-&amp;gt;repairAndClearAll(array(&amp;#39;clearAll&amp;#39;),array(translate(&amp;#39;LBL_ALL_MODULES&amp;#39;)), true,false,&amp;#39;&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;module_list= array(translate(&amp;#39;LBL_ALL_MODULES&amp;#39;));&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;show_output = false;&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;execute= true;&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearLanguageCache();&lt;/span&gt;
&lt;span class="x"&gt;MetaDataManager::enableCacheRefreshQueue();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearTpls();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearJsFiles();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearJsLangFiles();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearLanguageCache();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearDashlets();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearSmarty();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearThemeCache();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearXMLfiles();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearExternalAPICache();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearAdditionalCaches();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;clearPDFFontCache();&lt;/span&gt;
&lt;span class="x"&gt;$repair-&amp;gt;repairMetadataAPICache();&lt;/span&gt;
&lt;span class="x"&gt;$exit_on_cleanup = true;&lt;/span&gt;
&lt;span class="x"&gt;sugar_cleanup(false);&lt;/span&gt;
&lt;span class="x"&gt;// some jobs have annoying habit of calling sugar_cleanup(), and it can be called only once&lt;/span&gt;
&lt;span class="x"&gt;// but job results can be written to DB after job is finished, so we have to disconnect here again&lt;/span&gt;
&lt;span class="x"&gt;// just in case we couldn&amp;#39;t call cleanup&lt;/span&gt;
&lt;span class="x"&gt;if(class_exists(&amp;#39;DBManagerFactory&amp;#39;)) {&lt;/span&gt;
&lt;span class="x"&gt;$db = DBManagerFactory::getInstance();&lt;/span&gt;
&lt;span class="x"&gt;$db-&amp;gt;disconnect();&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;span class="x"&gt;if($exit_on_cleanup) exit;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Take this file and move it to your ~/Bin folder or wherever you tend to put these one off little scripts.&lt;/p&gt;
&lt;p&gt;The Watcher&lt;/p&gt;
&lt;p&gt;The next thing to do is configure PHPStorm to start watching for Javascript file changes.&lt;/p&gt;
&lt;p&gt;Go into Settings-&amp;gt;Tools-&amp;gt;File Watchers and hit the green plus to add a new watcher.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1____XfSAae6p__j0R8XD__MGAHg.png"&gt;
&lt;img alt="" src="images/1__jOrBq5xCqCJ7ONApQjVfww.png"&gt;&lt;/p&gt;
&lt;p&gt;Simply alter your pattern to whatever your SugarCRM project structure looks like.&lt;/p&gt;
&lt;p&gt;You should see a count of the number of files the scope has detected in the project and it should be more than 0, so use that as a guide to ensure the scope is correctly identifying all your interesting javascript files.&lt;/p&gt;
&lt;p&gt;Once the scope is sorted, back in the watcher configuration, for the 'Argument' setting you will need to put in the path to the repair script from above then finally, for the 'Working Directory' put the root of the SugarCRM source.&lt;/p&gt;
&lt;p&gt;After all of that is configured make some changes to a javascript file, hit save and hopefully you should see the 'Watch for JS Changes' task running for a few seconds.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Pomot — command line pomotodo client</title><link href="https://shanedowling.com/pomot-command-line-pomotodo-client-d3447f55056e.html" rel="alternate"></link><published>2017-04-20T00:00:00+00:00</published><updated>2017-04-20T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2017-04-20:/pomot-command-line-pomotodo-client-d3447f55056e.html</id><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__kvu1aNJ6g__yuMT7O3c6L8Q.png"&gt;&lt;/p&gt;
&lt;p&gt;For anyone interested, I've created a simple pomotodo client for interacting with pomotodo.com easily.&lt;/p&gt;
&lt;p&gt;You can find it &lt;a href="https://github.com/shano/pomot/"&gt;here&lt;/a&gt;, feel free to use github issues for any issues or feature requests you can think of.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Command line calendars with Khal and fastmail</title><link href="https://shanedowling.com/command-line-calendars-with-khal-and-fastmail-57214af20b8f.html" rel="alternate"></link><published>2017-04-04T00:00:00+00:00</published><updated>2017-04-04T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2017-04-04:/command-line-calendars-with-khal-and-fastmail-57214af20b8f.html</id><summary type="html">&lt;p&gt;Recently I've been on a bit of a command line kick and I started using &lt;a href="https://github.com/pimutils/khal"&gt;khal&lt;/a&gt; to render my calendar agenda locally.&lt;/p&gt;
&lt;p&gt;All of the codebases used are python based so before I start I've created a virtualenv so as not to pollute my OS.&lt;/p&gt;
&lt;p&gt;mkvirtualenv khal
workon khal&lt;/p&gt;
&lt;h3&gt;Vdirsyncer …&lt;/h3&gt;</summary><content type="html">&lt;p&gt;Recently I've been on a bit of a command line kick and I started using &lt;a href="https://github.com/pimutils/khal"&gt;khal&lt;/a&gt; to render my calendar agenda locally.&lt;/p&gt;
&lt;p&gt;All of the codebases used are python based so before I start I've created a virtualenv so as not to pollute my OS.&lt;/p&gt;
&lt;p&gt;mkvirtualenv khal
workon khal&lt;/p&gt;
&lt;h3&gt;Vdirsyncer&lt;/h3&gt;
&lt;p&gt;Firstly we need to setup &lt;a href="https://github.com/pimutils/vdirsyncer"&gt;Vdirsyncer&lt;/a&gt;, which is used to actually download your caldav entries to a local folder which khal then reads from.&lt;/p&gt;
&lt;p&gt;pip install vdirsyncer&lt;/p&gt;
&lt;p&gt;Then to configure it create a file in ~/.vdirsyncer/config and adding these contents, replacing the username/password with your own.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;[general]
 status_path = &amp;quot;~/.vdirsyncer/status/&amp;quot;
[pair fastmail]
 a = &amp;quot;khal&amp;quot;
 b = &amp;quot;cal&amp;quot;
 collections = [&amp;quot;from a&amp;quot;, &amp;quot;from b&amp;quot;]
[storage cal]
 type = &amp;quot;caldav&amp;quot;
 url = &amp;quot;https://caldav.messagingengine.com/&amp;quot;
 username = &amp;quot;user@fastmail.fm&amp;quot;
 password = &amp;quot;ONE_TIME_PASSWORD&amp;quot;
 read_only = &amp;quot;true&amp;quot;
[storage khal]
 type = &amp;quot;filesystem&amp;quot;
 path = &amp;quot;~/.vdirsyncer/fastmail&amp;quot;
 fileext = &amp;quot;.ics&amp;quot;
 #encoding = &amp;quot;utf-8&amp;quot;
 #post_hook = null
 ```

Then run an initial vdirsyncer command, this will create a bunch of folders under ~/.vdirsyncer/fastmail, each of these represents each of the calendars you have in fastmail.

### Khal

```bash
pip install khal
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now to configure khal we create this file in ~/.config/khal/config with the contents, replace the folder_id_* with the actual foldernames in ~/.vdirsyncer/fastmail&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;[calendars]

[[default]]
 path = ~/.vdirsyncer/fastmail/Default
 type = discover

[[travel]]
 path = ~/.vdirsyncer/fastmail/folder_id_1
 type = discover

[[events]]
 path = ~/.vdirsyncer/fastmail/folder_id_2
 type = discover

[[admin]]
 path = ~/.vdirsyncer/fastmail/folder_id_3
 type = discover

[[birthdays]]
 path = ~/.vdirsyncer/fastmail/folder_id_3
 type = discover

[locale]
 timeformat = %H:%M
 dateformat = %d/%m/%Y
 longdateformat = %d/%m/%Y
 datetimeformat = %d/%m/%Y %H:%M
 longdatetimeformat = %d/%m/%Y %H:%M
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now if you run khal you should get a nice calendar view with an agenda next to it.&lt;/p&gt;
&lt;h3&gt;Aliases&lt;/h3&gt;
&lt;p&gt;To keep things simple I created an alias that allows me to pop into this virtualenv, sync my calendars and display khal whenever I need my calendars displayed.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;alias khal='workon khal &amp;amp;&amp;amp; vdirsyncer sync &amp;amp;&amp;amp; khal'&lt;/code&gt;&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Conditional Read Only Fields</title><link href="https://shanedowling.com/sugarcrm-7-conditional-read-only-fields-7fbf971f0592.html" rel="alternate"></link><published>2016-02-06T00:00:00+00:00</published><updated>2016-02-06T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2016-02-06:/sugarcrm-7-conditional-read-only-fields-7fbf971f0592.html</id><summary type="html">&lt;p&gt;SugarCRM has a few ways to set fields as read-only, but it leaves a lot to be desired. One of the missing features that you might need to implement is having a module flagged as read-only on the record view based on a field on the module or the result …&lt;/p&gt;</summary><content type="html">&lt;p&gt;SugarCRM has a few ways to set fields as read-only, but it leaves a lot to be desired. One of the missing features that you might need to implement is having a module flagged as read-only on the record view based on a field on the module or the result of an API request.&lt;/p&gt;
&lt;p&gt;I have found a way to do it but it is mostly basic UI hacking and doesn't set the field read-only everywhere on the UI, just the record view page. So it will remain on the recordlist view or within other subpanels as editable, so bear this in mind as it's only useful for very specific cases.&lt;/p&gt;
&lt;p&gt;Here's a quick javascript function that'll iterate over all sidecar metadata panels and flag every field on the UI. Simply add in a conditional to flag only certain fields and wrap it in whatever checks you need to make. Stick this in your record.js.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;readOnly&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// set fields to read-only&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nx"&gt;_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;each&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;meta&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;panels&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;panel&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;each&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;panel&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;field&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="nx"&gt;field&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;readonly&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Tech"></category></entry><entry><title>NetworkX — Get all Paths from all sources to sinks</title><link href="https://shanedowling.com/networkx-get-all-paths-from-all-sources-to-sinks-825e3787b458.html" rel="alternate"></link><published>2015-11-04T00:00:00+00:00</published><updated>2015-11-04T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-11-04:/networkx-get-all-paths-from-all-sources-to-sinks-825e3787b458.html</id><summary type="html">&lt;p&gt;Often when I'm working with graphs and a set of masses in a spectrum I need to be able to iterate over all paths for all sources and sinks in that graph. Especially if I'm looking to compare multiple ideal spectrums against a given spectrum. Here's some code that will …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Often when I'm working with graphs and a set of masses in a spectrum I need to be able to iterate over all paths for all sources and sinks in that graph. Especially if I'm looking to compare multiple ideal spectrums against a given spectrum. Here's some code that will allow me to quickly iterate over all source-&amp;gt;sink paths in a given graph G.&lt;/p&gt;
&lt;p&gt;```python&lt;/p&gt;
&lt;h1&gt;!/usr/bin/env python&lt;/h1&gt;
&lt;p&gt;"""
 Shane Dowling, 04 Nov 2015
 Will iterate over all sources, sinks and get all paths
 """
 import networkx as nx
G = nx.DiGraph()
 # Fill in a few edges
 sink_nodes = [node for node, outdegree in G.out_degree(G.nodes()).items() if outdegree == 0]
 source_nodes = [node for node, indegree in G.in_degree(G.nodes()).items() if indegree == 0]
 for [(source, sink) for sink in sink_nodes for source in source_nodes]:
 for path in nx.all_simple_paths(G, source=source, target=sink):
 print(path)
 ```&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Generate Binary Tree From String</title><link href="https://shanedowling.com/generate-binary-tree-from-string-fcb1a0c662e7.html" rel="alternate"></link><published>2015-10-27T00:00:00+00:00</published><updated>2015-10-27T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-10-27:/generate-binary-tree-from-string-fcb1a0c662e7.html</id><summary type="html">&lt;p&gt;Recently while implementing the &lt;a href="http://rosalind.info/problems/ba7f/"&gt;Small Parsimony Problem&lt;/a&gt; I had the need to generate a binary tree from a string in Python.&lt;/p&gt;
&lt;p&gt;The pseudo-code in the question implicitly assumes you have some functionality that will generate a DNA sequence like CAAATCCC into a binary tree, then run SmallParsimony on it. I …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Recently while implementing the &lt;a href="http://rosalind.info/problems/ba7f/"&gt;Small Parsimony Problem&lt;/a&gt; I had the need to generate a binary tree from a string in Python.&lt;/p&gt;
&lt;p&gt;The pseudo-code in the question implicitly assumes you have some functionality that will generate a DNA sequence like CAAATCCC into a binary tree, then run SmallParsimony on it. I couldn't find that functionality anywhere, so I decided to implement something simple in networkx. Hopefully it's useful.&lt;/p&gt;
&lt;p&gt;```python&lt;/p&gt;
&lt;h1&gt;!/usr/bin/env python&lt;/h1&gt;
&lt;p&gt;"""
 Shane Dowling, 27 Oct 2015
 To run simply call generate_leaf_graph and pass in s string.
 """
def count_predecessors(T):
 pred = 0
 for v in T.nodes():
 pred += 1
 return pred&lt;/p&gt;
&lt;p&gt;def generate_leaf_graph(s):
 """
 Will generate a leaf graph and return it along
 with the Character dictionary representing the characters
 at each leaf node position
 """
 T = nx.DiGraph()
 Character = {}
 i = 0
 parI = len(s)
 for (son, daughter) in zip(s[0::2], s[1::2]):
   Character[i] = son
   Character[i+1] = daughter
   T.add_edge(parI, i)
   T.add_edge(parI, i+1)
   i += 2
   parI += 1&lt;/p&gt;
&lt;p&gt;while count_predecessors(T) &amp;gt; 1:
  for v in T.nodes():
   T.add_edge(parI, v)
   T.add_edge(parI, v+1)
   parI += 1
 return [T, Character]
 ```&lt;/p&gt;</content><category term="tech"></category></entry><entry><title>SugarCRM — Conditional Actions</title><link href="https://shanedowling.com/sugarcrm-conditional-actions-9c19e52c50.html" rel="alternate"></link><published>2015-10-15T00:00:00+00:00</published><updated>2015-10-15T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-10-15:/sugarcrm-conditional-actions-9c19e52c50.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__qWKDdqMlWZ9HD3fdzhvAjw.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Say you need to hide certain actions in Sugar depending on the status of a field, I've come across a great snippet of code from an awesome comment by Felix Nilam on the SugarCRM forums and wanted to show you a brief snippet of how it could work.&lt;/p&gt;
&lt;p&gt;Make sure …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__qWKDdqMlWZ9HD3fdzhvAjw.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Say you need to hide certain actions in Sugar depending on the status of a field, I've come across a great snippet of code from an awesome comment by Felix Nilam on the SugarCRM forums and wanted to show you a brief snippet of how it could work.&lt;/p&gt;
&lt;p&gt;Make sure to call it before render, otherwise I had issues with this.meta.buttons already having rendered.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;extendsFrom&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;RecordView&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

&lt;span class="nx"&gt;initialize&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;options&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;view&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;invokeParent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;view&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;record&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;method&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;initialize&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;args&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;options&lt;/span&gt;&lt;span class="p"&gt;]});&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;before&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;render&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;mycustom_button_visibility&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;before&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;render&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;mycustom2_button_visibility&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;mycustom_button_visibility&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ow"&gt;typeof&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_field&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_field&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;hide_button&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_button_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;mycustom2_button_visibility&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ow"&gt;typeof&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_second_field&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_second_field&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;hide_button&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_second_button_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;hide_button&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;button_sel&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;button_index&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// find the buttons index for the share button&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nx"&gt;_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;meta&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;buttons&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;bn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;bn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;main_dropdown&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nx"&gt;button_sel&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nx"&gt;_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;bn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;buttons&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;bbn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;idx_bbn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;bbn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="nx"&gt;button_index&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;idx_bbn&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;button_sel&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;button_index&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;//remove the meta&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;meta&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;buttons&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;button_sel&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;buttons&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;splice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;button_index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Props to Felix for the snippet and I hope this helps others.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Bioinformatics/Rosalind — Skeleton Generator</title><link href="https://shanedowling.com/bioinformatics-rosalind-skeleton-generator-5229517d32fa.html" rel="alternate"></link><published>2015-09-27T00:00:00+00:00</published><updated>2015-09-27T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-09-27:/bioinformatics-rosalind-skeleton-generator-5229517d32fa.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__UkaRZWvi0Lv5WVz4qxP5LQ.png"&gt;&lt;/p&gt;
&lt;p&gt;Working through part 4 of my &lt;a href="https://www.coursera.org/specializations/bioinformatics"&gt;Cousera Bioinformatics specialisation&lt;/a&gt;, I decided to write a generator that creates a standardised approach to structure, write and test your algorithmic code. It also works for &lt;a href="http://rosalind.info/"&gt;Rosalind&lt;/a&gt; problems.&lt;/p&gt;
&lt;p&gt;Explanations are in the &lt;a href="https://github.com/shano/biogen/blob/master/README.md"&gt;README&lt;/a&gt;. If you have any issues or are confused by anything, feel …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__UkaRZWvi0Lv5WVz4qxP5LQ.png"&gt;&lt;/p&gt;
&lt;p&gt;Working through part 4 of my &lt;a href="https://www.coursera.org/specializations/bioinformatics"&gt;Cousera Bioinformatics specialisation&lt;/a&gt;, I decided to write a generator that creates a standardised approach to structure, write and test your algorithmic code. It also works for &lt;a href="http://rosalind.info/"&gt;Rosalind&lt;/a&gt; problems.&lt;/p&gt;
&lt;p&gt;Explanations are in the &lt;a href="https://github.com/shano/biogen/blob/master/README.md"&gt;README&lt;/a&gt;. If you have any issues or are confused by anything, feel free to get in touch!&lt;/p&gt;
&lt;p&gt;You can find the code &lt;a href="https://github.com/shano/biogen"&gt;here&lt;/a&gt;.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Tiddlywiki to Org-Mode</title><link href="https://shanedowling.com/tiddlywiki-to-org-mode-c83bd3cd7323.html" rel="alternate"></link><published>2015-08-31T00:00:00+00:00</published><updated>2015-08-31T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-08-31:/tiddlywiki-to-org-mode-c83bd3cd7323.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__xJqslHRpA1F0Qxjvp4tU2A.png"&gt;&lt;/p&gt;
&lt;p&gt;Okay, I swear this is the last document conversion script I'm writing this year. I've been on a bit of a rampage to move all of my life in Emacs Org-Mode and converting all of my Tiddlywiki notes into Org mode has been on my list for a while. Thankfully …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__xJqslHRpA1F0Qxjvp4tU2A.png"&gt;&lt;/p&gt;
&lt;p&gt;Okay, I swear this is the last document conversion script I'm writing this year. I've been on a bit of a rampage to move all of my life in Emacs Org-Mode and converting all of my Tiddlywiki notes into Org mode has been on my list for a while. Thankfully both formats are pretty simple so the script was fairly straightforward.&lt;/p&gt;
&lt;p&gt;You can find it &lt;a href="https://github.com/shano/Tiddlywiki-to-Org-Mode"&gt;here&lt;/a&gt;, simply fill in the folder locations and give it a run.&lt;/p&gt;
&lt;p&gt;A heads up. If you're merging the newly generated Org notes into an existing directory, do a dry run in a dummy folder first then compare the dummy results with your existing Org folder. You need to ensure you won't overwrite any existing files(the script doesn't do any clever checking).&lt;/p&gt;
&lt;p&gt;You can do something like&lt;/p&gt;
&lt;p&gt;&lt;code&gt;comm -12 &amp;lt;(ls ~/Documents/OrgFolder) &amp;lt;(ls ~/Documents/DummyFolder/org)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;to run an intersection on the two filesets.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>OSQA to Tiddlywiki</title><link href="https://shanedowling.com/osqa-to-tiddlywiki-ccdb598d226b.html" rel="alternate"></link><published>2015-07-27T00:00:00+00:00</published><updated>2015-07-27T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-07-27:/osqa-to-tiddlywiki-ccdb598d226b.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__0l5W0q____QuCByvtgmeQdJA.png"&gt;&lt;/p&gt;
&lt;p&gt;Recently I've been trying out &lt;a href="http://www.tiddlywiki.com/"&gt;Tiddlywiki&lt;/a&gt; as an alternative to &lt;a href="http://evernote.com/"&gt;Evernote&lt;/a&gt;. I decided to try convert my existing &lt;a href="http://www.osqa.net/"&gt;OSQA&lt;/a&gt; install to &lt;a href="http://www.tiddlywiki.com/"&gt;Tiddlywiki&lt;/a&gt; as I'm travelling a lot and don't always have access to my servers via the internet. Here's a python script I wrote that might help anyones trying to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__0l5W0q____QuCByvtgmeQdJA.png"&gt;&lt;/p&gt;
&lt;p&gt;Recently I've been trying out &lt;a href="http://www.tiddlywiki.com/"&gt;Tiddlywiki&lt;/a&gt; as an alternative to &lt;a href="http://evernote.com/"&gt;Evernote&lt;/a&gt;. I decided to try convert my existing &lt;a href="http://www.osqa.net/"&gt;OSQA&lt;/a&gt; install to &lt;a href="http://www.tiddlywiki.com/"&gt;Tiddlywiki&lt;/a&gt; as I'm travelling a lot and don't always have access to my servers via the internet. Here's a python script I wrote that might help anyones trying to do the same.&lt;/p&gt;
&lt;p&gt;You can find it &lt;a href="https://github.com/shano/osqatotiddlywiki"&gt;here on github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Any questions or queries, just let me know!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Verify you're hidden with conky</title><link href="https://shanedowling.com/verify-youre-hidden-with-conky-b59f1e36001b.html" rel="alternate"></link><published>2015-07-26T00:00:00+00:00</published><updated>2015-07-26T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-07-26:/verify-youre-hidden-with-conky-b59f1e36001b.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__1JMMamsmo6ZschEvlANcLg.png"&gt;&lt;/p&gt;
&lt;p&gt;I run a few scripts to ensure my identity stays hidden day to day on my
laptop. Here's a few conky scripts to verify things are as they should
be.&lt;/p&gt;
&lt;h3&gt;VPN&lt;/h3&gt;
&lt;p&gt;Because I don't always know my ip or what my VPN's ip is, I wanted conky
to display the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__1JMMamsmo6ZschEvlANcLg.png"&gt;&lt;/p&gt;
&lt;p&gt;I run a few scripts to ensure my identity stays hidden day to day on my
laptop. Here's a few conky scripts to verify things are as they should
be.&lt;/p&gt;
&lt;h3&gt;VPN&lt;/h3&gt;
&lt;p&gt;Because I don't always know my ip or what my VPN's ip is, I wanted conky
to display the location I currently appear at from my VPN. If the
location was the same as where I physically am, something's gone wrong.
To implement this, I wrote a python script and using ipinfo.io grab my
location and print it to conky.&lt;/p&gt;
&lt;p&gt;Here's the script I use to pull my location.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;requests&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
 &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
 &lt;span class="s1"&gt;&amp;#39;User-Agent&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;curl/7.9.8 (i686-pc-linux-gnu) libcurl 7.9.8 (OpenSSL 0.9.6b) (ipv6 enabled)&amp;#39;&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
 &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;http://ipinfo.io&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
 &lt;span class="n"&gt;ipdata&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
 &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ipdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;city&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;, &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ipdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;region&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;, &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ipdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;country&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
 &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And here's the conky configuration I use to call it.&lt;/p&gt;
&lt;p&gt;${goto 40}Location: ${execpi 600 python ~/scripts/conky/location.py}&lt;/p&gt;
&lt;p&gt;&lt;a href="http://dnsleaktest.com"&gt;http://dnsleaktest.com&lt;/a&gt; for an example of how it can be circumvented.&lt;/p&gt;
&lt;h3&gt;Mac Address&lt;/h3&gt;
&lt;p&gt;For my mac address I wanted to be able to see my wifi adaptors physical
address and what it should be spoofed to. If the two are the same,
something's else has gone wrong.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;${if_existing /proc/net/route wlan0}
 ${goto 40}${execpi 600 ethtool -P wlan0}
 ${endif}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Hostname&lt;/h3&gt;
&lt;p&gt;I also like to randomise my hostname on startup using this &lt;a href="http://shanedowling.com/connect-to-routers-anonymously/"&gt;script&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;${goto 40}Hostname: ${execpi 1000 hostname}&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Adding an action to the listview headerpanel</title><link href="https://shanedowling.com/sugarcrm-7-adding-an-action-to-the-listview-headerpanel-cdfff560e7b3.html" rel="alternate"></link><published>2015-07-25T00:00:00+00:00</published><updated>2015-07-25T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-07-25:/sugarcrm-7-adding-an-action-to-the-listview-headerpanel-cdfff560e7b3.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__WJpUe2DNz1qsC4zMTJB0eA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;This tutorial should show you how to add a custom button/action that
will appear across all modules. It's a little similar to &lt;a href="http://shanedowling.com/sugarcrm-7-adding-an-action-to-the-listview/"&gt;this tutorial&lt;/a&gt;
with a few changes to how the button gets rendered and the actions get
called.&lt;/p&gt;
&lt;h3&gt;1. Adding the button to the headerpanel&lt;/h3&gt;
&lt;p&gt;Firstly you'll need …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__WJpUe2DNz1qsC4zMTJB0eA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;This tutorial should show you how to add a custom button/action that
will appear across all modules. It's a little similar to &lt;a href="http://shanedowling.com/sugarcrm-7-adding-an-action-to-the-listview/"&gt;this tutorial&lt;/a&gt;
with a few changes to how the button gets rendered and the actions get
called.&lt;/p&gt;
&lt;h3&gt;1. Adding the button to the headerpanel&lt;/h3&gt;
&lt;p&gt;Firstly you'll need to create a new folder to store the headerpane
actions, so create this folder in the sugarcrm root
directory custom/clients/base/views/list-headerpane/. Then create the
file list-headerpane.php with this content. This will add a button next
to the Create button for all modules.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nb"&gt;defined&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sugarEntry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;sugarEntry&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Not A Valid Entry Point&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="cm"&gt;/*&lt;/span&gt;
&lt;span class="cm"&gt; * Your installation or use of this SugarCRM file is subject to the applicable&lt;/span&gt;
&lt;span class="cm"&gt; * terms available at&lt;/span&gt;
&lt;span class="cm"&gt; * [http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/](http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/).&lt;/span&gt;
&lt;span class="cm"&gt; * If you do not agree to all of the applicable terms or do not have the&lt;/span&gt;
&lt;span class="cm"&gt; * authority to bind the entity as an authorized representative, then do not&lt;/span&gt;
&lt;span class="cm"&gt; * install or use this SugarCRM file.&lt;/span&gt;
&lt;span class="cm"&gt; *&lt;/span&gt;
&lt;span class="cm"&gt; * Copyright (C) SugarCRM Inc. All rights reserved.&lt;/span&gt;
&lt;span class="cm"&gt; */&lt;/span&gt;

&lt;span class="nv"&gt;$viewdefs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;base&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;view&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;list-headerpane&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;template&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;headerpane&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;LBL_MODULE_NAME&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;buttons&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;    &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;new_button&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;type&amp;#39;&lt;/span&gt;    &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;button&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;   &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;LBL_NEW_BUTTON_LABEL&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;css_class&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;btn-secondary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;acl_action&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;list&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;events&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="s1"&gt;&amp;#39;click&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;list:new_button:fire&amp;#39;&lt;/span&gt;
            &lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;    &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;create_button&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;type&amp;#39;&lt;/span&gt;    &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;button&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;label&amp;#39;&lt;/span&gt;   &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;LBL_CREATE_BUTTON_LABEL&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;css_class&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;btn-primary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;acl_action&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;create&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;route&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="s1"&gt;&amp;#39;action&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;create&amp;#39;&lt;/span&gt;
            &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;sidebar_toggle&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;type&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;sidebartoggle&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2. Adding the action hook&lt;/h3&gt;
&lt;p&gt;To fire this action you'll need to add some
code custom/clients/base/views/recordlist/recordlist.js, in the&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;context&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;list:new_button:fire&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;applyFxn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now populate applyFxn with whatever code you want to run and it will
work across every module.&lt;/p&gt;
&lt;h3&gt;3. Quick Repair and Rebuilt(as always)&lt;/h3&gt;
&lt;p&gt;Any questions feel free to ask!&lt;/p&gt;
&lt;h3&gt;Extra tip.&lt;/h3&gt;
&lt;p&gt;Only want to do this for a single module. Instead of placing the code in
custom/clients place it in custom/modules/&lt;MODULE&gt;/clients and it
should work for just that one module.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM — Prevent currencies getting overridden</title><link href="https://shanedowling.com/sugarcrm-prevent-currencies-getting-overridden-7944af907da9.html" rel="alternate"></link><published>2015-04-16T00:00:00+00:00</published><updated>2015-04-16T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-04-16:/sugarcrm-prevent-currencies-getting-overridden-7944af907da9.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__zrzOG7L4xvFI2XJ2hB9iaA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;SugarCRM has some neat features involving currency rates, but one of the
more annoying ones is that Sugar will automatically update the base rate
every time you save a record with a currency field attached. This can be
fairly annoying default behaviour if you wish to maintain the correct
record …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__zrzOG7L4xvFI2XJ2hB9iaA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;SugarCRM has some neat features involving currency rates, but one of the
more annoying ones is that Sugar will automatically update the base rate
every time you save a record with a currency field attached. This can be
fairly annoying default behaviour if you wish to maintain the correct
record value at the time of sale.&lt;/p&gt;
&lt;h3&gt;The problem&lt;/h3&gt;
&lt;p&gt;Say for example you have a custom module Books and your systems base
currency is USD. You sell a book for 10 Euros at 11 dollars(the currenct
change rate). If say a few weeks later you wanted to change the status
of the Book to say, note down that the invoice was received and the
exchange rate in that time has changed drastically. When you hit save
Sugar would re-calculate the Euro value again(and despite the item being
sold for 10 Euros originally the exchange rate has now changed and Sugar
shows say 12 Euros, which is completely inconsistent with what you've
invoiced.&lt;/p&gt;
&lt;h3&gt;The solution&lt;/h3&gt;
&lt;p&gt;There is thankfully a way around this using by overriding Sugar's
default behaviour using logic hooks. So taking our book example this is
what custom/modules/Books/logic_hooks.php might look like.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
  &lt;span class="c1"&gt;// Do not store anything in this file that is not part of the array or the hook version.  This file will&lt;/span&gt;
  &lt;span class="c1"&gt;// be automatically rebuilt in the future.&lt;/span&gt;
  &lt;span class="nv"&gt;$hook_version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nv"&gt;$hook_array&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
  &lt;span class="c1"&gt;// position, file, function&lt;/span&gt;
  &lt;span class="nv"&gt;$hook_array&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;before_save&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
  &lt;span class="nv"&gt;$hook_array&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;before_save&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;workflow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;include/workflow/WorkFlowHandler.php&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;WorkFlowHandler&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;WorkFlowHandler&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="nv"&gt;$hook_array&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;before_save&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Custom Book Logic Hooks&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;custom/modules/Books/logic_hooks_class.php&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;books_logic_hooks&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;before_save_method&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="nv"&gt;$hook_array&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;after_save&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Custom Book Logic Hooks&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;custom/modules/Books/logic_hooks_class.php&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;books_logic_hooks&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;after_save_method&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And the actual code to do the overriding would be in
custom/modules/Books/logic_hooks_class.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nb"&gt;defined&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sugarEntry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;sugarEntry&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Not A Valid Entry Point&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;books_logic_hooks&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;protected&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="nv"&gt;$fetchedRow&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;before_save_method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$event&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$arguments&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="k"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nv"&gt;$fetchedRow&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;fetched_row&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="sd"&gt;/**&lt;/span&gt;
&lt;span class="sd"&gt;  * Called as process_record logic hook on the Books module&lt;/span&gt;
&lt;span class="sd"&gt;  */&lt;/span&gt;

&lt;span class="sd"&gt;/**&lt;/span&gt;
&lt;span class="sd"&gt;  * [@param](http://twitter.com/param &amp;quot;Twitter profile for @param&amp;quot;) $bean&lt;/span&gt;
&lt;span class="sd"&gt;  * [@param](http://twitter.com/param &amp;quot;Twitter profile for @param&amp;quot;) $event&lt;/span&gt;
&lt;span class="sd"&gt;  * [@param](http://twitter.com/param &amp;quot;Twitter profile for @param&amp;quot;) $arguments&lt;/span&gt;
&lt;span class="sd"&gt;  */&lt;/span&gt;
  &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;after_save_method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$event&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$arguments&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$custom_bean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;Books&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="nv"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;retrieve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$resave_bean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;// Need to ignore base rate updates when the currency stays the same&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;isset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nv"&gt;$fetchedRow&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;currency_id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nv"&gt;$fetchedRow&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;currency_id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;fetched_row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;currency_id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;isset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nv"&gt;$fetchedRow&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;base_rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nv"&gt;$fetchedRow&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;base_rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt;     &lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;fetched_row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;base_rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;// Run a SQL update to reset the base price to the original, as it shouldn&amp;#39;t be over-ridden unless it&amp;#39;s new&lt;/span&gt;
        &lt;span class="nv"&gt;$sql&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sprintf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UPDATE books_cstm SET base_rate=&amp;quot;%s&amp;quot; WHERE id_c=&amp;quot;%s&amp;quot;;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nv"&gt;$fetchedRow&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;base_rate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nv"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="nv"&gt;$bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;db&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$sql&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Using the db over-ride hack should allow you to retain the same base
rate on each record and Sugar will display the original 10 Euros despite
the exchange rate changing.&lt;/p&gt;
&lt;h3&gt;Some words of caution&lt;/h3&gt;
&lt;p&gt;If you decide to override Sugar's default behaviour, you could run
into some issues down the line with reporting.
Basically the reports modules seems to ignore the base rate stored on
each individual record and just uses whatever the system default is.&lt;/p&gt;
&lt;p&gt;So you'll have totals in your report that will be inconsistent with the
currency value that's stored on the record. One way around this is to
only create reports using your base currency, another is to create a
secondary field storing the correct amount of the currency in a decimal
field rather than a currency field and creating reports based on that
amount.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Roll SugarCRM with Docker</title><link href="https://shanedowling.com/sugarcrm-7-roll-sugarcrm-with-docker-f4449e2ca7a.html" rel="alternate"></link><published>2015-04-07T00:00:00+00:00</published><updated>2015-04-07T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-04-07:/sugarcrm-7-roll-sugarcrm-with-docker-f4449e2ca7a.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__IkzYCoEsXglLAC549u9Wzg.png"&gt;&lt;/p&gt;
&lt;p&gt;I find trying to replicate the SugarCRM environment locally a real pain.
One of the main issues is simply that Sugar requires such old versions
of PHP to be installed, especially compared to other web projects I have
that implement the latest/greatest versions of PHP. Running multiple PHP
versions …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__IkzYCoEsXglLAC549u9Wzg.png"&gt;&lt;/p&gt;
&lt;p&gt;I find trying to replicate the SugarCRM environment locally a real pain.
One of the main issues is simply that Sugar requires such old versions
of PHP to be installed, especially compared to other web projects I have
that implement the latest/greatest versions of PHP. Running multiple PHP
versions simultaneously can be a pain. One solution is to use Vagrant
but I find that too heavy for my needs, so I gave docker a go and found
it a much faster/elegant solution.&lt;/p&gt;
&lt;p&gt;Here's the steps to get yourself up and running.&lt;/p&gt;
&lt;h3&gt;1. MySQL&lt;/h3&gt;
&lt;p&gt;You'll need your own installation of MySQL for this. As I use Debian
testing as a host I just installed MySQL on it and have my SugarCRM
boxes point to the host using the dockerhost entry in /etc/hosts on each
docker container.&lt;/p&gt;
&lt;p&gt;There is nothing at all stopping you from creating another Docker
instance running MySQL but I figured this was an unnecessary step and
getting data persistence working with Docker can be a little annoying.&lt;/p&gt;
&lt;h3&gt;2. Getting the Docker config&lt;/h3&gt;
&lt;p&gt;Simply clone the repo for whichever version you intend to you use.&lt;/p&gt;
&lt;p&gt;I have two versions of this setup for both SugarCRM Version 7.2(Needing
PHP 5.3) and Version 7.5(Needing PHP 5.4).&lt;/p&gt;
&lt;p&gt;Sugar-Docker 7.2 is &lt;a href="https://github.com/shano/docker-sugarcrm-72"&gt;here&lt;/a&gt;.
Sugar-Docker 7.5 is &lt;a href="https://github.com/shano/docker-sugarcrm-75"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;3. Fill in Docker settings&lt;/h3&gt;
&lt;p&gt;run.sh&lt;/p&gt;
&lt;p&gt;Edit this script and change the containers ip to whatever your hosts ip
is. Don't forget to set the folder to your SugarCRM code folder.&lt;/p&gt;
&lt;p&gt;files/vhost.conf&lt;/p&gt;
&lt;p&gt;Change settings here if you wish to use a custom url to access Sugar or
if you have multiple instances of SugarCRM installed.&lt;/p&gt;
&lt;p&gt;files/php.ini&lt;/p&gt;
&lt;p&gt;Change any settings you might want to customise with PHP here.&lt;/p&gt;
&lt;h3&gt;4. Tell SugarCRM to use the right MySQL database&lt;/h3&gt;
&lt;p&gt;In config.php I just set the mysql host to dockerhost.&lt;/p&gt;
&lt;h3&gt;5. Hosts entry&lt;/h3&gt;
&lt;p&gt;Then on your host operating system make sure to point the virtualhost
url to the box. For me, in my /etc/hosts I have this entry.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;127.0.0.1 sugar.dev&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Debugging&lt;/h3&gt;
&lt;p&gt;Because I've used stdout for logs you can see apache errors by running a
command like this.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo docker logs -f sugarcrm72&lt;/code&gt;&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Setting up git with Rescuetime highlights</title><link href="https://shanedowling.com/setting-up-git-with-rescuetime-highlights-aa6d13128bb6.html" rel="alternate"></link><published>2015-02-15T00:00:00+00:00</published><updated>2015-02-15T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-02-15:/setting-up-git-with-rescuetime-highlights-aa6d13128bb6.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__jppvR1Pu3XEUcOHJp__3t3g.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Recently I've written on another site how I use Rescuetime to provide metrics on my overall productivity that I can review each week. One useful feature I noticed was Rescuetime highlights, which gives you a good overview of your accompishments throughout the day. The first thing I wanted to add …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__jppvR1Pu3XEUcOHJp__3t3g.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Recently I've written on another site how I use Rescuetime to provide metrics on my overall productivity that I can review each week. One useful feature I noticed was Rescuetime highlights, which gives you a good overview of your accompishments throughout the day. The first thing I wanted to add to this (obviously) was git commits.&lt;/p&gt;
&lt;p&gt;Luckily it turns out someone had already thought of this and implemented
it. The script itself is here, I'm just going to reproduce it below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# An example hook script to log commit messages&lt;/span&gt;
&lt;span class="c1"&gt;# as a &amp;#39;daily highlight&amp;#39; in RescueTime Premium&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# See README.md for more information&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# To enable this hook:&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# 1. Place this file in .git/hooks and rename to &amp;quot;post-commit&amp;quot;.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# 2. Update the value of API_KEY below with a valid RescueTime API key.&lt;/span&gt;
&lt;span class="c1"&gt;#    [ you can generate a key at [https://www.rescuetime.com/anapi/manage](https://www.rescuetime.com/anapi/manage) ]&lt;/span&gt;

&lt;span class="nv"&gt;API_KEY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;PUT_YOUR_API_KEY_HERE

&lt;span class="c1"&gt;# REQUIRED FIELDS - Today&amp;#39;s date and commit message&lt;/span&gt;

&lt;span class="nv"&gt;MESSAGE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;log&lt;span class="w"&gt; &lt;/span&gt;-1&lt;span class="w"&gt; &lt;/span&gt;HEAD&lt;span class="w"&gt; &lt;/span&gt;--pretty&lt;span class="o"&gt;=&lt;/span&gt;format:%s&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;DATE_TODAY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+&lt;span class="s2"&gt;&amp;quot;%Y-%m-%d&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# You can edit the LABEL value if you would rather&lt;/span&gt;
&lt;span class="c1"&gt;# describe these commits differently.&lt;/span&gt;

&lt;span class="nv"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Code Commit&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# See more filtering examples in README.md&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;MESSAGE&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-gt&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;16&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;curl&lt;span class="w"&gt; &lt;/span&gt;--data&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;key=&lt;/span&gt;&lt;span class="nv"&gt;$API_KEY&lt;/span&gt;&lt;span class="s2"&gt;&amp;amp;highlight_date=&lt;/span&gt;&lt;span class="nv"&gt;$DATE_TODAY&lt;/span&gt;&lt;span class="s2"&gt;&amp;amp;description=&lt;/span&gt;&lt;span class="nv"&gt;$MESSAGE&lt;/span&gt;&lt;span class="s2"&gt;&amp;amp;source=&lt;/span&gt;&lt;span class="nv"&gt;$LABEL&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;https://www.rescuetime.com/anapi/highlights_post&lt;span class="o"&gt;](&lt;/span&gt;https://www.rescuetime.com/anapi/highlights_post&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now, the annoying part for me is that this doesn't work globally across
all of my git repos, so to fix this you can leverage git's templates directory.
To create/initialise a git template folder simply run these commands.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;—&lt;span class="w"&gt; &lt;/span&gt;global&lt;span class="w"&gt; &lt;/span&gt;init.templatedir&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;~/.git_template&amp;#39;&lt;/span&gt;
mkdir&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;~/.git-templates/hooks
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then put the above shell code into ~/.git-templates/hooks/post-commit&lt;/p&gt;
&lt;p&gt;What this means is that from now on, any new git repos you initialise
will contain this post-hook script. However, if you want to attach this
to existing repos, just run a git init wherever the .git folder is.&lt;/p&gt;</content><category term="Productivity"></category></entry><entry><title>Bulletproof productivity</title><link href="https://shanedowling.com/bulletproof-productivity-c95958f3bbf9.html" rel="alternate"></link><published>2015-02-14T00:00:00+00:00</published><updated>2015-02-14T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-02-14:/bulletproof-productivity-c95958f3bbf9.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__9xjbAEugp7LzBovSvqZstQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Over the last few months I've been trying different ways to increase my
productivity, specifically during work hours. From todo lists to
pomodoro's, xeffect cards, the autofocus method and even back to GTD.
I've noticed a pattern with a lot of these techniques. They all require
a pile of maintenance …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__9xjbAEugp7LzBovSvqZstQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Over the last few months I've been trying different ways to increase my
productivity, specifically during work hours. From todo lists to
pomodoro's, xeffect cards, the autofocus method and even back to GTD.
I've noticed a pattern with a lot of these techniques. They all require
a pile of maintenance and none of them actually give you much in terms
of positive feedback. When you mark a task off a list, you're often not
getting the satisfaction of completion because that task is in the
middle of a huge pile of other tasks you have yet to face. These lists
goal to complete, all lists and systems have done is given me two
problems to solve. The Pomodoro technique especially, the amount of
over-head and tracking you need to do just to discover productivity
trends is painful. How off were your estimates, how many interruptions
did you log last Tuesday, it's all a bit messy and overwhelming after a
while, and difficult to maintain.&lt;/p&gt;
&lt;p&gt;A few years ago Jeff Atwood wrote a post titled &lt;a href="https://blog.codinghorror.com/todont/"&gt;Todon't&lt;/a&gt;, which
provides a lot of good reasons why todo lists aren't making you any more
productive and to some extent I agree with him. What I disagree on is
his dismissal of tools. While todo lists might not motivate you much,
there are apps out there to help assist us in focusing on the tasks at
hand. So I'm not about to throw tools out the window yet.&lt;/p&gt;
&lt;p&gt;What I was looking for were apps that required almost no maintenance but
would improve your productivity in some way shape or form and after a
fairly exhaustive search I've come across two that together have
increased my personal/work-time productivity by leaps and
bounds(evidence at the end, promise).&lt;/p&gt;
&lt;h3&gt;Focus(for Mac)&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://heyfocus.com"&gt;Focus&lt;/a&gt; is awesome. It has everything I
could want in a tool to stop my lizard brain from hitting up distraction
sites every ten minutes. It sounds a little like Self-Control in that it
will block certain websites for certain time periods. However, it has a
few other features three of which turn Focus into something far, far
more powerful.&lt;/p&gt;
&lt;p&gt;Firstly, it will also block apps, meaning there's no circumventing
unfocused time by say watching a movie or playing video games.
Secondly when you go to a blocked website it will present quotes to try
and motivate you, not just a big "THIS IS BLOCKED" message. Now, I'm a big fan of Stoicism, so I dumped a ton of Stoic quotes in there, so
everytime I try go to reddit, I can't. Now, however I also get Marcus
Aurelius telling me I might die any day now so do the right thing(or
other, better motivation quotes).
Finally there's schedules. This is easily the most powerful feature of
Focus. It allows you to set blocks of time during your days when you
want to be focused, so it's no longer an action you need to take. This
is key, focused can now be the default setting on your computer. Here's
me, trying to unfocus while writing this post. I can't so I guess I
should keep writing. That's fantastic.&lt;/p&gt;
&lt;p&gt;It means when I get up in the morning and try to fire up reddit, Marcus
is shouting at me again. First thing when I get into work, Marcus is
shouting at me again. My default behaviour when I am on a laptop is to
be productive, it changes how you see your computer. It's not the
amazing distraction device it once was. It's a tool for getting stuff
done.&lt;/p&gt;
&lt;p&gt;Right now I have focus to run from 6am-8pm on workdays(so even after
work I don't just veg out with distracting stuff on my laptop) and it's
9am-6pm on weekends(for movies etc in the evenings). I'm half tempted to
try run it 24/7 for a few weeks and see if I miss the noise. Either way
this app has given me many more productive hours of my life back.&lt;/p&gt;
&lt;h3&gt;&lt;a href="https://www.rescuetime.com"&gt;Rescuetime&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Rescuetime has been around a while and at first I was pretty dismissive of it, I mean it has a 'Get Focused' mode that sort of like a poor man's Focus and it has some pretty graphs but why in God's name would I want to maintain this sort of data on everything I do for some graphs? Well, the simple answer is because if you have a brain that's anything like mine, then it's stupid and those graphs will do more for your productivity than a million unread copies of Getting Stuff Done. Rescuetime provides an easy, visual way to compare your productivity over time, and that little productivity score might just begin to matter to you. I've installed the chrome extension, which provides a really handy pop-up of how you're going today and how this compares to your average. If you begin to check this regularly, you'll really begin to care about keeping above your average(then of course your average will increase).&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__DQGJrB1c3CUHPBMiPoLyjQ.png"&gt;&lt;/p&gt;
&lt;p&gt;It's like the stuff FarmVille does to your brain, but instead of
watering computer plants, you're getting shit done.&lt;/p&gt;
&lt;h3&gt;Evidence&lt;/h3&gt;
&lt;p&gt;To quantify how effective this has been, here's
my Rescuetime score for the
times between 6am-8pm on the first week of January.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__z6lkYgi60Pzhd5eH0__pgMw.png"&gt;&lt;/p&gt;
&lt;p&gt;And again this week(2nd week of February).&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__2uTLNboch31Xw7QCUzYXvw.png"&gt;&lt;/p&gt;
&lt;p&gt;I can't really argue with those results.
post and want to give it a try, it'd be great if you could use them.
Thanks!&lt;/p&gt;</content><category term="Productivity"></category></entry><entry><title>Solving boot2docker's fail to start error</title><link href="https://shanedowling.com/solving-boot2dockers-fail-to-start-error-acec8ba7802c.html" rel="alternate"></link><published>2015-02-07T00:00:00+00:00</published><updated>2015-02-07T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-02-07:/solving-boot2dockers-fail-to-start-error-acec8ba7802c.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__lnHJgbXH80YiZ__B2F1HYcA.png"&gt;&lt;/p&gt;
&lt;p&gt;I'm putting this obvious solution up as I couldn't see it anywhere
online.&lt;/p&gt;
&lt;p&gt;If you try to start up boot2docker with boot2docker start and it
returns.&lt;/p&gt;
&lt;p&gt;error in run: Failed to start machine "boot2docker-vm": exit status 1&lt;/p&gt;
&lt;p&gt;Before destroying everything and wiping your ~/Virtualbox VMs folder,
try starting up Virtualbox …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__lnHJgbXH80YiZ__B2F1HYcA.png"&gt;&lt;/p&gt;
&lt;p&gt;I'm putting this obvious solution up as I couldn't see it anywhere
online.&lt;/p&gt;
&lt;p&gt;If you try to start up boot2docker with boot2docker start and it
returns.&lt;/p&gt;
&lt;p&gt;error in run: Failed to start machine "boot2docker-vm": exit status 1&lt;/p&gt;
&lt;p&gt;Before destroying everything and wiping your ~/Virtualbox VMs folder,
try starting up Virtualbox and seeing if the vm simply hasn't been
suspended due to an OSX suspend or shutdown.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Unpause the machine&lt;/li&gt;
&lt;li&gt;Send a shutdown signal&lt;/li&gt;
&lt;li&gt;Try boot2docker start again.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And that's it, hope it works for you.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>R — Cleaning/Merging Excel files</title><link href="https://shanedowling.com/r-cleaning-merging-excel-files-e742fbb33c71.html" rel="alternate"></link><published>2015-02-05T00:00:00+00:00</published><updated>2015-02-05T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2015-02-05:/r-cleaning-merging-excel-files-e742fbb33c71.html</id><summary type="html">&lt;p&gt;This is just a useful snippet of code I've been using a lot to tidy
up messy exports I've been getting lately.&lt;/p&gt;
&lt;p&gt;Takes in a bunch of excel files, rewrites some variable column names in
column 3 then outputs them as a list of dataframes. These then get
merged into …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is just a useful snippet of code I've been using a lot to tidy
up messy exports I've been getting lately.&lt;/p&gt;
&lt;p&gt;Takes in a bunch of excel files, rewrites some variable column names in
column 3 then outputs them as a list of dataframes. These then get
merged into a single csv file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nf"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gdata&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;filenames&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;list.files&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;excels&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;*.xlsx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;full.names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ldf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;lapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filenames&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;read.xls&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;names&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;sectionName&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nf"&gt;names&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="nf"&gt;names&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;sectionName&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;section&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;
&lt;span class="p"&gt;})&lt;/span&gt;

&lt;span class="nf"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;merge_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ldf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;write.csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;result.csv&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;row.names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM — Git Version Control Strategy</title><link href="https://shanedowling.com/sugarcrm-git-version-control-strategy-20997a85b1c0.html" rel="alternate"></link><published>2014-11-10T00:00:00+00:00</published><updated>2014-11-10T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-11-10:/sugarcrm-git-version-control-strategy-20997a85b1c0.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__2NJhCUqmjZjwLRviy5R6yg.png"&gt;&lt;/p&gt;
&lt;p&gt;I've found SugarCRM an utter pain to work with in terms of version
control for a number of reasons, but the most annoying is simply that
certain critical elements of the SugarCRM configuration are stored on
the database.&lt;/p&gt;
&lt;p&gt;Over time I've worked out a system that circumvents this and I've …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__2NJhCUqmjZjwLRviy5R6yg.png"&gt;&lt;/p&gt;
&lt;p&gt;I've found SugarCRM an utter pain to work with in terms of version
control for a number of reasons, but the most annoying is simply that
certain critical elements of the SugarCRM configuration are stored on
the database.&lt;/p&gt;
&lt;p&gt;Over time I've worked out a system that circumvents this and I've
managed to create a very useful gitflow based workflow.&lt;/p&gt;
&lt;p&gt;I won't go over what gitflow is or does, there's a great explanation
&lt;a href="http://nvie.com/posts/a-successful-git-branching-model/"&gt;here&lt;/a&gt; and if you need a more visual explanation this &lt;a href="http://danielkummer.github.io/git-flow-cheatsheet/"&gt;cheatsheet&lt;/a&gt; is a terrific reference.&lt;/p&gt;
&lt;h3&gt;Example Problem&lt;/h3&gt;
&lt;p&gt;Say you're in the middle of developing a new feature in SugarCRM. You've
used something like.&lt;/p&gt;
&lt;p&gt;git flow feature start mynewfeature&lt;/p&gt;
&lt;p&gt;Someone realises a new urgent fix is required to go live now, you're not
going to want to deploy your half implemented feature along with the new
urgent fix. That's okay, you're using git flow. So you'd commit your
half finished feature. Then create a hotfix, like&lt;/p&gt;
&lt;p&gt;git flow hotfix start mynewfix&lt;/p&gt;
&lt;p&gt;The problem is that you've made a bunch of changes to the sugarcrm
database, specifically fields_meta_data. Even if you swap branches the
fields_meta_data won't update back to the master branch, which is
where the new hotfix will create it's branch from. What you need is a
way to keep fields_meta_data in sync with the branch you're currently
working on.&lt;/p&gt;
&lt;h3&gt;The Solution-Git Hooks&lt;/h3&gt;
&lt;p&gt;Using git hooks you can automatically run commands when certain events
occur. The two hooks of interest to us are pre-commit and post-checkout.&lt;/p&gt;
&lt;h3&gt;Tracking all database changes&lt;/h3&gt;
&lt;p&gt;What pre-commit does is run everytime you commit code. So, if you
could dump your fields_meta_data everytime a commit is made, you can
be sure your branch is tracking all database changes you're making via&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
rm&lt;span class="w"&gt; &lt;/span&gt;databases/fields_meta_data.sql
mysqldump&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="w"&gt; &lt;/span&gt;root&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;—&lt;span class="w"&gt; &lt;/span&gt;extended-insert&lt;span class="o"&gt;=&lt;/span&gt;FALSE&lt;span class="w"&gt; &lt;/span&gt;—&lt;span class="w"&gt; &lt;/span&gt;skip-dump-date&lt;span class="w"&gt; &lt;/span&gt;sugarcrm&lt;span class="w"&gt; &lt;/span&gt;fields_meta_data&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;databases/fields_meta_data.sql
git&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;databases/fields_meta_data.sql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note that I'm not compressing these database dumps, they should stay in
plaintext with each line representing a database insert. The reason for
that is when it comes time to merge two branches, say you've made
changes to studio in a master branch and also to a feature branch you
wish to release, you can merge the fields_meta_data in with branched
changes very easily via any mergetool.&lt;/p&gt;
&lt;h3&gt;Keep Sugar up to date with your branch&lt;/h3&gt;
&lt;p&gt;Finally when you swap between branches you'll want to automatically
apply that branches fields_meta_data because your likely to forget to
do this step. So say your swapping from a feature branch to master.
You'll want to revert your studio changes back to where master was. You
can do this in the post checkout git hook. So in&lt;/p&gt;
&lt;p&gt;```bash&lt;/p&gt;
&lt;h1&gt;!/bin/bash&lt;/h1&gt;
&lt;p&gt;echo 'Importing this branches field meta data'
 mysql -u root -p sugarcrm &amp;lt; databases/fields_meta_data.sql
 ```&lt;/p&gt;
&lt;p&gt;This will automatically execute your fields_meta_data database dump on
your SugarCRM install.&lt;/p&gt;
&lt;h3&gt;Deploying&lt;/h3&gt;
&lt;p&gt;In the end, whether a hotfix or a feature it'll always get merged to
master when I'm deploying. So what I tend to do is finish my
release/hotfix, merge to master then apply a data sync to
fields_meta_data on live so I can manually review the db changes
before deploying. Navicat has a really nice tool to handle this.&lt;/p&gt;
&lt;h3&gt;Going further&lt;/h3&gt;
&lt;p&gt;As you can see all I've written is two simple bash scripts and
they've made my Sugar workflow much cleaner. You could go far further
than this, a few examples I can think of would be to track db changes on
the saved_reports table or have the scripts automatically run a command
line variant of the Quick Repair/Rebuild. The other thing could be to
track the entire structure of the SugarCRM database if you felt like it,
but since all db fields are tracked via fields_meta_data I thought
this wasn't necessary but I'm sure there's ton of other things you could
add to make your development life easier.&lt;/p&gt;
&lt;p&gt;Let me know if you think of anything!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Better PHP Debugging with Emacs</title><link href="https://shanedowling.com/better-php-debugging-with-emacs-1c2f71c947fe.html" rel="alternate"></link><published>2014-10-02T00:00:00+00:00</published><updated>2014-10-02T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-10-02:/better-php-debugging-with-emacs-1c2f71c947fe.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__3CPMZKjTwVkDGKtphfr3yQ.png"&gt;&lt;/p&gt;
&lt;p&gt;Recently I came across an app called &lt;a href="http://codebugapp.com/"&gt;CodeBug&lt;/a&gt;, a really nice PHP debugger for
Mac. I find debugging PHP really painful within editors such as Vim or Emacs, so up until now I'd been stuck using the incredibly bloated PHPStorm.&lt;/p&gt;
&lt;p&gt;On Emacs you can currently use Geben for debugging but …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__3CPMZKjTwVkDGKtphfr3yQ.png"&gt;&lt;/p&gt;
&lt;p&gt;Recently I came across an app called &lt;a href="http://codebugapp.com/"&gt;CodeBug&lt;/a&gt;, a really nice PHP debugger for
Mac. I find debugging PHP really painful within editors such as Vim or Emacs, so up until now I'd been stuck using the incredibly bloated PHPStorm.&lt;/p&gt;
&lt;p&gt;On Emacs you can currently use Geben for debugging but I find it's install really painful and it's usage even more so. I figured it was worth knocking up an Emacs plugin that allows you to set breakpoints in Codebug.&lt;/p&gt;
&lt;p&gt;You can find the repo &lt;a href="https://github.com/shano/emacs-codebug"&gt;here&lt;/a&gt; and it's been accepted to &lt;a href="http://melpa.milkbox.net/"&gt;Mepla&lt;/a&gt;, so it
can be installed via the package manager.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Codebug have very nicely featured this plugin on their &lt;a href="http://codebugapp.com/"&gt;homepage&lt;/a&gt;.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Shellshock — Am I vulnerable and what do I do?</title><link href="https://shanedowling.com/shellshock-am-i-vulnerable-and-what-do-i-do-4368762a4c94.html" rel="alternate"></link><published>2014-09-25T00:00:00+00:00</published><updated>2014-09-25T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-09-25:/shellshock-am-i-vulnerable-and-what-do-i-do-4368762a4c94.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__9ehFHvJtYiV__mH5tFVI9OQ.png"&gt;&lt;/p&gt;
&lt;p&gt;`Shellshock `__ is the
latest Heartbleed level vulnerability to be discovered. It's a pretty
long running exploit in how bash handles environment variables. It's a
good thing to fix asap, especially if you're running any old services
like telnet, ftp or an old version of apache.&lt;/p&gt;
&lt;h3&gt;Is my server vulnerable …&lt;/h3&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__9ehFHvJtYiV__mH5tFVI9OQ.png"&gt;&lt;/p&gt;
&lt;p&gt;`Shellshock `__ is the
latest Heartbleed level vulnerability to be discovered. It's a pretty
long running exploit in how bash handles environment variables. It's a
good thing to fix asap, especially if you're running any old services
like telnet, ftp or an old version of apache.&lt;/p&gt;
&lt;h3&gt;Is my server vulnerable?&lt;/h3&gt;
&lt;p&gt;Run this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;env&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;() { :;}; echo vulnerable&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;bash&lt;span class="w"&gt; &lt;/span&gt;-c&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;echo test&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If you see&lt;/p&gt;
&lt;p&gt;vulnerable
test&lt;/p&gt;
&lt;p&gt;You should patch immediately.&lt;/p&gt;
&lt;p&gt;However if you see.&lt;/p&gt;
&lt;p&gt;test&lt;/p&gt;
&lt;p&gt;You should be okay.&lt;/p&gt;
&lt;h3&gt;How to fix?&lt;/h3&gt;
&lt;p&gt;Centos/RedHat&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;yum&lt;span class="w"&gt; &lt;/span&gt;update&lt;span class="w"&gt; &lt;/span&gt;bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Debian/Ubuntu&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;update&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;OSX&lt;/h3&gt;
&lt;p&gt;Unless your running OSX as a critical server somewhere remote, I'd hold
off the solution for now and wait for Apple to distribute an update. If
you need to update.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install homebrew&lt;/li&gt;
&lt;li&gt;Run&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;brew&lt;span class="w"&gt; &lt;/span&gt;update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then run&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;brew&lt;span class="w"&gt; &lt;/span&gt;update&lt;span class="w"&gt; &lt;/span&gt;bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Backup your existing vulnerable bash&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cp&lt;span class="w"&gt; &lt;/span&gt;/usr/local/bin/bash&lt;span class="w"&gt; &lt;/span&gt;/usr/local/bin/bash_old
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then symlink to the new brew installed bash&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ln&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;/usr/local/Cellar/bash/4.3.25/bin/bash&lt;span class="w"&gt; &lt;/span&gt;/usr/local/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Finally reboot!&lt;/p&gt;
&lt;p&gt;Keep an eye on these solutions as time goes on as I fear these patches might not solve the whole problem.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Fix to re-enable ElasticSearch on custom modules</title><link href="https://shanedowling.com/sugarcrm-7-fix-to-re-enable-elasticsearch-on-custom-modules-f669c97ca480.html" rel="alternate"></link><published>2014-09-18T00:00:00+00:00</published><updated>2014-09-18T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-09-18:/sugarcrm-7-fix-to-re-enable-elasticsearch-on-custom-modules-f669c97ca480.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__HOS9Snvhcd__NSa6OnO__ksQ.png"&gt;&lt;/p&gt;
&lt;p&gt;I had an issue in Sugar where some custom modules refused to appear in
the Global Search settings, meaning I couldn't index them in
ElasticSearch.&lt;/p&gt;
&lt;p&gt;When I checked the module oddly enough unified search would be enabled:&lt;/p&gt;
&lt;p&gt;modules/&lt;MODULE&gt;/vardefs.php&lt;/p&gt;
&lt;h3&gt;1. Re-enable the module&lt;/h3&gt;
&lt;p&gt;To force it to be re-enabled …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__HOS9Snvhcd__NSa6OnO__ksQ.png"&gt;&lt;/p&gt;
&lt;p&gt;I had an issue in Sugar where some custom modules refused to appear in
the Global Search settings, meaning I couldn't index them in
ElasticSearch.&lt;/p&gt;
&lt;p&gt;When I checked the module oddly enough unified search would be enabled:&lt;/p&gt;
&lt;p&gt;modules/&lt;MODULE&gt;/vardefs.php&lt;/p&gt;
&lt;h3&gt;1. Re-enable the module&lt;/h3&gt;
&lt;p&gt;To force it to be re-enabled update/create this file&lt;/p&gt;
&lt;p&gt;custom/Extension/modules/&lt;MODULE&gt;/Ext/Vardefs/vardefs.php&lt;/p&gt;
&lt;p&gt;and add this setting.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$dictionary[&amp;#39;&amp;lt;MODULE&amp;gt;&amp;#39;][&amp;#39;unified_search&amp;#39;] = true;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2. Re-enable a field&lt;/h3&gt;
&lt;p&gt;You'll also need a field using the unified index before SugarCRM&lt;/p&gt;
&lt;p&gt;custom/Extension/modules/&lt;MODULE&gt;/Ext/Vardefs/sugarfield_name.php&lt;/p&gt;
&lt;p&gt;Enable unfied_search as a setting.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$dictionary[&amp;#39;&amp;lt;MODULE&amp;gt;&amp;#39;][&amp;#39;fields&amp;#39;][&amp;#39;name&amp;#39;][&amp;#39;unified_search&amp;#39;]=true;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;After a quick repair/rebuild. My module appears in the Global Search
Settings and I can poll it as normal through ElasticSearch.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Enable Importing on Custom Modules</title><link href="https://shanedowling.com/sugarcrm-7-enable-importing-on-custom-modules-eabf29774f3b.html" rel="alternate"></link><published>2014-09-11T00:00:00+00:00</published><updated>2014-09-11T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-09-11:/sugarcrm-7-enable-importing-on-custom-modules-eabf29774f3b.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__rMyjz1HzRpsHOYM40IoG7A.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I've been wracking my brain trying to get &lt;a href="http://support.sugarcrm.com/04_Find_Answers/03_Developers/100Customization/Enabling_Importing_for_Custom_Modules/"&gt;this guide&lt;/a&gt; to work with SugarCRM 7. Add to the fact that it "looks" like this is also how it's done in SugarCRM 7, if you peruse the code under Accounts or Contacts. However it isn't. This is how I've added importing …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__rMyjz1HzRpsHOYM40IoG7A.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;I've been wracking my brain trying to get &lt;a href="http://support.sugarcrm.com/04_Find_Answers/03_Developers/100Customization/Enabling_Importing_for_Custom_Modules/"&gt;this guide&lt;/a&gt; to work with SugarCRM 7. Add to the fact that it "looks" like this is also how it's done in SugarCRM 7, if you peruse the code under Accounts or Contacts. However it isn't. This is how I've added importing support to custom modules.&lt;/p&gt;
&lt;h3&gt;Set Module as Importable&lt;/h3&gt;
&lt;p&gt;Under modules/&lt;ModuleName&gt;/&lt;ModuleName&gt;_sugar.php set&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;public $importable = true;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Add Menu Item&lt;/h3&gt;
&lt;p&gt;Under modules/&lt;MODULES&gt;/clients/base/menus/header/header.php you
should have something like&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$moduleName = &amp;#39;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; $viewdefs[$moduleName][&amp;#39;base&amp;#39;][&amp;#39;menu&amp;#39;][&amp;#39;header&amp;#39;] = array(&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;route&amp;#39; =&amp;gt; &amp;quot;#$moduleName/create&amp;quot;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LNK_NEW_RECORD&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;create&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_module&amp;#39; =&amp;gt; $moduleName,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;icon&amp;#39; =&amp;gt; &amp;#39;icon-plus&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;route&amp;#39; =&amp;gt; &amp;quot;#$moduleName&amp;quot;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LNK_LIST&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;list&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_module&amp;#39; =&amp;gt; $moduleName,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;icon&amp;#39; =&amp;gt; &amp;#39;icon-reorder&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If not create the file with that array. Next add the import action to
the array.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;route&amp;#39; =&amp;gt; &amp;#39;#bwc/index.php?&amp;#39; . http_build_query(&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;module&amp;#39; =&amp;gt; &amp;#39;Import&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;action&amp;#39; =&amp;gt; &amp;#39;Step1&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;import_module&amp;#39; =&amp;gt; $moduleName,&lt;/span&gt;
&lt;span class="x"&gt; )&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt;&amp;#39;LBL_IMPORT&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39;=&amp;gt;&amp;#39;import&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_module&amp;#39;=&amp;gt;$moduleName,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;icon&amp;#39; =&amp;gt; &amp;#39;icon-upload&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Add language setting&lt;/h3&gt;
&lt;p&gt;Under /modules/&lt;MODULES&gt;/language/en_us.lang.php add into the
$mod_strings array(if it's not already there):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;&amp;#39;LBL_IMPORT&amp;#39; =&amp;gt; &amp;#39;Import &amp;#39;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Finally&lt;/h3&gt;
&lt;p&gt;The inevitable quick repair/rebuild.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>DOMpdf failing to render certain accented characters</title><link href="https://shanedowling.com/dompdf-failing-to-render-certain-accented-characters-9be35f0c13a6.html" rel="alternate"></link><published>2014-08-21T00:00:00+00:00</published><updated>2014-08-21T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-08-21:/dompdf-failing-to-render-certain-accented-characters-9be35f0c13a6.html</id><summary type="html">&lt;p&gt;I've noticed some issues with DOMpdf when trying to generate PDFs using
their internal Helvetica font. After banging my head against a wall for
a few hours trying to "fix" UTF-8 support, it turned out UTF-8 support
was working fine. Essentially DOMpdf's internal Helvetica font didn't
support a few polish …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've noticed some issues with DOMpdf when trying to generate PDFs using
their internal Helvetica font. After banging my head against a wall for
a few hours trying to "fix" UTF-8 support, it turned out UTF-8 support
was working fine. Essentially DOMpdf's internal Helvetica font didn't
support a few polish characters. Specifically the Sacute, sacute and a
few others like this. This was a bit of a killer problem for my
requirements so I needed a work-around. My workaround was to use Arial
fonts(they were close enough), but if you really need Helvetica you
could source a copy of the .ttfs and replicate these steps.&lt;/p&gt;
&lt;h3&gt;Download Arial fonts&lt;/h3&gt;
&lt;p&gt;wget &lt;a href="http://www.drivehq.com/file/df.aspx/shareID2129391/fileID59377155/arial.ttf"&gt;http://www.drivehq.com/file/df.aspx/shareID2129391/fileID59377155/arial.ttf&lt;/a&gt;
 wget &lt;a href="http://www.911fonts.com/fonts/6/0/5/605.ttf"&gt;http://www.911fonts.com/fonts/6/0/5/605.ttf&lt;/a&gt; -O arialit.ttf
 wget &lt;a href="http://4nts.com/fonts/arialbd.ttf"&gt;http://4nts.com/fonts/arialbd.ttf&lt;/a&gt;
 wget &lt;a href="http://www.911fonts.com/fonts/6/0/4/604.ttf"&gt;http://www.911fonts.com/fonts/6/0/4/604.ttf&lt;/a&gt; -O arialbit.ttf&lt;/p&gt;
&lt;p&gt;This downloads arial, arial-bold, arial-oblique and arial-boldoblique.&lt;/p&gt;
&lt;h3&gt;Generate compatible dompdf files&lt;/h3&gt;
&lt;p&gt;Pull up a terminal and cd into your dompdf folder. If you're using
composer, it'll be /vendor/dompdf/dompdf&lt;/p&gt;
&lt;p&gt;&lt;code&gt;php load_font.php arial ~/arial.ttf ~/arialbd.ttf ~/arialit.ttf ~/arialbit.ttf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You should now see an entry in lib/fonts/dompdf_font_family_cache.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;arial&amp;#39; =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;normal&amp;#39; =&amp;gt; DOMPDF_FONT_DIR . &amp;#39;arial&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;bold&amp;#39; =&amp;gt; DOMPDF_FONT_DIR . &amp;#39;arialbd&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;italic&amp;#39; =&amp;gt; DOMPDF_FONT_DIR . &amp;#39;arialit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;bold_italic&amp;#39; =&amp;gt; DOMPDF_FONT_DIR . &amp;#39;arialbit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can now reference the Arial font-family in your DOMpdf stylesheets
and have it render some nice Helvetica like fonts.&lt;/p&gt;
&lt;p&gt;If you are using composer with DOMpdf, I would highly recommend not
leaving your custom fonts in DOMpdfs vendor folder. Copy the fonts
directory somewhere in your projects directory, and over-ride this
variable with your own def, referencing the new folder location.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;def(&amp;quot;DOMPDF_FONT_DIR&amp;quot;, DOMPDF_DIR . &amp;quot;/lib/fonts/&amp;quot;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This means you shouldn't need to rely on dodgy customisations to the
vendor folder.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Yii — Convert database to migrations</title><link href="https://shanedowling.com/yii-convert-database-to-migrations-998a6277c968.html" rel="alternate"></link><published>2014-08-21T00:00:00+00:00</published><updated>2014-08-21T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-08-21:/yii-convert-database-to-migrations-998a6277c968.html</id><summary type="html">&lt;p&gt;It happens to be best of us. You start a new Yii project, generate a few
tables and fields, create the models in Gii and totally forget to use
any migrations.&lt;/p&gt;
&lt;p&gt;There's an easy way to move yourself to a db backed migration.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Put txDbMigration in your codebase.&lt;/li&gt;
&lt;li&gt;Create a …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;It happens to be best of us. You start a new Yii project, generate a few
tables and fields, create the models in Gii and totally forget to use
any migrations.&lt;/p&gt;
&lt;p&gt;There's an easy way to move yourself to a db backed migration.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Put txDbMigration in your codebase.&lt;/li&gt;
&lt;li&gt;Create a new seed migration file&lt;/li&gt;
&lt;li&gt;Update your console config file&lt;/li&gt;
&lt;li&gt;Only use migrations from now on.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Custom subpanels</title><link href="https://shanedowling.com/sugarcrm-7-custom-subpanels-a75e66374a5b.html" rel="alternate"></link><published>2014-08-13T00:00:00+00:00</published><updated>2014-08-13T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-08-13:/sugarcrm-7-custom-subpanels-a75e66374a5b.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__g70Q0ojQdUFPYP4a__sPE5w.png"&gt;&lt;/p&gt;
&lt;p&gt;This tutorial should hopefully help you to create a new subpanel under
the Contacts module in Sugar using a custom link class and driven by
SugarCRM 7's new SugarQuery API.&lt;/p&gt;
&lt;h3&gt;1. Create a new link class&lt;/h3&gt;
&lt;p&gt;This should go into custom/modules//YourNewLink.php and this
class will act as …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__g70Q0ojQdUFPYP4a__sPE5w.png"&gt;&lt;/p&gt;
&lt;p&gt;This tutorial should hopefully help you to create a new subpanel under
the Contacts module in Sugar using a custom link class and driven by
SugarCRM 7's new SugarQuery API.&lt;/p&gt;
&lt;h3&gt;1. Create a new link class&lt;/h3&gt;
&lt;p&gt;This should go into custom/modules//YourNewLink.php and this
class will act as the custom functionality that will build your link
between the two records.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Custom filtered link&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; class YourNewLink extends Link2&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; /**&lt;/span&gt;
&lt;span class="x"&gt; * DB&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @var DBManager&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; protected $db;&lt;/span&gt;

&lt;span class="x"&gt;public function __construct($linkName, $bean, $linkDef = false)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $this-&amp;gt;focus = $bean;&lt;/span&gt;
&lt;span class="x"&gt; $this-&amp;gt;name = $linkName;&lt;/span&gt;
&lt;span class="x"&gt; $this-&amp;gt;db = DBManagerFactory::getInstance();&lt;/span&gt;
&lt;span class="x"&gt; if (empty($linkDef)) {&lt;/span&gt;
&lt;span class="x"&gt; $this-&amp;gt;def = $bean-&amp;gt;field_defs[$linkName];&lt;/span&gt;
&lt;span class="x"&gt; } else {&lt;/span&gt;
&lt;span class="x"&gt; $this-&amp;gt;def = $linkDef;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Returns false if no relationship was found for this link&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @return bool&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public function loadedSuccesfully()&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; // this link always loads successfully&lt;/span&gt;
&lt;span class="x"&gt; return true;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * @see Link2::getRelatedModuleName()&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public function getRelatedModuleName()&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; return &amp;#39;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @see Link2::buildJoinSugarQuery()&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public function buildJoinSugarQuery($sugar_query, $options = array())&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $joinParams = array(&amp;#39;joinType&amp;#39; =&amp;gt; isset($options[&amp;#39;joinType&amp;#39;]) ? $options[&amp;#39;joinType&amp;#39;] : &amp;#39;INNER&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; $jta = &amp;#39;active_other_invites&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; if (!empty($options[&amp;#39;joinTableAlias&amp;#39;])) {&lt;/span&gt;
&lt;span class="x"&gt; $jta = $joinParams[&amp;#39;alias&amp;#39;] = $options[&amp;#39;joinTableAlias&amp;#39;];&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;$sugar_query-&amp;gt;joinRaw($this-&amp;gt;getCustomJoin($options), $joinParams);&lt;/span&gt;
&lt;span class="x"&gt; return $sugar_query-&amp;gt;join[$jta];&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Builds main join subpanel&lt;/span&gt;
&lt;span class="x"&gt; * @param string $params&lt;/span&gt;
&lt;span class="x"&gt; * @return string JOIN clause&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; protected function getCustomJoin($params = array())&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $bean_id = $this-&amp;gt;db-&amp;gt;quoted($this-&amp;gt;focus-&amp;gt;id);&lt;/span&gt;
&lt;span class="x"&gt; $sql = &amp;quot; INNER JOIN(&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; $sql .= &amp;quot;SELECT id FROM accounts WHERE id={$bean_id}&amp;quot;; // This is essentially a select statement that will return a set of ids that you can match with the existing sugar_query&lt;/span&gt;
&lt;span class="x"&gt; $sql .= &amp;quot;) accounts_result ON accounts_result.id = sugar_query_table.id&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; return $sql;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The argument $sugar_query is a new SugarQuery object, the details of
which are documented &lt;a href="http://developer.sugarcrm.com/2014/04/22/sugarcrm-cookbook-sugarquery-the-basics/"&gt;here&lt;/a&gt;.
What you essentially need to do is extend this query with whatever
join/filters you wish to add. This is done in the inner join I've
specified.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The inner join can get really complicated, so if you want a
real working example, checkout modules/Emails/ArchivedEmailsLink.php and
how the core sugar team use this. I can confirm however that this does
work with custom joins.&lt;/p&gt;
&lt;p&gt;Here is the getEmailsJoin to help you understand what you can actually
produce via this custom join.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Builds main join for archived emails&lt;/span&gt;
&lt;span class="x"&gt; * @param string $params&lt;/span&gt;
&lt;span class="x"&gt; * @return string JOIN clause&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; protected function getEmailsJoin($params = array())&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $bean_id = $this-&amp;gt;db-&amp;gt;quoted($this-&amp;gt;focus-&amp;gt;id);&lt;/span&gt;
&lt;span class="x"&gt; if (!empty($params[&amp;#39;join_table_alias&amp;#39;])) {&lt;/span&gt;
&lt;span class="x"&gt; $table_name = $params[&amp;#39;join_table_alias&amp;#39;];&lt;/span&gt;
&lt;span class="x"&gt; } else {&lt;/span&gt;
&lt;span class="x"&gt; $table_name = &amp;#39;emails&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;return &amp;quot;INNER JOIN (\\n&amp;quot;.&lt;/span&gt;
&lt;span class="x"&gt; // directly assigned emails&lt;/span&gt;
&lt;span class="x"&gt; &amp;quot;select eb.email_id, &amp;#39;direct&amp;#39; source FROM emails_beans eb where eb.bean_module = &amp;#39;{$this-&amp;gt;focus-&amp;gt;module_dir}&amp;#39;&lt;/span&gt;
&lt;span class="x"&gt; AND eb.bean_id = $bean_id AND eb.deleted=0\\n&amp;quot; .&lt;/span&gt;
&lt;span class="x"&gt; &amp;quot; UNION &amp;quot;.&lt;/span&gt;
&lt;span class="x"&gt; // Related by directly by email&lt;/span&gt;
&lt;span class="x"&gt; &amp;quot;select DISTINCT eear.email_id, &amp;#39;relate&amp;#39; source from emails_email_addr_rel eear INNER JOIN email_addr_bean_rel eabr&lt;/span&gt;
&lt;span class="x"&gt; ON eabr.bean_id = $bean_id AND eabr.bean_module = &amp;#39;{$this-&amp;gt;focus-&amp;gt;module_dir}&amp;#39; AND&lt;/span&gt;
&lt;span class="x"&gt; eabr.email_address_id = eear.email_address_id and eabr.deleted=0 where eear.deleted=0\\n&amp;quot; .&lt;/span&gt;
&lt;span class="x"&gt; &amp;quot;) email_ids ON $table_name.id=email_ids.email_id &amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2. Add a new vardef entry for the linkfield.&lt;/h3&gt;
&lt;p&gt;For this example, I'm going to create the custom link on the contacts
module. So this code goes in
custom/Extension/modules/Contacts/Ext/Vardefs/your_field_name.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$dictionary[&amp;quot;Contact&amp;quot;][&amp;quot;fields&amp;quot;][&amp;quot;your_field_name&amp;quot;] = array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;active_other_invites&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;link&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;link_file&amp;#39; =&amp;gt; &amp;#39;custom/modules//YourNewLink.php&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;link_class&amp;#39; =&amp;gt; &amp;#39;YourNewLink&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;source&amp;#39; =&amp;gt; &amp;#39;non-db&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;vname&amp;#39; =&amp;gt; &amp;#39;LBL_NEW_LINK&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;module&amp;#39; =&amp;gt; &amp;#39;&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;link_type&amp;#39; =&amp;gt; &amp;#39;many&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;relationship&amp;#39; =&amp;gt; &amp;#39;&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;3. Add the new link as a subpanel&lt;/h3&gt;
&lt;p&gt;custom/Extension/modules/Contacts/Ext/clients/base/layouts/subpanels/your_subpanel_name.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$viewdefs[&amp;#39;Contacts&amp;#39;][&amp;#39;base&amp;#39;][&amp;#39;layout&amp;#39;][&amp;#39;subpanels&amp;#39;][&amp;#39;components&amp;#39;][] = array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;layout&amp;#39; =&amp;gt; &amp;#39;subpanel&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_NEW_LINK&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;context&amp;#39; =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;link&amp;#39; =&amp;gt; &amp;#39;your_field_name&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;4. Add the label&lt;/h3&gt;
&lt;p&gt;custom/Extension/modules/Contacts/Ext/Language/en_us.new_link.php&lt;/p&gt;
&lt;p&gt;Content:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$mod_strings[&amp;#39;LBL_ACTIVE_OTHER_INVITES&amp;#39;] = &amp;#39;Your New Link&amp;#39;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;5. Quick Repair and Rebuild&lt;/h3&gt;
&lt;p&gt;That should hopefully get you started. Keep an eye on the sugarlogs
while you're debugging your queries. I also found using xdebug and
SugarQueries compileSql function invaluable in figuring out what I
needed to do to get a working INNER JOIN statement.&lt;/p&gt;
&lt;p&gt;I've found this to be a surprisingly powerful solution, it means that if
you need to show information related to a module that might be a few
joins away, this allows you to create the links manually without having
to create pointless related fields in-between the two.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Making Ajax Requests</title><link href="https://shanedowling.com/sugarcrm-7-making-ajax-requests-7bf1bd0c71a5.html" rel="alternate"></link><published>2014-08-09T00:00:00+00:00</published><updated>2014-08-09T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-08-09:/sugarcrm-7-making-ajax-requests-7bf1bd0c71a5.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__cu8y__JHqBRKgm37dccl0Pg.png"&gt;&lt;/p&gt;
&lt;p&gt;SugarCRM has a pretty great API if you know how to poll it. Today I'm
sharing two examples of where I've needed to poll SugarCRM's API with
some sample jQuery code.&lt;/p&gt;
&lt;h3&gt;A jQuery autocompleter&lt;/h3&gt;
&lt;p&gt;If you're declaring an input box and wish to autocomplete it's results
based on the results …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__cu8y__JHqBRKgm37dccl0Pg.png"&gt;&lt;/p&gt;
&lt;p&gt;SugarCRM has a pretty great API if you know how to poll it. Today I'm
sharing two examples of where I've needed to poll SugarCRM's API with
some sample jQuery code.&lt;/p&gt;
&lt;h3&gt;A jQuery autocompleter&lt;/h3&gt;
&lt;p&gt;If you're declaring an input box and wish to autocomplete it's results
based on the results from a particular module, this sample code should
get you started.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#your-input-box&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;autocomplete&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ajax&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="nx"&gt;request&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setRequestHeader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;OAuth-Token&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;SUGAR&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;App&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;api&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getOAuthToken&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;records&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="p"&gt;}));&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#your-input-box&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;ui&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;item&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;label&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#your-input-box-id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;ui&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;item&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: This leverages the existing SugarCRM API to populate this
data. You can customise the filter however you want, just load up
firebug/a web inspector and do a few sample requests from Sugar's core
fieldset if you need sample requests to work with.&lt;/p&gt;
&lt;p&gt;This is really useful for leveraging existing endpoints, but what if you
want to have Javascript call a custom piece of code you've written?&lt;/p&gt;
&lt;h3&gt;Call a custom API Endpoint via a jQuery ajax request.&lt;/h3&gt;
&lt;p&gt;Here's a sample piece of Javascript that will grab some input fields and
create your post request.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#some-button&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;click&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;arg1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#field1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;arg2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#field2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;arg3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#field3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ajax&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;request&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setRequestHeader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;OAuth-Token&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;SUGAR&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;App&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;api&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getOAuthToken&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;alert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;location&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;reload&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And here is the API code that would handle a post request with multiple
arguments.&lt;/p&gt;
&lt;p&gt;This would be placed in custom/modules//&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;if(!defined(&amp;#39;sugarEntry&amp;#39;) || !sugarEntry) die(&amp;#39;Not A Valid Entry Point&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; require_once(&amp;#39;custom/modules//.php&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; class yourCustomApiFn extends SugarApi&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; public function registerApiRest()&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; return array(&lt;/span&gt;
&lt;span class="x"&gt; //GET&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;customAPIFn&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; //request type&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;reqType&amp;#39; =&amp;gt; &amp;#39;POST&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; //endpoint path&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;path&amp;#39; =&amp;gt; array(&amp;#39;&amp;#39;, &amp;#39;&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; //endpoint variables&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;pathVars&amp;#39; =&amp;gt; array(&amp;#39;module&amp;#39;, &amp;#39;action&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; //method to call&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;method&amp;#39; =&amp;gt; &amp;#39;doSomething&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; //short help string to be displayed in the help documentation&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;shortHelp&amp;#39; =&amp;gt; &amp;#39;Does something really useful&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Method to be used for my MyEndpoint/GetExample endpoint&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public function doSomething($api, $args)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $arg1 = $args[&amp;#39;arg1&amp;#39;];&lt;/span&gt;
&lt;span class="x"&gt; $arg2 = $args[&amp;#39;arg2&amp;#39;];&lt;/span&gt;
&lt;span class="x"&gt; $arg3 = $args[&amp;#39;arg3&amp;#39;];&lt;/span&gt;

&lt;span class="x"&gt;$custom_bean = new CustomClass();&lt;/span&gt;
&lt;span class="x"&gt; return $custom_bean-&amp;gt;doSomething($arg1, $arg2, $arg3);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Add a new action to a record</title><link href="https://shanedowling.com/sugarcrm-7-add-a-new-action-to-a-record-d020dafdc883.html" rel="alternate"></link><published>2014-08-07T00:00:00+00:00</published><updated>2014-08-07T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-08-07:/sugarcrm-7-add-a-new-action-to-a-record-d020dafdc883.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__lM3J923TEAa5__XNjB__57Jg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Odds are if you're customising SugarCRM, you will at some point need to
add functionality to the records page. This article shows you a
framework for creating actions on the UI, the API entrypoints to run
your code and how to link it all together using SugarCRM's sidecar
functionality.&lt;/p&gt;
&lt;h3&gt;1 …&lt;/h3&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__lM3J923TEAa5__XNjB__57Jg.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Odds are if you're customising SugarCRM, you will at some point need to
add functionality to the records page. This article shows you a
framework for creating actions on the UI, the API entrypoints to run
your code and how to link it all together using SugarCRM's sidecar
functionality.&lt;/p&gt;
&lt;h3&gt;1. Add the button&lt;/h3&gt;
&lt;p&gt;In custom/modules//clients/base/views/record/record.php,
you'll need this to add the core button array.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$viewdefs[$module_name][&amp;#39;base&amp;#39;][&amp;#39;view&amp;#39;][&amp;#39;record&amp;#39;][&amp;#39;buttons&amp;#39;] =&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; 0 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;cancel_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_CANCEL_BUTTON_LABEL&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;css_class&amp;#39; =&amp;gt; &amp;#39;btn-invisible btn-link&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;showOn&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 1 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;rowaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;event&amp;#39; =&amp;gt; &amp;#39;button:save_button:click&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;save_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_SAVE_BUTTON_LABEL&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;css_class&amp;#39; =&amp;gt; &amp;#39;btn btn-primary&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;showOn&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 2 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;actiondropdown&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;main_dropdown&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;primary&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;showOn&amp;#39; =&amp;gt; &amp;#39;view&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;buttons&amp;#39; =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; 0 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;rowaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;event&amp;#39; =&amp;gt; &amp;#39;button:edit_button:click&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;edit_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_EDIT_BUTTON_LABEL&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 1 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;shareaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;share&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_RECORD_SHARE_BUTTON&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;view&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 2 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;pdfaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;download-pdf&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_PDF_VIEW&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;action&amp;#39; =&amp;gt; &amp;#39;download&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;view&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 3 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;pdfaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;email-pdf&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_PDF_EMAIL&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;action&amp;#39; =&amp;gt; &amp;#39;email&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;view&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 4 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;divider&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 5 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;rowaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;event&amp;#39; =&amp;gt; &amp;#39;button:do_some_task:click&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;do_some_task&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_DO_SOME_ACTION&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;view&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 6 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;rowaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;event&amp;#39; =&amp;gt; &amp;#39;button:find_duplicates_button:click&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;find_duplicates_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_DUP_MERGE&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 7 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;rowaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;event&amp;#39; =&amp;gt; &amp;#39;button:duplicate_button:click&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;duplicate_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_DUPLICATE_BUTTON_LABEL&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_module&amp;#39; =&amp;gt; &amp;#39;&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;create&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 8 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;rowaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;event&amp;#39; =&amp;gt; &amp;#39;button:audit_button:click&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;audit_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LNK_VIEW_CHANGE_LOG&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;view&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 9 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;divider&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 10 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;rowaction&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;event&amp;#39; =&amp;gt; &amp;#39;button:delete_button:click&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;delete_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_DELETE_BUTTON_LABEL&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;delete&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; 3 =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;sidebar_toggle&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;sidebartoggle&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note what I've stored at &lt;strong&gt;array key 5&lt;/strong&gt;. This is the custom button that
will be rendered and the event button do_some_task will be called in
the javacript file we'll created. You can add this anywhere in the
drop-down I just generally choose here.&lt;/p&gt;
&lt;h3&gt;2. Create the javascript hook to call the API&lt;/h3&gt;
&lt;p&gt;In custom/modules//clients/base/views/record/record.js
create a file like this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;({&lt;/span&gt;

&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;context&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;button:do_some_task:click&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;do_some_task&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;do_some_task&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;api&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;GET&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;api&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;buildURL&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/DoSomeTask/&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//response comes back from your api, maybe you want to set some value on your model or alter a response?&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;some_field&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;response&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//Or maybe you want to show an error or success&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;alert&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bad-task-response&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;```&lt;/span&gt;

&lt;span class="sb"&gt;### 3. Build the API to act on the javascript file&lt;/span&gt;

&lt;span class="sb"&gt;In custom/modules//clients/base/api/doSomeTask.php create a&lt;/span&gt;
&lt;span class="sb"&gt;file like so&lt;/span&gt;

&lt;span class="sb"&gt;```&lt;/span&gt;&lt;span class="nx"&gt;php&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;defined&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sugarEntry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;||&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;sugarEntry&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;die&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Not A Valid Entry Point&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;require_once&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;custom/modules//SomeCustomClass.php&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="kd"&gt;class&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;doSomeTask&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;extends&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;SugarApi&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;registerApiRest&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//GET&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;MyGetEndpoint&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//request type&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;reqType&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;GET&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

&lt;span class="c1"&gt;//endpoint path&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;path&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;DoSomeTask&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;?&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;

&lt;span class="c1"&gt;//endpoint variables&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pathVars&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;

&lt;span class="c1"&gt;//method to call&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;method&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;DoSomeTask&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

&lt;span class="c1"&gt;//short help string to be displayed in the help documentation&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;shortHelp&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;This does some custom task&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="cm"&gt;/**&lt;/span&gt;
&lt;span class="cm"&gt; * Method to be used for my MyEndpoint/GetExample endpoint&lt;/span&gt;
&lt;span class="cm"&gt; */&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;DoSomeTask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$api&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$id&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;

&lt;span class="nx"&gt;$custom_bean&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;new&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;SomeCustomClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nx"&gt;retrieve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$id&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$custom_bean&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nx"&gt;doSomething&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Make sure your DoSomeTask functon is uppercased not camel
cased. I kept getting invalid argument count errors when it was
camel-cased.&lt;/p&gt;
&lt;h3&gt;4. Language files for the button&lt;/h3&gt;
&lt;p&gt;Create a new language file at
custom/Extension/modules//Ext/Language/en_us.doSomeTask.php
with contents like&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$mod_strings[&amp;#39;LBL_DO_SOME_TASK&amp;#39;] = &amp;#39;Do some task&amp;#39;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;5. Quick Repair/Rebuild&lt;/h3&gt;
&lt;p&gt;This should hopefully merge your language files into your code and
recompile your javascript into the front-end.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM — Sugar powered by Salt!</title><link href="https://shanedowling.com/sugarcrm-sugar-powered-by-salt-2d2af530f829.html" rel="alternate"></link><published>2014-08-02T00:00:00+00:00</published><updated>2014-08-02T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-08-02:/sugarcrm-sugar-powered-by-salt-2d2af530f829.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__zMEOOXE7GYSSRFVwtqxhVQ.png"&gt;&lt;/p&gt;
&lt;p&gt;SugarCRM can be a pain to setup, especially if you are managing many
installs on different servers/environments. I'm a big fan of using &lt;a href="http://www.saltstack.com/"&gt;salt&lt;/a&gt; to configure my servers. I rarely manage any servers directly anymore and generally run things through my salt master. This guide should hopefully get you …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__zMEOOXE7GYSSRFVwtqxhVQ.png"&gt;&lt;/p&gt;
&lt;p&gt;SugarCRM can be a pain to setup, especially if you are managing many
installs on different servers/environments. I'm a big fan of using &lt;a href="http://www.saltstack.com/"&gt;salt&lt;/a&gt; to configure my servers. I rarely manage any servers directly anymore and generally run things through my salt master. This guide should hopefully get you up and running with a production ready setup of SugarCRM that you can re-use over and over. If you are looking for a decent primer on saltstack, &lt;a href="http://www.youtube.com/watch?v=fTieSO2tp3s"&gt;this video&lt;/a&gt; will give you a really useful introduction to what salt can really do. I'm barely scratching the surface.&lt;/p&gt;
&lt;h3&gt;Howto&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/en/latest/topics/installation/ubuntu.html"&gt;Install salt&lt;/a&gt; on the server you with to act as the salt-master(the provisioner). &lt;a href="https://www.digitalocean.com/?refcode=81266f739d19%20"&gt;DigitalOcean&lt;/a&gt; is great and cheap for this sort of non-mission critical task.&lt;/li&gt;
&lt;li&gt;Spin up a new server(which will be production), &lt;a href="http://docs.saltstack.com/en/latest/ref/configuration/index.html"&gt;install/configure the salt-minion&lt;/a&gt; and point it at the master.&lt;/li&gt;
&lt;li&gt;Clone &lt;a href="https://github.com/shano/salted_sugar"&gt;this repo&lt;/a&gt; to your salt-master or fork and create your own. You'll need to do a bunch of customisations that you'll want private.&lt;/li&gt;
&lt;li&gt;Do a grep -iRn 'TODO' sugar_salt/* and fill in all details and copy files where needed.&lt;/li&gt;
&lt;li&gt;Overwrite or merge this folder with your existing /srv/salt.&lt;/li&gt;
&lt;li&gt;Run a sudo salt-call -l debug state.highstate on the minion box you've setup. This will give you a ton of output and let you know if anything has gone wrong.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;What this configuration gives you&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;A set of core server essentially tools including git, vim, curl etc.&lt;/li&gt;
&lt;li&gt;Systat which I find essential for finding out what's causing potential issues on servers.&lt;/li&gt;
&lt;li&gt;All of SugarCRMs LAMP requirements, including redis, elasticsearch, composer and apt-pinning to php 5.3.&lt;/li&gt;
&lt;li&gt;Correct php config including recommended increases to memory limit.&lt;/li&gt;
&lt;li&gt;Correct server permissions for your SugarCRM codebase.&lt;/li&gt;
&lt;li&gt;Ensures correct config files are always maintained.&lt;/li&gt;
&lt;li&gt;Ensures the correct htaccess files is always maintained.&lt;/li&gt;
&lt;li&gt;Ensures cache, upload directories exist with the correct permissions.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Notes&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;This configuration is tested on Ubuntu servers ONLY, specifically 12.04. If you intend to use this on something else please verify this works with a virtual machine before using on production machines. &lt;a href="https://docs.vagrantup.com/v2/provisioning/salt.html"&gt;Salt plays really well with vagrant&lt;/a&gt;, in fact I actually manage all of my development, testing and production boxes using salt and this includes the development Vagrant boxes on my laptop. Specifically you'll probably want to change the php.ini that might not play nice with your alternate OS of choice.&lt;/li&gt;
&lt;li&gt;One improvement that could be made is to in fact keep config.php and config_override.php in version control but have the take in environment variables that salt could maintain(or your server).&lt;/li&gt;
&lt;li&gt;This is actually a little different to how I generally configure my SugarCRM boxes with salt. This configuration is not as re-usable as it could be, so what I do is abstract everything that's per server into their own sub-folders and everything that repeats per server into it's own server. I haven't shown this here for the sake of simplicity but is should be fairly straight forward.&lt;/li&gt;
&lt;li&gt;This repo was setup with SugarCRM 7 in mind. With the requirements specified &lt;a href="http://support.sugarcrm.com/02_Documentation/01_Sugar_Editions/04_Sugar_Professional/Sugar_Professional_7.2/Installation_and_Upgrade_Guide/"&gt;here&lt;/a&gt;. Alter the configuration files based on the requirements of the version that's applicable to you.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Any tips or improvements(I'm sure there's plenty), feel free to comment.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Friday Fun — Offline 8tracks playlists using Grooveshark</title><link href="https://shanedowling.com/friday-fun-offline-8tracks-playlists-using-grooveshark-34b2512270df.html" rel="alternate"></link><published>2014-07-25T00:00:00+00:00</published><updated>2014-07-25T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-25:/friday-fun-offline-8tracks-playlists-using-grooveshark-34b2512270df.html</id><summary type="html">&lt;p&gt;A lot of people have been asking about how they might offline their
favourite 8track tracks and I've come up with a rudimentary solution
while I was doing some offline coding. On 8tracks I've found a great
playlist series called Cold Machines created by user sowat on 8tracks and I …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A lot of people have been asking about how they might offline their
favourite 8track tracks and I've come up with a rudimentary solution
while I was doing some offline coding. On 8tracks I've found a great
playlist series called Cold Machines created by user sowat on 8tracks and I wanted to offline my favourited tracks from these playlists as they're great for
coding to.&lt;/p&gt;
&lt;p&gt;As there's no direct way to do this it's a several step process, but an
pretty easy one at that.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use &lt;a href="http://8trackshelper.appspot.com/"&gt;8trackshelper&lt;/a&gt; to generate a plain-text copy of your favourite tracks, simply paste in your username.&lt;/li&gt;
&lt;li&gt;Then paste the plaintext list into &lt;a href="http://groovylists.com/?do=plaintext"&gt;groovylist's plaintext importer&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;This will create a temporary playlist which you can add to an existing playlist or create a new one&lt;/li&gt;
&lt;li&gt;Finally, download &lt;a href="http://groovesquid.com/"&gt;groovesquid&lt;/a&gt; and have it offline your newly created playlist.(Note: I could not get the Mac variant to run as it was damaged, I simply downloaded the jar file and ran 'java -jar Groovesquid.jar' via the command line to get it up and running)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Success!&lt;/p&gt;
&lt;p&gt;The only minor complexity might be if you have more than 200 songs,
you'll need to split it up when pasting into groovylist but that's
pretty easy to do.&lt;/p&gt;
&lt;p&gt;And that's it.&lt;/p&gt;</content><category term="Random"></category></entry><entry><title>Log Queries with MySQL Proxy</title><link href="https://shanedowling.com/log-queries-with-mysql-proxy-714ae139cc00.html" rel="alternate"></link><published>2014-07-19T00:00:00+00:00</published><updated>2014-07-19T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-19:/log-queries-with-mysql-proxy-714ae139cc00.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__HJJkQeHYeEx3PtDHrtR6pQ.png"&gt;&lt;/p&gt;
&lt;h3&gt;What is it?&lt;/h3&gt;
&lt;p&gt;Have you ever found yourself wanting live statistics of you mysql
database, or a log of all the erroring queries. Well MySQL Proxy might&lt;/p&gt;
&lt;p&gt;MySQL Proxy is a simple program that sits between your client and MySQL server(s) that can monitor, analyze or transform their communication …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__HJJkQeHYeEx3PtDHrtR6pQ.png"&gt;&lt;/p&gt;
&lt;h3&gt;What is it?&lt;/h3&gt;
&lt;p&gt;Have you ever found yourself wanting live statistics of you mysql
database, or a log of all the erroring queries. Well MySQL Proxy might&lt;/p&gt;
&lt;p&gt;MySQL Proxy is a simple program that sits between your client and MySQL server(s) that can monitor, analyze or transform their communication.&lt;/p&gt;
&lt;p&gt;Basically MySQL Proxy collects database queries and acts on them using
scripts built in lua that can do some useful things. I find this handy
when debugging SugarCRM as sometimes failed database queries get
suppressed(especially when making API requests) and I needed a
transparent way to check nothing has failed on the DB side.&lt;/p&gt;
&lt;h3&gt;Installation&lt;/h3&gt;
&lt;p&gt;This example I'm going to show you allows you to sit the proxy on
3306(instead of mysql), so you don't need to alter any of the code point
to your existing MySQL installation. If this isn't what you want change
your steps accordingly.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Basically in your my.cnf. Change your servers port to 3307(server only not the client). Then restart mysql.&lt;/li&gt;
&lt;li&gt;Now install mysql-proxy using your regular package manager(it should even work on homebrew).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;mysql-proxy&lt;span class="w"&gt; &lt;/span&gt;proxy-backend-addresses&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;127&lt;/span&gt;.0.0.1:3307&lt;span class="w"&gt; &lt;/span&gt;log-level&lt;span class="o"&gt;=&lt;/span&gt;debug&lt;span class="w"&gt; &lt;/span&gt;proxy-address&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;127&lt;/span&gt;.0.0.1:3306&lt;span class="w"&gt; &lt;/span&gt;proxy-lua-script&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/Cellar/mysql-proxy/0.8.3/lib/mysql-proxy/lua/proxy/mysql-proxy-log-error-queries.lua&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;plugins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;proxy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If that default example lua script doesn't exist, simply copy one of the
files below and point proxy-lua-script to that.&lt;/p&gt;
&lt;h3&gt;Log any bad queries the database has to handle.&lt;/h3&gt;
&lt;p&gt;```
local errflag = false
 function readquery( packet )
 if packet:byte() == proxy.COMQUERY then
 local user = proxy.connection.client.username
 local host = proxy.connection.client.src.name
 print(user .. '@' .. host)
 if [[true or]] user:lower() == 'root' then
 [[
 host will always be localhost because of proxy
 and not ( host:lower() == 'localhost'
 or host:lower() == '127.0.0.1' ) then
 ]]
 proxy.queries:append(1, packet, {resultsetisneeded = true})
 proxy.queries:append(2, string.char(proxy.COMQUERY) .. "SET @lastquery = '" .. string.sub(packet, 2) .. "'", {resultsetisneeded = true} )
 proxy.queries:append(3, string.char(proxy.COMQUERY) .. "SHOW WARNINGS", {resultsetisneeded = true} )
 end
 return proxy.PROXYSENDQUERY
 end
 end&lt;/p&gt;
&lt;p&gt;function insertquery(errt, errn, errm)
 local query = "INSERT INTO `somedb`.`mysqlerror` " ..
 "(`date`, `errnum`,`errtype`, `errmessage`, `problemquery`, `connid`)" ..
 " VALUES ( NOW(), " ..
 errn .. "," .. """ ..
 errt ..""" .. "," .. """ ..
 errm .. """ .. "," ..
 "@lastquery" .. "," ..
 proxy.connection.server.threadid .. ")"
 print(query)
 proxy.queries:append(4, string.char(proxy.COMQUERY) .. query, {resultsetisneeded = true})
 return proxy.PROXYSENDQUERY
 end&lt;/p&gt;
&lt;p&gt;function readqueryresult(inj)
 local res = assert(inj.resultset)
 if inj.id == 1 then
 errflag = false
 if res.querystatus == proxy.MYSQLDPACKETERR then
 errflag = true
 return proxy.PROXYIGNORERESULT
 end
 elseif inj.id == 2 then
 return proxy.PROXYIGNORERESULT
 elseif inj.id == 3 then
 if errflag == true then
 for row in res.rows do
 proxy.response.type = proxy.MYSQLDPACKETERR
 proxy.response.errmsg = row[3]
 insertquery(row[1], row[2], row[3])
 end
 return proxy.PROXYSENDRESULT
 end
 return proxy.PROXYIGNORERESULT
 elseif inj.id == 4 then
 return proxy.PROXYIGNORERESULT
 end
 end
 ```&lt;/p&gt;
&lt;h3&gt;Log all queries with stats/warnings&lt;/h3&gt;
&lt;p&gt;Found &lt;a href="https://github.com/patrickallaert/MySQL-Proxy-scripts-for-devs/blob/master/debug.lua"&gt;here&lt;/a&gt;. Useful for spotting those slow/inefficient queries.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM — Versioning Your Database</title><link href="https://shanedowling.com/sugarcrm-versioning-your-database-cdcee943048b.html" rel="alternate"></link><published>2014-07-16T00:00:00+00:00</published><updated>2014-07-16T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-16:/sugarcrm-versioning-your-database-cdcee943048b.html</id><summary type="html">&lt;p&gt;One issue that constantly re-occurs for me using SugarCRM is that
certain knowledge is only stored in it's database. So say you want to
revert to a previous version of Sugar and wish to obtain the Studio
customisations you've done at that version, say two days ago, well your
just …&lt;/p&gt;</summary><content type="html">&lt;p&gt;One issue that constantly re-occurs for me using SugarCRM is that
certain knowledge is only stored in it's database. So say you want to
revert to a previous version of Sugar and wish to obtain the Studio
customisations you've done at that version, say two days ago, well your
just out of luck. This is pretty annoying considering most of your day
to day changes will probably be in Studio and you have no real way to
see those changes outside of Sugar's "View History", which leaves a lot
to be desired mostly as again, it's all in the DB. You're effectively
left to sharing a database dump between developers.&lt;/p&gt;
&lt;p&gt;What I've done on my development environment is created a simple
pre-commit git-hook(good explanation of those &lt;a href="http://codeinthehole.com/writing/tips-for-using-a-git-pre-commit-hook/"&gt;here&lt;/a&gt;)
that essentially commits the database structure and the fields_meta_data table. This essentially means someone can get themselves up and running with a basic variant of my install pretty quickly including my studio changes, which are now all tracked in version control too. So put code resembling the below in your &lt;code&gt;.git/hooks/pre-commit&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;rm&lt;span class="w"&gt; &lt;/span&gt;/database/sugar.sql
&lt;span class="w"&gt; &lt;/span&gt;mysqldump&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="w"&gt; &lt;/span&gt;root&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;—&lt;span class="w"&gt; &lt;/span&gt;no-data&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/database/sugar.sql
&lt;span class="w"&gt; &lt;/span&gt;mysqldump&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="w"&gt; &lt;/span&gt;root&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;fields_meta_data&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/database/sugar.sql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Originally I had this creating a gzipped time-stamped version of sugar
database dumps, but considering the SQL is small it makes much more
sense to leverage the plain-text advantages git gives you, and simply
track the changes through git rather than timestamped DB dumps.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; I only use this script on my local dev environment. This also
isn't version controlled either, so I don't mind that my dev database
password is stored in plaintext.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Set recordlist row colours based on row data</title><link href="https://shanedowling.com/sugarcrm-7-set-recordlist-row-colours-based-on-row-data-6ff3072c08a9.html" rel="alternate"></link><published>2014-07-12T00:00:00+00:00</published><updated>2014-07-12T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-12:/sugarcrm-7-set-recordlist-row-colours-based-on-row-data-6ff3072c08a9.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__ftmi7V32ZXjnNFoJRH6UnQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;The tutorial shows you how to do two useful things in SugarCRM 7.
Firstly, how to call actions when rows get updated in SugarCRM's
recordlist and secondly, how to set information based on row data. The
example I have here will essentially update the table colours based on a
specific …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__ftmi7V32ZXjnNFoJRH6UnQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;The tutorial shows you how to do two useful things in SugarCRM 7.
Firstly, how to call actions when rows get updated in SugarCRM's
recordlist and secondly, how to set information based on row data. The
example I have here will essentially update the table colours based on a
specific data value in each row. So say you have a drop-down with the
values Red,Green,Orange and Yellow this will update the rows to the
specified colour. The key call here is this.collection.on('data:sync:complete'), which essentially fires when the sidecar(read backbone), data sync is completed.&lt;/p&gt;
&lt;p&gt;This code would go in custom/modules/&lt;YOUR_MODULE&gt;/clients/base/views/recordlist/recordlist.js&lt;/p&gt;
&lt;p&gt;```javascript
({&lt;/p&gt;
&lt;p&gt;this.collection.on('data:sync:complete', function() {
 this.render_colors();
 }, this);
 },
 render_colors : function() {
 setTimeout(
 function() {
 $("tr[name^='']").each(function () { //loop over each row
 if ($(this).find('div[data-original-title="Red"]').length &amp;gt; 0) { //check value of TD
 $(this).find($('td')).each(function () {
 $(this).css("background-color", "#FFBABA");
 });
 } else if ($(this).find('div[data-original-title="Green"]').length &amp;gt; 0) {
 $(this).find($('td')).each(function () {
 $(this).css("background-color", "#C3F8B5");
 });
 } else if ($(this).find('div[data-original-title="Orange"]').length &amp;gt; 0) {
 $(this).find($('td')).each(function () {
 $(this).css("background-color", "#FFCF8F");
 });
 } else if ($(this).find('div[data-original-title="Yellow"]').length &amp;gt; 0) {
 $(this).find($('td')).each(function () {
 $(this).css("background-color", "#FAFE8E");
 });
 }
 });
 }, 1000);
 }
 })
 ```&lt;/p&gt;
&lt;p&gt;One thing you might note is the setTimeout with a delay of 1 second.
This is simply because the table won't have rendered as soon as the sync
has completed so a wait of a second was added to allow the browser to
render the table, before iterating through the rows and setting the
appropriate colours. I honestly just couldn't find any documentation or
code samples to see if an even fired when the table gets re-rendered,
but I'll update it here if I find a better solution.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Minimalist MySQL Reporting</title><link href="https://shanedowling.com/minimalist-mysql-reporting-ecc27a71d97.html" rel="alternate"></link><published>2014-07-10T00:00:00+00:00</published><updated>2014-07-10T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-10:/minimalist-mysql-reporting-ecc27a71d97.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__ehZIxeK7e1vIcDgZbwxgXQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Sometimes business folk can have crazy demands on the types of reports
your system should produce and sometimes these can be really time
consuming and painful to get right. Often I find the most flexible
solution is to give these power-users access to tidier version of the
raw data within …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__ehZIxeK7e1vIcDgZbwxgXQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Sometimes business folk can have crazy demands on the types of reports
your system should produce and sometimes these can be really time
consuming and painful to get right. Often I find the most flexible
solution is to give these power-users access to tidier version of the
raw data within a tool they're comfortable playing with themselves.&lt;/p&gt;
&lt;p&gt;To that end, Excel has a &lt;a href="http://www.actualtech.com/product_opensourcedatabases.php"&gt;serviceable ODBC connector&lt;/a&gt;
that costs $35 and will allow your power users to pull data in from
MySQL and filter/play around to their hearts content. The problem is a)
formatting the data in such a way to provide useful information to your
users and b) opening up data access just enough to allow these reporting
users into your system.&lt;/p&gt;
&lt;h3&gt;A) Formatting the data&lt;/h3&gt;
&lt;p&gt;The easiest way to format data in MySQL is to create a view, these are
not difficult to setup. You simply need to wrap some simple syntax
around the query you wish to run. So build the query that returns the&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;VIEW&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;view_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;AS&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;column_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;table_name&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;WHERE&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;condition&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;```&lt;/span&gt;

&lt;span class="n"&gt;One&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;note&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;that&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ODBC&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;connector&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;won&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;render&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;BLOB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;so&lt;/span&gt;
&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;handle&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;use&lt;/span&gt;

&lt;span class="o"&gt;```&lt;/span&gt;&lt;span class="k"&gt;sql&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;CONVERT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;field&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utf8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;to convert it to a readable format.&lt;/p&gt;
&lt;h3&gt;B) Opening up data access&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Step 1:&lt;/strong&gt; By changing the bind-address from 127.0.0.1 to 0.0.0.0 in
/etc/mysql/my.cnf this opens MySQL for remote connections. A better
alternative to this could be to keep MySQL closed and tunnel the
connections over SSH, this can be done with Putty on Windows or just run
ssh -ND user@remoteserver to setup a proxy.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 2:&lt;/strong&gt; If you decide to open MySQL to the outside world I
strongly recommend using a firewall to restrict access to the port. On
ubuntu to open up the firewall to allow connections to port 3306
from your office ip just run this command.&lt;/p&gt;
&lt;p&gt;sudo ufw allow from yourip to any port 3306&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 3:&lt;/strong&gt; Now create the remote user.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;USER&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;reportUser&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;yourip&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;IDENTIFIED&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;BY&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;yourpassword&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Step 4:&lt;/strong&gt; Granting access to only a view for users on your IP.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;GRANT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;ON&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;database&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;view_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;TO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;reportUser&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;yourip&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;FLUSH&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;PRIVILEGES&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Step 5:&lt;/strong&gt; Simply point the ODBC Excel connector to your MySQL host
and have it run the query&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;database&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;view_name&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and the result set should populate in Excel.&lt;/p&gt;
&lt;p&gt;One final key thing to note is that it's a very dangerous thing to allow
reporting users to hit live databases, they could really kill the system
for live users. Ideally, you would do all of this on a replicated MySQL
server that only allows read-only actions against it, like backups and
reporting.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Colour Code Rows based on data values</title><link href="https://shanedowling.com/sugarcrm-7-colour-code-rows-based-on-data-values-a238bc54525c.html" rel="alternate"></link><published>2014-07-10T00:00:00+00:00</published><updated>2014-07-10T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-10:/sugarcrm-7-colour-code-rows-based-on-data-values-a238bc54525c.html</id><summary type="html">&lt;p&gt;Add this into your recordlist javascript file.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;javascript
render_colors : function() {
 console.log('here');
 $("tr[name^='&amp;lt;YOUR_MODULE']").each(function() { //loop over each row
 if($(this).find('div[data-original-title="Out"]').length &amp;gt; 0) { //check value of TD
 $(this).find($('td')).each(function() {
 $(this).css("background-color", "#FFBABA");
 });
 } else if($(this).find('div[data-original-title="In …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Add this into your recordlist javascript file.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;javascript
render_colors : function() {
 console.log('here');
 $("tr[name^='&amp;lt;YOUR_MODULE']").each(function() { //loop over each row
 if($(this).find('div[data-original-title="Out"]').length &amp;gt; 0) { //check value of TD
 $(this).find($('td')).each(function() {
 $(this).css("background-color", "#FFBABA");
 });
 } else if($(this).find('div[data-original-title="In"]').length &amp;gt; 0) {
 $(this).find($('td')).each(function() {
 $(this).css("background-color", "#C3F8B5");
 });
 } else if($(this).find('div[data-original-title="Withdrawn"]').length &amp;gt; 0) {
 $(this).find($('td')).each(function() {
 $(this).css("background-color", "#FFCF8F");
 });
 } else if($(this).find('div[data-original-title="Reserved"]').length &amp;gt; 0) {
 $(this).find($('td')).each(function() {
 $(this).css("background-color", "#FAFE8E");
 });
 }
 });
 }&lt;/code&gt;&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Your brain on stoicism</title><link href="https://shanedowling.com/your-brain-on-stoicism-783d1cd1995c.html" rel="alternate"></link><published>2014-07-10T00:00:00+00:00</published><updated>2014-07-10T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-10:/your-brain-on-stoicism-783d1cd1995c.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__SOaZJ4BwYNtsm0SoctZl7A.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;For the last few months I've been attempting to practice Stoicism and
wanted to share the effects of what regular stoic practice has had. If
you've never heard of Stoicism I'd recommend &lt;a href="https://tim.blog/2009/04/13/stoicism-101-a-practical-guide-for-entrepreneurs/"&gt;fourhourworkweek.com's introduction&lt;/a&gt;, which is very pragmatic. Essentially, what happens after several weeks of watching your emotional reactions …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__SOaZJ4BwYNtsm0SoctZl7A.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;For the last few months I've been attempting to practice Stoicism and
wanted to share the effects of what regular stoic practice has had. If
you've never heard of Stoicism I'd recommend &lt;a href="https://tim.blog/2009/04/13/stoicism-101-a-practical-guide-for-entrepreneurs/"&gt;fourhourworkweek.com's introduction&lt;/a&gt;, which is very pragmatic. Essentially, what happens after several weeks of watching your emotional reactions, evaluating what's in your control
and feeling indifference to what isn't.&lt;/p&gt;
&lt;h3&gt;Certainty&lt;/h3&gt;
&lt;p&gt;The first noticeable effect was stoicism seems to have cultivated a sort
of centred calm feeling within my decision making. A certainty that
wasn't there before, like a rational backbone on which decisions are
made. This is a net effect I've never gotten from say tradional
mindfulness practice(simply as it's a topic not addressed). Say I'm
facing a difficult meeting or presentation and I need to make a decision
on something important I'm going to say. Instead of feeling this vague
anxiety or dread and avoiding the problem, I force myself to make a note
of it. I hold the feeling in my awareness and remind myself of the
preparation I've done. If my decision either way makes me look foolish,
well that's out of my control. The emotional background noise is
suspended and it's reduced decision fatigute by a significant amount.
It's a very useful default technique to go to.&lt;/p&gt;
&lt;h3&gt;The right thing&lt;/h3&gt;
&lt;p&gt;The right decision generally flows out these days too or more
specifically, what feels right at the time. I'm not simply seeking
pleasure, or the accolades of others. Taking the previous example of a
meeting, say I have to make a decision on bringing up an awkward point
that has to be addressed for significant progress gains in a project,
say it's holding work back. It has to be agreed by all stakeholders but
it might be a little embarrassing for me, maybe it's a mistake I've made
or an assumption I've mis-interpreted. When I make the call to bring it
up, there's been a significant reduction in hesitancy, it's the right
thing and if I look foolish, so be it. I'm doing the right thing in the
present moment and that rational backbone is hard to push out when you
face your decisions without emotional attachment.&lt;/p&gt;
&lt;h3&gt;More present&lt;/h3&gt;
&lt;p&gt;Being more present was also one of the side benefits of regular
meditative mindfulness, but one you seemed to obtained through vague
means, meditate more, pay more attention while eating etc. This lax
attitude to mindfulness outside the meditation was always a frustration
for me. The Stoic alternative to this is prosoche. I generally stick to
what I call a the Daily Stoic Routine, which I'll discuss in another
post, but apart of this routine is to tie my intentions to my
over-arching goals. In the morning I align whatever tasks I have to my
over-arching goals. I log often I managed my hourly "Arete" and any
overly destructive or pointless thoughts and actions. Then review
everything in the evening and feed any new lessons into the next day.
Simply by logging and reviewing everything coupled with an hourly
mindfulness practice and adding to this a healthy indifference to what's
out of my control(both the past and the future) I can help but feel
present. It's all that's rationally relevant.&lt;/p&gt;
&lt;h3&gt;It's still a muscle&lt;/h3&gt;
&lt;p&gt;Stoicism requires training. If I slip up and become mindless for a few
days or a weekend almost all of my discipline falls apart. However,
spotting this weakness, showing emotional indifference to your perceived
failings, noting that your perceived failings are just that a perception
then learning your lesson is all part of the process. Stoicism and
prosoche are almost self-healing. I must stress, this isn't some state
you simply walk into. Right now, I don't feel like a Stoic, I feel more
like I'm trying to emulate one. For example when making decisions I
might still see myself wanting accolades from others, but right now I'm
just trying not to let it influence my decision making. At some point I
won't even want accolades anymore, then maybe I could consider myself a
Stoic.
I've tended to read a post or system like this one and and expected this
clear, obvious, immediate effect. Stoicism is not like this, you don't
jump to being a rational decision maker and after being ruled by
emotions for so long. This post is simply a catalog of changes I've
noticed beginning to accrue over time.
The key reason I'm promoting Stoicism is it's resilience and ability to
stick around in your mind. Constant active reminders and an almost
instance forgiveness loop when you've failed make this a powerful
philosophy and a very difficult one to shake.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Manage background tasks with PHP-Resque and Supervisor</title><link href="https://shanedowling.com/manage-background-tasks-with-php-resque-and-supervisor-93d14234b703.html" rel="alternate"></link><published>2014-07-03T00:00:00+00:00</published><updated>2014-07-03T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-07-03:/manage-background-tasks-with-php-resque-and-supervisor-93d14234b703.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__DDS7CsAlPK7wTEEbPFLRAQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/chrisboulton/php-resque"&gt;PHP-Resque&lt;/a&gt;, the PHP equivalent to Ruby's really nice background process runner is a great way to execute long running PHP processes. &lt;a href="http://supervisord.org/"&gt;Supervisor&lt;/a&gt; is a python-based process control system, essentially it's a convenient way to manage custom system processes you need to handle. Combining the two to manage long running PHP …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__DDS7CsAlPK7wTEEbPFLRAQ.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/chrisboulton/php-resque"&gt;PHP-Resque&lt;/a&gt;, the PHP equivalent to Ruby's really nice background process runner is a great way to execute long running PHP processes. &lt;a href="http://supervisord.org/"&gt;Supervisor&lt;/a&gt; is a python-based process control system, essentially it's a convenient way to manage custom system processes you need to handle. Combining the two to manage long running PHP jobs makes a lot of sense but it takes a little bit of work to get them talking.&lt;/p&gt;
&lt;p&gt;Once you've gotten PHP-Resque &lt;a href="https://github.com/chrisboulton/php-resque#getting-started"&gt;installed on your project&lt;/a&gt;,
you've &lt;a href="https://github.com/chrisboulton/php-resque#queueing-jobs"&gt;added items to your queue&lt;/a&gt; and &lt;a href="https://github.com/chrisboulton/php-resque#defining-jobs"&gt;written the workers to handle the background tasks&lt;/a&gt;.
You'll need to plug PHP-Resque into supervisor. Here's a sample config
file I used to manage php resque queues within Yii projects but it
should work with anything that's using php-resque.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;[program:my_resque]
 directory=/var/www/website
 command=php vendor/chrisboulton/php-resque/bin/resque
 numprocs=2
 environment=QUEUE=&amp;#39;myresquequeue&amp;#39;,BLOCKING=1,COUNT=1,APP_INCLUDE=&amp;#39;models/UsefulClasses.php&amp;#39;
 autostart=true
 autorestart=true
 stopsignal=QUIT
 process_name = %(program_name)s-%(process_num)s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;A few things to note.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Firstly the APP_INCLUDE should include the set of classes you intent to use to handle the worker jobs. Meaning something that has a perform action that does something, as described &lt;a href="https://github.com/chrisboulton/php-resque#defining-jobs"&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;You'll notice the COUNT=1 argument being set in the resque environment. This is essential, if you fork more than one job using php-resque it'll background both and supervisor will not be able to manage that process(and will continually try to spawn more processes till it gives up). If you wish to have multiple workers, &lt;strong&gt;use the numprocs argument&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And that's it really.&lt;/p&gt;
&lt;p&gt;Happy forking!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Simple API Mocking with Guzzle and Charles</title><link href="https://shanedowling.com/simple-api-mocking-with-guzzle-and-charles-e5fdabe8b9fd.html" rel="alternate"></link><published>2014-06-26T00:00:00+00:00</published><updated>2014-06-26T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-06-26:/simple-api-mocking-with-guzzle-and-charles-e5fdabe8b9fd.html</id><summary type="html">&lt;p&gt;If you've ever had to try unit test code that's dependent on external
services, you'll know the pain of trying to mock-up fake API requests by
hand. It's painful to setup and painful to maintain, this little
tutorial attempts to make the whole process as easy as possible.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Step 1 …&lt;/strong&gt;&lt;/h3&gt;</summary><content type="html">&lt;p&gt;If you've ever had to try unit test code that's dependent on external
services, you'll know the pain of trying to mock-up fake API requests by
hand. It's painful to setup and painful to maintain, this little
tutorial attempts to make the whole process as easy as possible.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Step 1:&lt;/strong&gt; Capturing a live set of API requests.&lt;/h3&gt;
&lt;p&gt;So firstly download and install &lt;a href="http://www.charlesproxy.com/"&gt;Charles Web Proxy&lt;/a&gt;. Here's a good description of what Charles can do from their site.&lt;/p&gt;
&lt;p&gt;Charles is an HTTP proxy / HTTP monitor / Reverse Proxy that enables a developer to view all of the HTTP and SSL / HTTPS traffic between their machine and the Internet. This includes requests, responses and the HTTP headers (which contain the cookies and caching information).&lt;/p&gt;
&lt;p&gt;We're going to use Charles to capture an initial set of tests, then save
the RAW responses as files that will then be used to supply our mock
data to guzzle. So once you got Charles running with a proxy running on
port 8888, run an api call like so.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;require &amp;#39;vendor/autoload.php&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; use GuzzleHttp\\Client;&lt;/span&gt;
&lt;span class="x"&gt; use GuzzleHttp\\Subscriber\\Mock;&lt;/span&gt;

&lt;span class="x"&gt;$client = new Client([&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;base_url&amp;#39; =&amp;gt; [&amp;#39;https://api.github.com/repos/guzzle/guzzle/commits?per_page=5&amp;#39;, []],&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;defaults&amp;#39; =&amp;gt; [&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;proxy&amp;#39; =&amp;gt; &amp;#39;http://localhost:8888&amp;#39;&lt;/span&gt;
&lt;span class="x"&gt; ]&lt;/span&gt;
&lt;span class="x"&gt; ]);&lt;/span&gt;
&lt;span class="x"&gt; $req = $client-&amp;gt;get();&lt;/span&gt;

&lt;span class="x"&gt;echo $req-&amp;gt;getBody();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;When you get a response from this call, view it in Charles under Raw and&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__V4RK2MMCaBvV__euQFzoZvw.png"&gt;&lt;/p&gt;
&lt;p&gt;Save this text(including the http headers) as a new file. This is going
to be your new mock response that's going to override Guzzle's regular
response.&lt;/p&gt;
&lt;h3&gt;Step 2: Injecting Mock Objects into Guzzle.&lt;/h3&gt;
&lt;p&gt;This is some sample code to do the injection.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;require &amp;#39;vendor/autoload.php&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; use GuzzleHttp\\Client;&lt;/span&gt;
&lt;span class="x"&gt; use GuzzleHttp\\Subscriber\\Mock;&lt;/span&gt;

&lt;span class="x"&gt;$client = new Client();&lt;/span&gt;

&lt;span class="x"&gt;$mock = new Mock();&lt;/span&gt;
&lt;span class="x"&gt; $mock-&amp;gt;addResponse(__DIR__.&amp;#39;/mockresponses/your_raw_file&amp;#39;);&lt;/span&gt;

&lt;span class="x"&gt;$client-&amp;gt;getEmitter()-&amp;gt;attach($mock); // This is the key line, attaching the mock file response to your client.&lt;/span&gt;
&lt;span class="x"&gt; $response = $client-&amp;gt;get();&lt;/span&gt;
&lt;span class="x"&gt; echo $response-&amp;gt;getBody();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Hopefully if you're using some sort of dependency injection to supply
the guzzle library to your client code, you can easily
over-ride the client calls with your mock responses by attaching the
emitter, then make stable assertions about the state of your client. All
of this without any reliance on external services.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM — Permissions Script</title><link href="https://shanedowling.com/sugarcrm-permissions-script-6b7031eb0eef.html" rel="alternate"></link><published>2014-06-21T00:00:00+00:00</published><updated>2014-06-21T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-06-21:/sugarcrm-permissions-script-6b7031eb0eef.html</id><summary type="html">&lt;p&gt;I use &lt;a href="http://www.saltstack.com/"&gt;salt&lt;/a&gt; quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the &lt;a href="http://support.sugarcrm.com/04_Find_Answers/02KB/02Administration/100Install/Required_File_System_Permissions_on_Linux/"&gt;Sugar documentation&lt;/a&gt; and this handy post &lt;a href="http://developer.sugarcrm.com/2012/07/19/a-newbies-guide-to-getting-your-sugarcrm-instances-permissions-right/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Simply fill in your apache user details and the path …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I use &lt;a href="http://www.saltstack.com/"&gt;salt&lt;/a&gt; quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the &lt;a href="http://support.sugarcrm.com/04_Find_Answers/02KB/02Administration/100Install/Required_File_System_Permissions_on_Linux/"&gt;Sugar documentation&lt;/a&gt; and this handy post &lt;a href="http://developer.sugarcrm.com/2012/07/19/a-newbies-guide-to-getting-your-sugarcrm-instances-permissions-right/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Simply fill in your apache user details and the path to the Sugar
install and you're away.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nv"&gt;APACHEUSER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;www-data:www-data&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;SUGARPATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/var/www/sugarcrm&amp;#39;&lt;/span&gt;

find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;d&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;755&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;f&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;644&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/&lt;span class="w"&gt; &lt;/span&gt;-name&lt;span class="w"&gt; &lt;/span&gt;*.js&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;755&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/config.php
chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/config_override.php
chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/sugarcrm.log

find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/cache&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;d&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;775&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/custom&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;d&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;775&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/data&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;d&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;775&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/modules&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;d&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;775&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/include&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;d&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;775&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/upload&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;d&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;775&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/cache&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;f&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/custom&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;f&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/data&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;f&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/modules&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;f&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/include&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;f&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;-P&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;/upload&lt;span class="w"&gt; &lt;/span&gt;-type&lt;span class="w"&gt; &lt;/span&gt;f&lt;span class="w"&gt; &lt;/span&gt;-exec&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;664&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

chown&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$APACHEUSER&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$SUGARPATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And the salt config to get this running.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;sugar_permissions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;cmd.script&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;source&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;salt://deploy/dev/sugar/permissions.sh&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;user&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;root&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;group&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;root&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;shell&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bin/bash&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If you see any issues with the script/salt config please let me know.&lt;/p&gt;
&lt;p&gt;Thanks!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Engineers Log</title><link href="https://shanedowling.com/engineers-log-69525c451538.html" rel="alternate"></link><published>2014-06-15T00:00:00+00:00</published><updated>2014-06-15T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-06-15:/engineers-log-69525c451538.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__u5I9tVI8pJKp8tTRe1__AqA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Four years ago(to the day) I wrote a post on why I was &lt;a href="http://shanedowling.com/giving-up-on-wikis/"&gt;Giving up on wikis&lt;/a&gt; and I have to admit, four years later my opinions on the topic really haven't changed.&lt;/p&gt;
&lt;p&gt;It's been 4 years, 700 questions(with 800 answers) and several server
moves later and by …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__u5I9tVI8pJKp8tTRe1__AqA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Four years ago(to the day) I wrote a post on why I was &lt;a href="http://shanedowling.com/giving-up-on-wikis/"&gt;Giving up on wikis&lt;/a&gt; and I have to admit, four years later my opinions on the topic really haven't changed.&lt;/p&gt;
&lt;p&gt;It's been 4 years, 700 questions(with 800 answers) and several server
moves later and by and large the process hasn't changed all that much,
everything is just little more streamlined.&lt;/p&gt;
&lt;h3&gt;Tagging:&lt;/h3&gt;
&lt;p&gt;When I started I simply used tagging to reflect the technology the&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I tag company sensitive questions with the company name, so if I ever leave that place, I can easily find/drop questions with company sensitive info.&lt;/li&gt;
&lt;li&gt;A lot of the time, I notice that a solution I'm entering is worthy of a blog post. I tend to flag my questions as to-blog, so when I'm looking for writing inspiration it's pretty easy to start writing when you've got a list of essentially half-complete posts waiting for you.&lt;/li&gt;
&lt;li&gt;Sometimes I gave internal access my OSQA install to companies I worked for. If I was writing rough documentation for a specific team I would create tags for them to review my "documents" while I was writing them up.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Scripts:&lt;/h3&gt;
&lt;p&gt;Originally I stored my scripts with some comments in a standard
~/scripts folder and grep when I needed functionality. This solution
always ended up getting messy to me so I moved them to my OSQA install.
They're much tidier up there personally, I drill-down into the scripts
tag then filter with what I need. Plus OSQA stores every revision of a
question/answer so I can easily peruse old variants. I'm aware git would
solve such a problem, but being able to jump onto a random machine and
grab all my scripts via the web in a standardised way is pretty nice
too.&lt;/p&gt;
&lt;h3&gt;Quicker Searching:&lt;/h3&gt;
&lt;p&gt;A simple fix, essentially I added my OSQA search as a keyword search on
my browser so I can quick search by keyword followed by my search term.&lt;/p&gt;
&lt;h3&gt;Future Improvements:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;In &lt;a href="http://www.amazon.com/Pragmatic-Thinking-Learning-Refactor-Programmers/dp/1934356050"&gt;Refactor Your Wetware&lt;/a&gt; one of the recommendations the book gives is to use an Engineer's Log, this is essentially what this OSQA install is, my Engineer's Log. One suggestion the book does it mark an X, every-time you use a solution from your Engineers Log. I want to eventually hack OSQA, so that I can use the Upvote feature myself to flag frequently used solutions.&lt;/li&gt;
&lt;li&gt;Eventually I'll add pygments syntax highlighting. 4 years later and I still haven't gotten round to it.&lt;/li&gt;
&lt;li&gt;I should probably migrate from an OSQA install to Askbot, considering there doesn't seem to be much of an open source future but my current solution works just fine so I see no need.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;That's about it really, to be honest the lesson here really is that
flexible solutions last.&lt;/p&gt;</content><category term="Productivity"></category></entry><entry><title>Quick Salt Minion Setup</title><link href="https://shanedowling.com/quick-salt-minion-setup-354516c0ff63.html" rel="alternate"></link><published>2014-06-12T00:00:00+00:00</published><updated>2014-06-12T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-06-12:/quick-salt-minion-setup-354516c0ff63.html</id><summary type="html">&lt;p&gt;I find myself setting up salt minions a LOT. So I figured I'd write down
the steps in this concise format.&lt;/p&gt;
&lt;h3&gt;On the minion&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;add-apt-repository&lt;span class="w"&gt; &lt;/span&gt;ppa:saltstack/salt
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;update&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;salt-minion
sudo&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; salt&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/etc/hosts&lt;span class="w"&gt; &lt;/span&gt;//Or&lt;span class="w"&gt; &lt;/span&gt;whatever&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;salt&lt;span class="w"&gt; &lt;/span&gt;master&lt;span class="w"&gt; &lt;/span&gt;is
sudo&lt;span class="w"&gt; &lt;/span&gt;salt-call&lt;span class="w"&gt; &lt;/span&gt;-l …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;I find myself setting up salt minions a LOT. So I figured I'd write down
the steps in this concise format.&lt;/p&gt;
&lt;h3&gt;On the minion&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;add-apt-repository&lt;span class="w"&gt; &lt;/span&gt;ppa:saltstack/salt
sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;update&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;salt-minion
sudo&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; salt&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/etc/hosts&lt;span class="w"&gt; &lt;/span&gt;//Or&lt;span class="w"&gt; &lt;/span&gt;whatever&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;salt&lt;span class="w"&gt; &lt;/span&gt;master&lt;span class="w"&gt; &lt;/span&gt;is
sudo&lt;span class="w"&gt; &lt;/span&gt;salt-call&lt;span class="w"&gt; &lt;/span&gt;-l&lt;span class="w"&gt; &lt;/span&gt;debug&lt;span class="w"&gt; &lt;/span&gt;state.highstate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Then on the master&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;salt-key&lt;span class="w"&gt; &lt;/span&gt;-L
sudo&lt;span class="w"&gt; &lt;/span&gt;salt-key&lt;span class="w"&gt; &lt;/span&gt;-a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Then back on the minion&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;sudo salt-call -l debug state.highstate&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;It also shows just how fast it is to get a box up and running with salt!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Hiding subpanels based on specific criteria</title><link href="https://shanedowling.com/sugarcrm-7-hiding-subpanels-based-on-specific-criteria-eee6aacb95e1.html" rel="alternate"></link><published>2014-06-12T00:00:00+00:00</published><updated>2014-06-12T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-06-12:/sugarcrm-7-hiding-subpanels-based-on-specific-criteria-eee6aacb95e1.html</id><summary type="html">&lt;p&gt;The new Sugar subpanels look great but they do take up quite a lot
space, without any ability to remove Subpanels via studio I've had to
come up with a few ways to hide them.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note: Original Props go to Robin Larsson who wrote the&lt;/strong&gt; &lt;a href="https://community.sugarcrm.com/sugarcrm/topics/dynamically_hiding_showing_subpanels_based_on_record_values_in_sugar_7"&gt;&lt;strong&gt;original&lt;/strong&gt;&lt;/a&gt; &lt;strong&gt;on the Sugar Community …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;The new Sugar subpanels look great but they do take up quite a lot
space, without any ability to remove Subpanels via studio I've had to
come up with a few ways to hide them.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note: Original Props go to Robin Larsson who wrote the&lt;/strong&gt; &lt;a href="https://community.sugarcrm.com/sugarcrm/topics/dynamically_hiding_showing_subpanels_based_on_record_values_in_sugar_7"&gt;&lt;strong&gt;original&lt;/strong&gt;&lt;/a&gt; &lt;strong&gt;on the Sugar Community.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;What Robin's code does is essentially hide fields based on a specific
value within a record, I didn't really need that ability much so I've
altered his code based on use cases I've come across.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The related type, meaning hide all subpanels of say type Account or Contact&lt;/li&gt;
&lt;li&gt;The relationship name, so if you want to hide a related module by a specific relationship. For example accounts_contacts&lt;/li&gt;
&lt;li&gt;If a specific relationship has no related records. So say if an account has no contacts, hide that subpanel.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Place this code in
custom/modules/&lt;YOUR_MODULE&gt;/clients/base/layouts/subpanels/subpanels.js and
simply populate the hide_variables with whatever you wish to hide!
```javascript
({&lt;/p&gt;
&lt;p&gt;},
 /*&lt;em&gt;
 * Show the subpanel for the given linkName and hide all others
 * @param {String} linkName name of subpanel link
 &lt;/em&gt;/
 var self = this,
 //this.layout is the filter layout which subpanels is child of; we
 //use it here as it has a last_state key in its meta
 cacheKey = app.user.lastState.key('subpanels-last', this.layout);&lt;/p&gt;
&lt;p&gt;// wait for the model to load
 self.model.on("change", function () {&lt;/p&gt;
&lt;p&gt;if (linkName) {
 app.user.lastState.set(cacheKey, linkName);
 }&lt;/p&gt;
&lt;p&gt;_.each(self._components, function (component) {
 var hide_subpanel = self._checkIfHideSubpanel(component.module.toLowerCase(), component.collection);&lt;/p&gt;
&lt;p&gt;var link = component.context.get('link');
 if (!hide_subpanel &amp;amp;&amp;amp;
 ( !linkName || linkName === link )) {
 component.context.set("hidden", false);
 component.show();
 }
 else {
 component.context.set("hidden", true);
 component.hide();
 }
 });
 });
 },&lt;/p&gt;
&lt;p&gt;/*&lt;em&gt;
 * Check if the subpanel is on the hiding list and if the watched field has a specific value.
 * @param {Boolean} subpanel name of the module for the subpanel
 &lt;/em&gt;/
 var relationship = field_collection.link.name;
 var self = this;
 var hide_subpanel = false;
 if (( jQuery.inArray(type, self.hide_subpanel_by_type) !== -1 )) {
 hide_subpanel = true;
 }
 if (( jQuery.inArray(relationship, self.hide_subpanel_by_empty) !== -1 )
 &amp;amp;&amp;amp; (field_collection.models.length === 0)) {
 hide_subpanel = true;
 }
 if (( jQuery.inArray(relationship, self.hide_subpanel_by_relationship) !== -1 )) {
 hide_subpanel = true;
 }&lt;/p&gt;
&lt;p&gt;return hide_subpanel;
 },
 })
 ```&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Super simple folder backup one-liner</title><link href="https://shanedowling.com/super-simple-folder-backup-one-liner-de43a969cb0d.html" rel="alternate"></link><published>2014-06-06T00:00:00+00:00</published><updated>2014-06-06T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-06-06:/super-simple-folder-backup-one-liner-de43a969cb0d.html</id><summary type="html">&lt;p&gt;I needed a simple cron job, that just took backups of my project
folders, should the worst happen to my laptop. Google brought up nothing
obvious, so I figured I'd share it here.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;tar&lt;span class="w"&gt; &lt;/span&gt;zcvf&lt;span class="w"&gt; &lt;/span&gt;/tmp/snap.tgz&lt;span class="w"&gt; &lt;/span&gt;~/Projects&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;rsync&lt;span class="w"&gt; &lt;/span&gt;/tmp/snap.tgz&lt;span class="w"&gt; &lt;/span&gt;user@remotebox:/home/backups/snap_&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%F_ …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;I needed a simple cron job, that just took backups of my project
folders, should the worst happen to my laptop. Google brought up nothing
obvious, so I figured I'd share it here.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;tar&lt;span class="w"&gt; &lt;/span&gt;zcvf&lt;span class="w"&gt; &lt;/span&gt;/tmp/snap.tgz&lt;span class="w"&gt; &lt;/span&gt;~/Projects&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;rsync&lt;span class="w"&gt; &lt;/span&gt;/tmp/snap.tgz&lt;span class="w"&gt; &lt;/span&gt;user@remotebox:/home/backups/snap_&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%F_%T&lt;span class="sb"&gt;`&lt;/span&gt;.tgz&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;rm&lt;span class="w"&gt; &lt;/span&gt;/tmp/snap.tgz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Okay, I'll admit it's a bit of a long one-liner.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Adding a custom column to a list</title><link href="https://shanedowling.com/sugarcrm-7-adding-a-custom-column-to-a-list-1370ce1fbdb2.html" rel="alternate"></link><published>2014-05-22T00:00:00+00:00</published><updated>2014-05-22T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-05-22:/sugarcrm-7-adding-a-custom-column-to-a-list-1370ce1fbdb2.html</id><summary type="html">&lt;p&gt;This is the SugarCRM 7 equivalent to this post &lt;a href="https://shanedowling.com/sugarcrm-add-a-code-driven-column-to-a-list-4e9f4eb672b1"&gt;here&lt;/a&gt;, because Sugar has dropped the process record logic hook, we need to come up with a new solution.&lt;/p&gt;
&lt;p&gt;Here's how you can add a new column to a list view, I have to admit this
is one of the really …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is the SugarCRM 7 equivalent to this post &lt;a href="https://shanedowling.com/sugarcrm-add-a-code-driven-column-to-a-list-4e9f4eb672b1"&gt;here&lt;/a&gt;, because Sugar has dropped the process record logic hook, we need to come up with a new solution.&lt;/p&gt;
&lt;p&gt;Here's how you can add a new column to a list view, I have to admit this
is one of the really powerful additions to SugarCRM 7, no more crazy
config files or hacks to try cheat your data in. By leveraging
javascript events with a decent restful API you can come up with some
really nice solutions, with lots of hooks to do custom things. Once you
see the difference in implementation you'll see why I'm so pleased.&lt;/p&gt;
&lt;p&gt;So anyway, back to the customisations.&lt;/p&gt;
&lt;h3&gt;1. Add the placeholder column&lt;/h3&gt;
&lt;p&gt;You need to do this by adding a new column into your custom modules
list.php file, which is generally located at
custom/modules/YOUR_CUSTOM_MODULE/clients/base/views/list/list.php,
add your new column in under&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$viewdefs[$modulename][&amp;#39;base&amp;#39;][&amp;#39;view&amp;#39;][&amp;#39;list&amp;#39;][&amp;#39;panels&amp;#39;][0][&amp;#39;fields&amp;#39;]&lt;/span&gt;

&lt;span class="x"&gt;array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;custom_fieldname&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_CUSTOM_RECORD&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;enabled&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;width&amp;#39; =&amp;gt; &amp;#39;10%&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;default&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ```&lt;/span&gt;

&lt;span class="x"&gt;### 2. Add the JS action&lt;/span&gt;

&lt;span class="x"&gt;This should go into&lt;/span&gt;
&lt;span class="x"&gt;custom/modules/YOUR_CUSTOM_MODULE/clients/base/views/recordlist/recordlist.js&lt;/span&gt;
&lt;span class="x"&gt;```javascript&lt;/span&gt;
&lt;span class="x"&gt;({&lt;/span&gt;

&lt;span class="x"&gt;this.before(&amp;#39;render&amp;#39;, function() {&lt;/span&gt;
&lt;span class="x"&gt; return this.beforeRenderCallback()&lt;/span&gt;
&lt;span class="x"&gt; }, this);&lt;/span&gt;
&lt;span class="x"&gt; this.on(&amp;#39;render&amp;#39;, function() {&lt;/span&gt;
&lt;span class="x"&gt; this.renderCallback();&lt;/span&gt;
&lt;span class="x"&gt; if (this.previewVisible) {&lt;/span&gt;
&lt;span class="x"&gt; this.decorateRow(this.previewModel);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; }, this);&lt;/span&gt;
&lt;span class="x"&gt; this._super(&amp;quot;bindDataChange&amp;quot;);&lt;/span&gt;
&lt;span class="x"&gt; },&lt;/span&gt;
&lt;span class="x"&gt; /**&lt;/span&gt;
&lt;span class="x"&gt; * Callback for before on(&amp;#39;render&amp;#39;) event&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; this.collection.each(function(model) {&lt;/span&gt;
&lt;span class="x"&gt; app.api.call(&amp;#39;GET&amp;#39;, app.api.buildURL(&amp;#39;YOUR_CUSTOM_MODULE/YOUR_CUSTOM_FUNCTION/&amp;#39;+model.id), null, {&lt;/span&gt;
&lt;span class="x"&gt; model.set({&lt;/span&gt;
&lt;span class="x"&gt; your_custom_field : data&lt;/span&gt;
&lt;span class="x"&gt; });&lt;/span&gt;
&lt;span class="x"&gt; }, this)&lt;/span&gt;
&lt;span class="x"&gt; });&lt;/span&gt;
&lt;span class="x"&gt; }, this);&lt;/span&gt;
&lt;span class="x"&gt; },&lt;/span&gt;
&lt;span class="x"&gt; })&lt;/span&gt;
&lt;span class="x"&gt; ```&lt;/span&gt;

&lt;span class="x"&gt;### 3. Add the API end point&lt;/span&gt;

&lt;span class="x"&gt;The documentation here is really straightforward but as an example for&lt;/span&gt;
&lt;span class="x"&gt;completeness this should return a json response with the data needed.&lt;/span&gt;

&lt;span class="x"&gt;This code would go into&lt;/span&gt;
&lt;span class="x"&gt;custom/modules/YOUR_CUSTOM_MODULE/clients/base/api/YOUR_CUSTOM_FUNCTION.php&lt;/span&gt;

&lt;span class="x"&gt;```php&lt;/span&gt;
&lt;span class="x"&gt;if(!defined(&amp;#39;sugarEntry&amp;#39;) || !sugarEntry) die(&amp;#39;Not A Valid Entry Point&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; require_once(&amp;#39;custom/modules/YOUR_CUSTOM_MODULE/Custom_Bean.php&amp;#39;);&lt;/span&gt;

&lt;span class="x"&gt;class YOUR_CUSTOM_FUNCTION extends SugarApi&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; public function registerApiRest()&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; return array(&lt;/span&gt;
&lt;span class="x"&gt; //GET&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;MyGetEndpoint&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; //request type&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;reqType&amp;#39; =&amp;gt; &amp;#39;GET&amp;#39;,&lt;/span&gt;

&lt;span class="x"&gt;//endpoint path&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;path&amp;#39; =&amp;gt; array(&amp;#39;YOUR_CUSTOM_MODULE&amp;#39;, &amp;#39;YOUR_CUSTOM_FUNCTION&amp;#39;, &amp;#39;?&amp;#39;),&lt;/span&gt;

&lt;span class="x"&gt;//endpoint variables&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;pathVars&amp;#39; =&amp;gt; array(&amp;#39;&amp;#39;, &amp;#39;&amp;#39;, &amp;#39;data&amp;#39;),&lt;/span&gt;

&lt;span class="x"&gt;//method to call&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;method&amp;#39; =&amp;gt; &amp;#39;MyGetMethod&amp;#39;,&lt;/span&gt;

&lt;span class="x"&gt;//short help string to be displayed in the help documentation&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;shortHelp&amp;#39; =&amp;gt; &amp;#39;Some help text&amp;#39;,&lt;/span&gt;

&lt;span class="x"&gt;//long help to be displayed in the help documentation&lt;/span&gt;
&lt;span class="x"&gt; //&amp;#39;longHelp&amp;#39; =&amp;gt; &amp;#39;&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Method to be used for my MyEndpoint/GetExample endpoint&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public function MyGetMethod($api, $args)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $id = $args;&lt;/span&gt;

&lt;span class="x"&gt;$custom_bean = new Custom_Bean();&lt;/span&gt;
&lt;span class="x"&gt; $custom_bean-&amp;gt;retrieve($id);&lt;/span&gt;

&lt;span class="x"&gt;return $custom_bean-&amp;gt;getCustomColumnData();&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;4. Add to column to the dictionary&lt;/h3&gt;
&lt;p&gt;custom/Extension/modules/YOUR_CUSTOM_MODULE/Ext/Vardefs/sugarfield_custom_fieldname.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$dictionary[&amp;#39;YOUR_CUSTOM_MODULE&amp;#39;][&amp;#39;fields&amp;#39;][&amp;#39;custom_fieldname&amp;#39;][&amp;#39;labelValue&amp;#39;]=&amp;#39;Custom Row &amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; $dictionary[&amp;#39;YOUR_CUSTOM_MODULE&amp;#39;][&amp;#39;fields&amp;#39;][&amp;#39;custom_fieldname&amp;#39;][&amp;#39;full_text_search&amp;#39;]=array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;boost&amp;#39; =&amp;gt; &amp;#39;0&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;enabled&amp;#39; =&amp;gt; false,&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;span class="x"&gt; $dictionary[&amp;#39;YOUR_CUSTOM_MODULE&amp;#39;][&amp;#39;fields&amp;#39;][&amp;#39;custom_fieldname&amp;#39;][&amp;#39;enforced&amp;#39;]=&amp;#39;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; $dictionary[&amp;#39;YOUR_CUSTOM_MODULE&amp;#39;][&amp;#39;fields&amp;#39;][&amp;#39;custom_fieldname&amp;#39;][&amp;#39;dependency&amp;#39;]=&amp;#39;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; ?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;On quick repair/rebuild this will get merged into
custom/modules/YOUR_CUSTOM_MODULES/Ext/Vardefs/vardefs.ext.php&lt;/p&gt;
&lt;h3&gt;5. No need to even guess, do a quick repair/rebuild.&lt;/h3&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM 7 — Adding an action to the listview</title><link href="https://shanedowling.com/sugarcrm-7-adding-an-action-to-the-listview-436f18c039e6.html" rel="alternate"></link><published>2014-05-18T00:00:00+00:00</published><updated>2014-05-18T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-05-18:/sugarcrm-7-adding-an-action-to-the-listview-436f18c039e6.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__O0TIZQumvouoJ6ZCn8__s3g.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;There doesn't appear to be a documented way to do this but in SugarCRM 7
this is how I've added actions to the listview. For this example it's
showing how to add a button to an animal module, which adds the animal
to a related circus event.&lt;/p&gt;
&lt;h3&gt;1. Adding thebutton …&lt;/h3&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__O0TIZQumvouoJ6ZCn8__s3g.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;There doesn't appear to be a documented way to do this but in SugarCRM 7
this is how I've added actions to the listview. For this example it's
showing how to add a button to an animal module, which adds the animal
to a related circus event.&lt;/p&gt;
&lt;h3&gt;1. Adding thebutton&lt;/h3&gt;
&lt;p&gt;This first thing you need to do is copy the global recordlist.php file
into your module and create a custom recordlist.php which overrides the
existing one. You can copy the base one SugarCRM has or simply take this
file below and alter the add_to_circus button. Note the
addtocirus:fire action, we will create javascript code that is called
when this event is fired. This code should go into
custom/module/animals/clients/base/views/recordlist/recordlist.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;if (!defined(&amp;#39;sugarEntry&amp;#39;) || !sugarEntry) {&lt;/span&gt;
&lt;span class="x"&gt; die(&amp;#39;Not A Valid Entry Point&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/*********************************************************************************&lt;/span&gt;
&lt;span class="x"&gt; * By installing or using this file, you are confirming on behalf of the entity&lt;/span&gt;
&lt;span class="x"&gt; * subscribed to the SugarCRM Inc. product (&amp;quot;Company&amp;quot;) that Company is bound by&lt;/span&gt;
&lt;span class="x"&gt; * [http://www.sugarcrm.com/master-subscription-agreement](http://www.sugarcrm.com/master-subscription-agreement)&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * If Company is not bound by the MSA, then by installing or using this file&lt;/span&gt;
&lt;span class="x"&gt; * you are agreeing unconditionally that Company will be bound by the MSA and&lt;/span&gt;
&lt;span class="x"&gt; * certifying that you have authority to bind Company accordingly.&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * Copyright © 2004–2014 SugarCRM Inc. All rights reserved.&lt;/span&gt;
&lt;span class="x"&gt; ********************************************************************************/&lt;/span&gt;

&lt;span class="x"&gt;$viewdefs[&amp;#39;CSTM_ANIMALS&amp;#39;][&amp;#39;base&amp;#39;][&amp;#39;view&amp;#39;][&amp;#39;recordlist&amp;#39;] = array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;selection&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;multi&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;actions&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;edit_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_MASS_UPDATE&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;primary&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;events&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;click&amp;#39; =&amp;gt; &amp;#39;list:massupdate:fire&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;massupdate&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;merge_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_MERGE&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;primary&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;events&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;click&amp;#39; =&amp;gt; &amp;#39;list:mergeduplicates:fire&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;calc_field_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_UPDATE_CALC_FIELDS&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;events&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;click&amp;#39; =&amp;gt; &amp;#39;list:updatecalcfields:fire&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;massupdate&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;addtolist_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_ADD_TO_PROSPECT_LIST_BUTTON_LABEL&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;primary&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;events&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;click&amp;#39; =&amp;gt; &amp;#39;list:massaddtolist:fire&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_module&amp;#39; =&amp;gt; &amp;#39;ProspectLists&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;delete_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_DELETE&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;delete&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;primary&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;events&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;click&amp;#39; =&amp;gt; &amp;#39;list:massdelete:fire&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;export_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_EXPORT&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;export&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;primary&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;events&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;click&amp;#39; =&amp;gt; &amp;#39;list:massexport:fire&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;add_to_circus_button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;button&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;LBL_ADD_TO_FAIR&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;acl_action&amp;#39; =&amp;gt; &amp;#39;edit&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;primary&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;events&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;click&amp;#39; =&amp;gt; &amp;#39;list:addtocircus:fire&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2. Adding theaction&lt;/h3&gt;
&lt;p&gt;This is an example of the JS code you could call when the event has
custom/modules/animals/clients/base/views/recordlist/recordlist.js. On
initialise we simply set a new context.on that calls your js modules
function.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;({&lt;/span&gt;

&lt;span class="c1"&gt;//add listener for custom button&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;context&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;list:addtocircus:fire&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;add_to_circus&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;add_to_circus&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;idCSV&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;selector&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CSTM_ANIMALS_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// I&amp;#39;m sure there&amp;#39;s a better way to do this, but not documented or found anywhere.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;input[type=checkbox]:checked&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;closest&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[name^=&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;selector&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;each&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(){&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;idCSV&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;attr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;substring&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;selector&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ajax&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;errorResponse&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;alert&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bad-add-to-circus&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now there's a few caveats with this code.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I couldn't find a documented way to get the selected backbone items from SugarCRMs listview collection. So I had to write a jQuery selector, simply replace CSTM_ANIMAL with your module name and the selector should get you the list of ids that have been selected by the user, package them to a CSV then pass them to the ajax call.&lt;/li&gt;
&lt;li&gt;The keen eyed observers might have noticed I'm using the old way of directly calling a controller action, this is because this code was implemented to support a migration project from SugarCRM 6 -&amp;gt; SugarCRM 7 and it was faster than re-implementing the PHP code. However if starting anew, I would strongly recommend instead adding a new rest endpoint to your module and calling that via AJAX. There's some great documentation &lt;a href="http://developer.sugarcrm.com/2014/03/10/sugarcrm-cookbook-adding-a-rest-endpoint-2/"&gt;here&lt;/a&gt; on that topic, which should help show you how to implement the code to add the animal to a circus. I'll do another post on this in the future.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3. Quick Repair and Rebuilt(as always)&lt;/h3&gt;
&lt;p&gt;Any questions feel free to ask!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Find My Run — My first iPhone app</title><link href="https://shanedowling.com/find-my-run-my-first-iphone-app-4e1ec62b32b3.html" rel="alternate"></link><published>2014-05-17T00:00:00+00:00</published><updated>2014-05-17T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-05-17:/find-my-run-my-first-iphone-app-4e1ec62b32b3.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__x40lnN3JZF6V7gOMbo3Imw.png"&gt;&lt;/p&gt;
&lt;p&gt;It's a pretty basic app that lists the ten nearest running events in
your area. There was a few new pieces of tech(for me) involved. The app
was built with &lt;a href="http://www.appcelerator.com/platform/alloy/"&gt;Appcelerator's Alloy framework&lt;/a&gt;, which I must
admit I quite like for rapid development of cross platform mobile
apps(hopefully …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__x40lnN3JZF6V7gOMbo3Imw.png"&gt;&lt;/p&gt;
&lt;p&gt;It's a pretty basic app that lists the ten nearest running events in
your area. There was a few new pieces of tech(for me) involved. The app
was built with &lt;a href="http://www.appcelerator.com/platform/alloy/"&gt;Appcelerator's Alloy framework&lt;/a&gt;, which I must
admit I quite like for rapid development of cross platform mobile
apps(hopefully an Android version shouldn't be too far behind).&lt;/p&gt;
&lt;p&gt;The API that drives it was build with Python, Flask, MongoDB and hosted
with Heroku, also great tech for getting something out quickly. I'm
hoping to improve the app as time goes on, but I have another idea I'm
due to implement first…&lt;/p&gt;
&lt;p&gt;Oh you can find it &lt;a href="https://itunes.apple.com/us/app/find-my-run/id870132034?ls=1&amp;amp;mt=8"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Enjoy!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Owning Your Data — Replacing Dropbox</title><link href="https://shanedowling.com/owning-your-data-replacing-dropbox-fdaa13df41ad.html" rel="alternate"></link><published>2014-04-24T00:00:00+00:00</published><updated>2014-04-24T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-04-24:/owning-your-data-replacing-dropbox-fdaa13df41ad.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__rUmmXptV__9zX6WkBjTLJEw.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Dropbox as late has come under a fair bit of fire. They've added DMCA
takedowns to personal folders, scan/open personal files and have appointed Condelleza Rice as a member of their board of directors. Which has kicked off quite a bit of backlash including a #dropdropbox tag that's gaining …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__rUmmXptV__9zX6WkBjTLJEw.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Dropbox as late has come under a fair bit of fire. They've added DMCA
takedowns to personal folders, scan/open personal files and have appointed Condelleza Rice as a member of their board of directors. Which has kicked off quite a bit of backlash including a #dropdropbox tag that's gaining popularity.&lt;/p&gt;
&lt;p&gt;Seems like an ideal time to start owning your data, dropping Dropbox and
moving to your own hosted alternative. What I'm suggesting is up for a
bit of debate, instead of using a hosted service like Dropbox, I use a
tool called BitTorrent Sync to sync my documents for my laptops/tablets
to my own personal server that acts as my file storage. This means that
no files are transmitted to server I don't have full root control of.
There is, however a downside. Bit-Torrent Sync isn't open source, which is why it won't be recommended on Prism Break and understandably so. The team are looking at open sourcing it, but that could be some time before it's decided.&lt;/p&gt;
&lt;p&gt;However, personally I'm happy to take the risk they're not hosting your data and the setup is as simple as it gets. Bear in mind there's also open source alternatives that could do the job quite easily, I just haven't had time to test them.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/1__cBAbOvAvxh9orhMKkbYMgg.jpeg"&gt;&lt;/p&gt;
&lt;h3&gt;Requirements&lt;/h3&gt;
&lt;p&gt;Just a server really. You can use &lt;a href="https://shanedowling.com/owning-your-data-initial-server-setup-afa33394b94"&gt;this guide&lt;/a&gt; if you wish but any server should do, you don't necessarily even need a server. Just two devices to sync across. If you had a work/home laptop you could create a synced folder across both.&lt;/p&gt;
&lt;h3&gt;Setup&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;It's so simple really, just download btsync to your server here and run ./btsync.&lt;/li&gt;
&lt;li&gt;You should then be able to access it via your web browser via &lt;a href="http://your%5C_servers%5C_ip:8888"&gt;http://your_servers_ip:8888&lt;/a&gt; and you're free to configure as you wish. Add an empty folder on your server to act as the sync location.&lt;/li&gt;
&lt;li&gt;Then simply download the client on your desktops/tablets and have it sync the newly created sync folder on your server.&lt;/li&gt;
&lt;li&gt;That's it.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If I find the time, I'll take a test drive with the open source
alternative and update this accordingly but BitTorrent Sync seems safe
enough, if they go down your data is still on your own server and not on
a service that feels as dodgy as Dropbox does right now.&lt;/p&gt;
&lt;h3&gt;Note&lt;/h3&gt;
&lt;p&gt;I did try owncloud another alternative quite some time ago and found the sync process to be very unreliable and slow. The clients also left a lot of be desired. They didn't run a daemon on the server and your clients merely pushed files to a bunch of PHP scripts, which might explain the unreliability. However things may have improved since then.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Philosophy as an extension of mindfulness</title><link href="https://shanedowling.com/philosophy-as-an-extension-of-mindfulness-8295b123c977.html" rel="alternate"></link><published>2014-04-20T00:00:00+00:00</published><updated>2014-04-20T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-04-20:/philosophy-as-an-extension-of-mindfulness-8295b123c977.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__8__eU80cOXYJfRz3xdJ__9JA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Recently I read a very interesting &lt;a href="https://robertpaulwolff.blogspot.co.uk/2011/10/one-dimensional-man-mini-tutorial-part.html"&gt;mini-tutorial on Marcuse&lt;/a&gt;
and his book One-Dimensional Man, an apparently brilliant merge of both
Freud and Marx. I'd suggest reading the link and forming you're own
opinions on him. I myself found the tutorial brought on convincing
points, but more than that I found …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__8__eU80cOXYJfRz3xdJ__9JA.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Recently I read a very interesting &lt;a href="https://robertpaulwolff.blogspot.co.uk/2011/10/one-dimensional-man-mini-tutorial-part.html"&gt;mini-tutorial on Marcuse&lt;/a&gt;
and his book One-Dimensional Man, an apparently brilliant merge of both
Freud and Marx. I'd suggest reading the link and forming you're own
opinions on him. I myself found the tutorial brought on convincing
points, but more than that I found myself falling back a re-ignition of
my own rambling interest in philosophy.&lt;/p&gt;
&lt;p&gt;Having been away from it for quite some time, it was nice to put another
filter onto reality, to take a political or socio-economic theory, sit
it behind my eyes and consider the world around me. If it's worth
reading I almost always gain new insights and it helps to formalise my
viewpoints and more importantly take action. I'm well aware I'm not
nearly smart enough to contribute to such a debate but I can make
significant personal decisions with a renewed clarity. Mindfulness is a
wonderful thing, but I'm beginning to realise more and more there's an
extension to this. Not as a directly similar practice but a value in
deeper understanding.&lt;/p&gt;
&lt;p&gt;Much like the mind-body awareness a daily meditation practice brings, we
are also within structures, processes and systems that demand our
awareness and not simply passive acceptance at face value. Do this and
we risk getting swept up into the norms and that's an easy way to get
manipulated without even realising it. Confused? Check out the link and
you'll understand.&lt;/p&gt;</content><category term="Mindfulness"></category></entry><entry><title>SugarCRM — Search for records related to the current record</title><link href="https://shanedowling.com/sugarcrm-search-for-records-related-to-the-current-record-4c0086341c14.html" rel="alternate"></link><published>2014-04-20T00:00:00+00:00</published><updated>2014-04-20T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-04-20:/sugarcrm-search-for-records-related-to-the-current-record-4c0086341c14.html</id><summary type="html">&lt;p&gt;Say you have two modules in Sugar: Animals and Ringmasters and they aren't directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Say you have two modules in Sugar: Animals and Ringmasters and they aren't directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster, I've written about how to do something &lt;a href="http://shanedowling.com/sugarcrm-searches-data-indirectly-related-modules/"&gt;similar recently&lt;/a&gt;. Conversely, you want to search for all Animals related to a Ringmaster you're currently viewing. It's not a link that exists in Sugar so you can directly see a Dashlet and you don't want to build anything from scratch so that's going to take effort.&lt;/p&gt;
&lt;p&gt;What you could do, is create a link on the action drop-down while viewing the Ringmaster that linked you to a search that would call animals supplying the Ringmaster's id as the argument.&lt;/p&gt;
&lt;p&gt;This is based on the previous tutorial I've shared.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Firstly add a new logic hook in custom/modules/RingMasterModule/logic_hooks.php&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;php
$hook_array['after_ui_frame'][] = Array(2, 'Custom Ring Master Buttons', 'custom/modules/RingMasterModule/CustomButtons.php
 ','RingMasterButtons', 'add');&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Then add the custom buttons class in custom/modules/RingMasterModule/CustomButtons.php&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;```php
class RingMasterButtons {
 function add($bean)
 {
 echo $bean;
 $ringMasterID = $_GET['record'];
 if(!$ringMasterID) return;
 // Based on what action we're in, add some buttons!
 switch ($GLOBALS['app']-&amp;gt;controller-&amp;gt;action)
 {
 case "DetailView": // Add buttons to Detail View&lt;/p&gt;
&lt;p&gt;$button_code = &amp;lt;&amp;lt;&lt;/p&gt;
&lt;p&gt;EOQ;
 echo $button_code;
 break;
 }
 }
 }
 ```&lt;/p&gt;
&lt;p&gt;Quick Repair and Rebuild for good measure. This should add a hidden form
that will be called when the user clicks the Ring Master Animals.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM — Searches with data from indirectly related modules</title><link href="https://shanedowling.com/sugarcrm-searches-with-data-from-indirectly-related-modules-ec204005f7b3.html" rel="alternate"></link><published>2014-04-17T00:00:00+00:00</published><updated>2014-04-17T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-04-17:/sugarcrm-searches-with-data-from-indirectly-related-modules-ec204005f7b3.html</id><summary type="html">&lt;p&gt;Building modules in SugarCRM can cause you to create a boatload of
unnecessary relationships, simply because it's convenient to do so.
Maybe you'd have a relationship where A relates to B and B to C but
you'd like to search for all A module records that relate to C. One …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Building modules in SugarCRM can cause you to create a boatload of
unnecessary relationships, simply because it's convenient to do so.
Maybe you'd have a relationship where A relates to B and B to C but
you'd like to search for all A module records that relate to C. One
option is to maybe related A to C and maintain the relationships by
using hooks on save to preserve the A-C relationship. That way you could
leverage Sugar relate fields and indirect searching, but that can be a
messy choice that adds a lot of complexity if overused.&lt;/p&gt;
&lt;p&gt;The alternative is to keep the relationship structure as it is and add a
new field to the search and build a custom subselect statement. For this
example we're adding a Drop-Down to Accounts to allow a user to search
which Accounts are indirectly related to Performers via Events. Say we
wish to present a drop-down on Accounts of all performers and if you
search, it will return all Accounts attached to the specified Performer.&lt;/p&gt;
&lt;h3&gt;Get the data for the drop-down&lt;/h3&gt;
&lt;p&gt;In custom/modules/Accounts/getCustomDropDown.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;require_once(&amp;quot;modules/Performers/Performers.php&amp;quot;);&lt;/span&gt;

&lt;span class="x"&gt;function galleryPerformers($focus, $field, $value, $view, $tabindex=&amp;#39;0&amp;#39;) {&lt;/span&gt;
&lt;span class="x"&gt; $performersBean = BeanFactory::getBean(&amp;#39;Performers&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; $performers = $performersBean-&amp;gt;get_full_list();&lt;/span&gt;
&lt;span class="x"&gt; $html = &amp;quot; — &amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; $selected_performer = $_REQUEST[&amp;#39;performer_type_search&amp;#39;]; // Or whatever dom id your drop-down has&lt;/span&gt;
&lt;span class="x"&gt; foreach($performers as $performer) {&lt;/span&gt;
&lt;span class="x"&gt; $html .= &amp;quot; if($selected_performer == $performer-&amp;gt;id) { // Props to Igor who flagged this in the comments!&lt;/span&gt;
&lt;span class="x"&gt; $html .= &amp;quot;selected&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; $html .=&amp;quot; value=&amp;#39;{$performer-&amp;gt;id}&amp;#39;&amp;gt;{$performer-&amp;gt;name}&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; return $html;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; ```&lt;/span&gt;

&lt;span class="x"&gt;### Present the drop-down on the accounts search&lt;/span&gt;

&lt;span class="x"&gt;Note This has to go into modules/Accounts(I know, I know), but this had&lt;/span&gt;
&lt;span class="x"&gt;to break updatability to work otherwise this will wipe with a quick&lt;/span&gt;
&lt;span class="x"&gt;repair/rebuild(if you put it in custom). If you find an alternative&lt;/span&gt;
&lt;span class="x"&gt;solution put it here.&lt;/span&gt;

&lt;span class="x"&gt;So in modules/Accounts/metadata/vardefs.php&lt;/span&gt;
&lt;span class="x"&gt;```php&lt;/span&gt;
&lt;span class="x"&gt;$dictionary[&amp;quot;Account&amp;quot;][&amp;quot;fields&amp;quot;][&amp;quot;performer_type_search&amp;quot;] = array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;test&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;vname&amp;#39; =&amp;gt; &amp;#39;test&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;varchar&amp;#39;, // function to call that will return html that will be inserted&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;function&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;galleryPerformer&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;returns&amp;#39; =&amp;gt; &amp;#39;html&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;include&amp;#39; =&amp;gt; &amp;#39;custom/modules/Accounts/getCustomDropDown.php&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;required&amp;#39; =&amp;gt; false,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;do_report&amp;#39; =&amp;gt; false,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;reportable&amp;#39; =&amp;gt; false,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;comment&amp;#39; =&amp;gt; &amp;#39;Performer Searching&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;source&amp;#39; =&amp;gt; &amp;#39;non-db&amp;#39;&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Extend the search&lt;/h3&gt;
&lt;p&gt;Now that you have your drop-down working you need to extend the search
to do what you need.&lt;/p&gt;
&lt;p&gt;custom/modules/Accounts/metadata/SearchFields.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;&amp;#39;performer_search&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;query_type&amp;#39; =&amp;gt; &amp;#39;default&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;operator&amp;#39; =&amp;gt; &amp;#39;subquery&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;subquery&amp;#39; =&amp;gt; &amp;#39;SELECT accounts.id FROM accounts LEFT JOIN account_event acc_evt ON acc_evt.\`account_ida\` = accounts.id LEFT JOIN performers_event per_evt ON pvt_evt.\`event_idb\` = acc_evt.\`performers_idb\` WHERE acc_evt.deleted = 0 AND pvt_evt.deleted = 0 AND accounts.deleted = 0 AND pvt_evt.\`fair_ida\` LIKE&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;db_field&amp;#39; =&amp;gt; array(&amp;#39;id&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;enum&amp;#39;, ),&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now this query probably looks a little weird, but basically it's an
almost pseudocode type query that simply connected the two lookup tables
between Accounts and Events then Events and Performers and does the
where on the performers id.&lt;/p&gt;
&lt;p&gt;Note the LIKE in the query. Even if you're querying IDs, Sugar stupidly
passes in the value with a % at the end. So make sure this is LIKE
statement.&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>Build Yii 1.* with composer</title><link href="https://shanedowling.com/build-yii-1-with-composer-d8ee634e3f3e.html" rel="alternate"></link><published>2014-04-08T00:00:00+00:00</published><updated>2014-04-08T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-04-08:/build-yii-1-with-composer-d8ee634e3f3e.html</id><summary type="html">&lt;p&gt;&lt;img alt="" src="images/1__l9C5aZ3qEUjpuOr__ZRZtbw.png"&gt;&lt;/p&gt;
&lt;p&gt;While we're looking forward to Yii 2 coming alive, all of the posts on
please do not use it for production**. So it might be a little while
before we have in-built composer awesomeness with Yii. &lt;a href="http://www.yiiframework.com/wiki/392/creating-yii-applications-with-composer/"&gt;The guide
online&lt;/a&gt; on integrating composer with yii does not seem particularly
straight-forward and …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="" src="images/1__l9C5aZ3qEUjpuOr__ZRZtbw.png"&gt;&lt;/p&gt;
&lt;p&gt;While we're looking forward to Yii 2 coming alive, all of the posts on
please do not use it for production**. So it might be a little while
before we have in-built composer awesomeness with Yii. &lt;a href="http://www.yiiframework.com/wiki/392/creating-yii-applications-with-composer/"&gt;The guide
online&lt;/a&gt; on integrating composer with yii does not seem particularly
straight-forward and misses out on a lot of steps, hence this post. You
basically need to have the right folder structure or things will start
to break. This guide relies on some of phundaments packages to get
things up and running, as the official yii composer project doesn't work
anymore.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create the root folder my_yii_install.&lt;/li&gt;
&lt;li&gt;mkdir -p my_yii_install/protected/config&lt;/li&gt;
&lt;li&gt;In my_yii_install/protected/ &lt;a href="https://getcomposer.org/download/"&gt;download the composer.phar&lt;/a&gt; and create a composer.json like so.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;repositories&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;composer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://packages.phundament.com&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;require&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;php&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;gt;=5.3.2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;yiisoft/yii&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.1.*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;yiiext/migrate-command&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;0.7.*&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;config&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;bin-dir&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;bin/&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;autoload&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;psr-0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;config&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;./&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pre-install-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::preInstall&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-install-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postInstall&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pre-update-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::preUpdate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-update-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postUpdate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-package-install&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postPackageInstall&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-package-update&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postPackageUpdate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;In my_yii_install/config add console.php&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;return array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;aliases&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;vendor&amp;#39; =&amp;gt; &amp;#39;application.vendor&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;basePath&amp;#39; =&amp;gt; dirname(__FILE__) . DIRECTORY_SEPARATOR .&amp;#39;..&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;My Awesome Yii Site&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;components&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;db&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; // MySQL&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;connectionString&amp;#39; =&amp;gt; &amp;#39;mysql:host=localhost;dbname=my_yii_database&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;emulatePrepare&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;username&amp;#39; =&amp;gt; &amp;#39;root&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;password&amp;#39; =&amp;gt; &amp;#39;root&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;charset&amp;#39; =&amp;gt; &amp;#39;utf8&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;params&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;composer.callbacks&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; // args for Yii command runner&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;yiisoft/yii-install&amp;#39; =&amp;gt; array(&amp;#39;yiic&amp;#39;, &amp;#39;webapp&amp;#39;, dirname(__FILE__).DIRECTORY_SEPARATOR.&amp;#39;..&amp;#39;.DIRECTORY_SEPARATOR.&amp;#39;..&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;post-update&amp;#39; =&amp;gt; array(&amp;#39;yiic&amp;#39;, &amp;#39;migrate&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;post-install&amp;#39; =&amp;gt; array(&amp;#39;yiic&amp;#39;, &amp;#39;migrate&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Now you'll need to add a file like the below to actually handle the new composer hooks you've created. This will basically run migrations once your dependencies have installed.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is blantantly taken from phundaments &lt;a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"&gt;ComposerCallback&lt;/a&gt;.
I just thought I'd copy it here for completeness.&lt;/p&gt;
&lt;p&gt;ComposerCallback.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Class file&lt;/span&gt;
&lt;span class="x"&gt; *“&lt;/span&gt;
&lt;span class="x"&gt; * @author Tobias Munk&lt;/span&gt;
&lt;span class="x"&gt; * @link [http://www.phundament.com/](http://www.phundament.com/)&lt;/span&gt;
&lt;span class="x"&gt; * @copyright Copyright © 2012 diemeisterei GmbH&lt;/span&gt;
&lt;span class="x"&gt; * @license [http://www.phundament.com/license](http://www.phundament.com/license)&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;

&lt;span class="x"&gt;namespace config;&lt;/span&gt;
&lt;span class="x"&gt; use Composer\\Script\\Event;&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * ComposerCallback provides composer hooks&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * This setup class triggers \`./yiic migrate\` at post-install and post-update.&lt;/span&gt;
&lt;span class="x"&gt; * For a package the class triggers \`./yiic -\` at post-package-install and&lt;/span&gt;
&lt;span class="x"&gt; * post-package-update.&lt;/span&gt;
&lt;span class="x"&gt; * See composer manual (http://getcomposer.org/doc/articles/scripts.md)&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * Usage example&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * config.php&lt;/span&gt;
&lt;span class="x"&gt; * &amp;#39;params&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; * &amp;#39;composer.callbacks&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span class="x"&gt; * &amp;#39;post-update&amp;#39; =&amp;gt; array(&amp;#39;yiic&amp;#39;, &amp;#39;migrate&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; * &amp;#39;post-install&amp;#39; =&amp;gt; array(&amp;#39;yiic&amp;#39;, &amp;#39;migrate&amp;#39;),&lt;/span&gt;
&lt;span class="x"&gt; * &amp;#39;yiisoft/yii-install&amp;#39; =&amp;gt; array(&amp;#39;yiic&amp;#39;, &amp;#39;webapp&amp;#39;, realpath(dirname(__FILE__))),&lt;/span&gt;
&lt;span class="x"&gt; * ),&lt;/span&gt;
&lt;span class="x"&gt; * )&lt;/span&gt;
&lt;span class="x"&gt; * );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;composer.json&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pre-install-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::preInstall&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-install-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postInstall&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pre-update-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::preUpdate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-update-cmd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postUpdate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-package-install&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postPackageInstall&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;post-package-update&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;config\\\\ComposerCallback::postPackageUpdate&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;*&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @author Tobias Munk&lt;/span&gt;
&lt;span class="x"&gt; * @package phundament.app&lt;/span&gt;
&lt;span class="x"&gt; * @since 0.7.1&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;

&lt;span class="x"&gt;defined(&amp;#39;YII_PATH&amp;#39;) or define(&amp;#39;YII_PATH&amp;#39;, dirname(__FILE__).&amp;#39;/../vendor/yiisoft/yii/framework&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; defined(&amp;#39;CONSOLE_CONFIG&amp;#39;) or define(&amp;#39;CONSOLE_CONFIG&amp;#39;, dirname(__FILE__).&amp;#39;/console.php&amp;#39;);&lt;/span&gt;

&lt;span class="x"&gt;class ComposerCallback&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; /**&lt;/span&gt;
&lt;span class="x"&gt; * Displays welcome message&lt;/span&gt;
&lt;span class="x"&gt; * @static&lt;/span&gt;
&lt;span class="x"&gt; * @param ComposerScriptEvent $event&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public static function preInstall(Event $event)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $composer = $event-&amp;gt;getComposer();&lt;/span&gt;
&lt;span class="x"&gt; // do stuff&lt;/span&gt;
&lt;span class="x"&gt; echo &amp;quot;Phundament 3 Installernn&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; echo &amp;quot; * download packages specified in composer.json&lt;/span&gt;
&lt;span class="x"&gt; * trigger composer callbacksnn&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; if (self::confirm(&amp;quot;Start Installation?&amp;quot;)) {&lt;/span&gt;
&lt;span class="x"&gt; self::runHook(&amp;#39;pre-install&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; } else {&lt;/span&gt;
&lt;span class="x"&gt; exit(&amp;quot;Installation aborted.n&amp;quot;);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Executes ./yiic migrate&lt;/span&gt;
&lt;span class="x"&gt; * @static&lt;/span&gt;
&lt;span class="x"&gt; * @param ComposerScriptEvent $event&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public static function postInstall(Event $event)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; self::runHook(&amp;#39;post-install&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; echo &amp;quot;nnInstallation completed.nnThank you for choosing Phundament 3!nn&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Displays welcome message&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @static&lt;/span&gt;
&lt;span class="x"&gt; * @param ComposerScriptEvent $event&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public static function preUpdate(Event $event)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; echo &amp;quot;Welcome to Phundament Installation 3 via composernnUpdating your application to the lastest available packages…n&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; self::runHook(&amp;#39;pre-update&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Executes ./yiic migrate&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @static&lt;/span&gt;
&lt;span class="x"&gt; * @param ComposerScriptEvent $event&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public static function postUpdate(Event $event)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; self::runHook(&amp;#39;post-update&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; echo &amp;quot;nnUpdate completed.nn&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Executes ./yiic -&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @static&lt;/span&gt;
&lt;span class="x"&gt; * @param ComposerScriptEvent $event&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public static function postPackageInstall(Event $event)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $installedPackage = $event-&amp;gt;getOperation()-&amp;gt;getPackage();&lt;/span&gt;
&lt;span class="x"&gt; $hookName = $installedPackage-&amp;gt;getPrettyName().&amp;#39;-install&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; self::runHook($hookName);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Executes ./yiic -&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @static&lt;/span&gt;
&lt;span class="x"&gt; * @param ComposerScriptEvent $event&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public static function postPackageUpdate(Event $event)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; $installedPackage = $event-&amp;gt;getOperation()-&amp;gt;getTargetPackage();&lt;/span&gt;
&lt;span class="x"&gt; $commandName = $installedPackage-&amp;gt;getPrettyName().&amp;#39;-update&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; self::runHook($commandName);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Asks user to confirm by typing y or n.&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * Credits to Yii CConsoleCommand&lt;/span&gt;
&lt;span class="x"&gt; *&lt;/span&gt;
&lt;span class="x"&gt; * @param string $message to echo out before waiting for user input&lt;/span&gt;
&lt;span class="x"&gt; * @return bool if user confirmed&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public static function confirm($message)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; echo $message . &amp;#39; [yes|no] &amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt; return !strncasecmp(trim(fgets(STDIN)), &amp;#39;y&amp;#39;, 1);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Runs Yii command, if available (defined in config/console.php)&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; private static function runHook($name){&lt;/span&gt;
&lt;span class="x"&gt; $app = self::getYiiApplication();&lt;/span&gt;
&lt;span class="x"&gt; if ($app === null) return;&lt;/span&gt;

&lt;span class="x"&gt;if (isset($app-&amp;gt;params[&amp;#39;composer.callbacks&amp;#39;][$name])) {&lt;/span&gt;
&lt;span class="x"&gt; $args = $app-&amp;gt;params[&amp;#39;composer.callbacks&amp;#39;][$name];&lt;/span&gt;
&lt;span class="x"&gt; $app-&amp;gt;commandRunner-&amp;gt;addCommands(Yii::getPathOfAlias(&amp;#39;system.cli.commands&amp;#39;));&lt;/span&gt;
&lt;span class="x"&gt; $app-&amp;gt;commandRunner-&amp;gt;run($args);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Creates console application, if Yii is available&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; private static function getYiiApplication()&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; if (!is_file(YII_PATH.&amp;#39;/yii.php&amp;#39;))&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; return null;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;require_once(YII_PATH.&amp;#39;/yii.php&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; spl_autoload_register(array(&amp;#39;YiiBase&amp;#39;, &amp;#39;autoload&amp;#39;));&lt;/span&gt;

&lt;span class="x"&gt;if (Yii::app() === null) {&lt;/span&gt;
&lt;span class="x"&gt; if (is_file(CONSOLE_CONFIG)) {&lt;/span&gt;
&lt;span class="x"&gt; $app = Yii::createConsoleApplication(CONSOLE_CONFIG);&lt;/span&gt;
&lt;span class="x"&gt; } else {&lt;/span&gt;
&lt;span class="x"&gt; throw new Exception(&amp;quot;File from CONSOLE_CONFIG not found&amp;quot;);&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; } else {&lt;/span&gt;
&lt;span class="x"&gt; $app = Yii::app();&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;
&lt;span class="x"&gt; return $app;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Now you should be able to run&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;php&lt;span class="w"&gt; &lt;/span&gt;composer.phar&lt;span class="w"&gt; &lt;/span&gt;install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and it should ask do you want to setup your yii project and all of the
required folders, which is pretty awesome. The only other thing you
might want to do is add more dependencies. Say you have a library you
wish to add. Add the entry into composer.json run the update(which
should call any migrations needed automatically), then you need to add
this line to your index.php.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;require_once(dirname(__FILE__).&amp;#39;/protected/vendor/autoload.php&amp;#39;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And should be be good to access composers namespaces libraries. Very
cool!&lt;/p&gt;</content><category term="Tech"></category></entry><entry><title>SugarCRM — Add a code-driven column to a list</title><link href="https://shanedowling.com/sugarcrm-add-a-code-driven-column-to-a-list-4e9f4eb672b1.html" rel="alternate"></link><published>2014-04-05T00:00:00+00:00</published><updated>2014-04-05T00:00:00+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2014-04-05:/sugarcrm-add-a-code-driven-column-to-a-list-4e9f4eb672b1.html</id><summary type="html">&lt;p&gt;Sometimes you might find that you want your users to make decisions based on ListViews and you need to pull in relational data beyond the immediately related objects. Example&lt;/p&gt;
&lt;p&gt;So using the circus example say you have performers who are performing for a specific show. You might want to see …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Sometimes you might find that you want your users to make decisions based on ListViews and you need to pull in relational data beyond the immediately related objects. Example&lt;/p&gt;
&lt;p&gt;So using the circus example say you have performers who are performing for a specific show. You might want to see what other shows those performers are also attached to. If it's typically only one or two shows per event, you can probably make another column in the ListView that displays all shows related to that performer. Lets call this field 'Other Shows'.&lt;/p&gt;
&lt;p&gt;What to do
-—-— —&lt;/p&gt;
&lt;p&gt;Add your new field in studio before you do anything. So fire up Studio
and create an 'Other Shows' field, create this as a text field.&lt;/p&gt;
&lt;p&gt;Alter the newly created fields vardef and set it to non-db.&lt;/p&gt;
&lt;p&gt;You can typically find it in
custom/Extension/modules/Performers/Ext/Vardefs/other_shows_c.php.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;$dictionary[&amp;#39;Performers&amp;#39;][&amp;#39;fields&amp;#39;][&amp;#39;other_shows_c&amp;#39;] = array(&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;name&amp;#39; =&amp;gt; &amp;#39;other_shows_c&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;vname&amp;#39; =&amp;gt; &amp;#39;LBL_OTHER_SHOWS_C&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;type&amp;#39; =&amp;gt; &amp;#39;varchar&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;len&amp;#39; =&amp;gt; &amp;#39;255&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;source&amp;#39; =&amp;gt; &amp;#39;non-db&amp;#39;&lt;/span&gt;
&lt;span class="x"&gt; );&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ensure the field isn't sortable..&lt;/p&gt;
&lt;p&gt;Trying to sort a db/non-db field will cause a bit of trouble and
ListViews don't support it, so just disable it.&lt;/p&gt;
&lt;p&gt;Under custom/modules/Performers/metadata/listviewdefs.php change your
newly created fields definition.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;&amp;#39;OTHER_SHOWS_C&amp;#39; =&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt; array (&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;Other Shows&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;width&amp;#39; =&amp;gt; &amp;#39;10%&amp;#39;,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;default&amp;#39; =&amp;gt; true,&lt;/span&gt;
&lt;span class="x"&gt; &amp;#39;sortable&amp;#39; =&amp;gt; false,&lt;/span&gt;
&lt;span class="x"&gt; ),&lt;/span&gt;
&lt;span class="x"&gt; ```&lt;/span&gt;

&lt;span class="x"&gt;Adding the actual code to run.&lt;/span&gt;

&lt;span class="x"&gt;For this we&amp;#39;re going to leverage SugarCRM&amp;#39;s logic hooks. If you haven&amp;#39;t&lt;/span&gt;
&lt;span class="x"&gt;already create a logic_hooks.php under custom/modules/Performers/ with&lt;/span&gt;
&lt;span class="x"&gt;contents like this.&lt;/span&gt;

&lt;span class="x"&gt;This file essentially defines the hooks you&amp;#39;re going to call. The hook&lt;/span&gt;
&lt;span class="x"&gt;process_record means it&amp;#39;ll be called for every row that&amp;#39;s displayed on&lt;/span&gt;
&lt;span class="x"&gt;the ListView.&lt;/span&gt;

&lt;span class="x"&gt;The performers_logic_hooks_class.php file will be included,&lt;/span&gt;
&lt;span class="x"&gt;performers_logic_hooks is the class that it will look for and&lt;/span&gt;
&lt;span class="x"&gt;list_record_process is the function within that class that it will&lt;/span&gt;
&lt;span class="x"&gt;call.&lt;/span&gt;
&lt;span class="x"&gt;```php&lt;/span&gt;
&lt;span class="x"&gt;// Do not store anything in this file that is not part of the array or the hook version. This file will&lt;/span&gt;
&lt;span class="x"&gt; // be automatically rebuilt in the future.&lt;/span&gt;
&lt;span class="x"&gt; $hook_version = 1;&lt;/span&gt;
&lt;span class="x"&gt; $hook_array = Array();&lt;/span&gt;
&lt;span class="x"&gt; // position, file, function&lt;/span&gt;
&lt;span class="x"&gt; $hook_array[&amp;#39;before_save&amp;#39;] = Array();&lt;/span&gt;
&lt;span class="x"&gt; $hook_array[&amp;#39;before_save&amp;#39;][] = Array(1, &amp;#39;workflow&amp;#39;, &amp;#39;include/workflow/WorkFlowHandler.php&amp;#39;,&amp;#39;WorkFlowHandler&amp;#39;, &amp;#39;WorkFlowHandler&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt; $hook_array[&amp;#39;process_record&amp;#39;][] = Array(1, &amp;#39;Other_Shows&amp;#39;, &amp;#39;custom/modules/Performers/performers_logic_hooks.php&amp;#39;,&amp;#39;performers_logic_hooks&amp;#39;, &amp;#39;list_record_process&amp;#39;);&lt;/span&gt;

&lt;span class="x"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Define the class.&lt;/p&gt;
&lt;p&gt;Don't name the class something generic, like logic_hook_class and use
that class name everywhere. It'll cause a bunch of conflicts when it
comes to saving related data, hence the name performers_logic_hooks.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;class performers_logic_hooks&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;

&lt;span class="x"&gt;/**&lt;/span&gt;
&lt;span class="x"&gt; * Called as process_record logic hook on the Performers module&lt;/span&gt;
&lt;span class="x"&gt; */&lt;/span&gt;
&lt;span class="x"&gt; public function list_record_process($bean, $event, $arguments)&lt;/span&gt;
&lt;span class="x"&gt; {&lt;/span&gt;
&lt;span class="x"&gt; //Do some code to get the related shows for the performer and store in the $other_shows variable&lt;/span&gt;

&lt;span class="x"&gt;$this-&amp;gt;other_shows_c = $other_shows;&lt;/span&gt;
&lt;span class="x"&gt; }&lt;/span&gt;

&lt;span class="x"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Add the field to your listview via studio and do a quick repair/rebuild.
That should hopefully be it.&lt;/p&gt;</content><category term="Tech"></category></entry></feed>