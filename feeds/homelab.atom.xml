<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Shane Dowling - homelab</title><link href="https://shanedowling.com/" rel="alternate"></link><link href="https://shanedowling.com/feeds/homelab.atom.xml" rel="self"></link><id>https://shanedowling.com/</id><updated>2025-02-11T13:57:09+00:00</updated><subtitle>Platform Engineering Manager</subtitle><entry><title>Homelab - Day 1 - Really Ghetto Data Storage</title><link href="https://shanedowling.com/homelab---day-1---data-storage.html" rel="alternate"></link><published>2025-02-11T13:57:09+00:00</published><updated>2025-02-11T13:57:09+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2025-02-11:/homelab---day-1---data-storage.html</id><summary type="html">&lt;h2&gt;Setting Up Storage for the Kubernetes Cluster&lt;/h2&gt;
&lt;p&gt;The first step in setting up my homelab Kubernetes cluster is ensuring some reliable data storage. Right now, I have two main categories of data in mind:&lt;/p&gt;
&lt;h3&gt;1. Operationally Critical Data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Needs RAID with redundancy&lt;/li&gt;
&lt;li&gt;Requires both on-site and off-site backups&lt;/li&gt;
&lt;li&gt;Approximately &lt;strong&gt;1TB …&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h2&gt;Setting Up Storage for the Kubernetes Cluster&lt;/h2&gt;
&lt;p&gt;The first step in setting up my homelab Kubernetes cluster is ensuring some reliable data storage. Right now, I have two main categories of data in mind:&lt;/p&gt;
&lt;h3&gt;1. Operationally Critical Data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Needs RAID with redundancy&lt;/li&gt;
&lt;li&gt;Requires both on-site and off-site backups&lt;/li&gt;
&lt;li&gt;Approximately &lt;strong&gt;1TB&lt;/strong&gt; of data&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2. Media Data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Non-critical, so no backups required&lt;/li&gt;
&lt;li&gt;Several terabytes of storage needed&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since the Kubernetes cluster depends on Operationally Critical Data, I need to establish a RAID-backed storage solution with proper backups before moving forward.&lt;/p&gt;
&lt;h2&gt;What I’ve Done So Far&lt;/h2&gt;
&lt;p&gt;In the spirit of keeping things cheap and hacky, I'm repurposing an old ThinkPad X230 as my server, paired with a few USB drives for RAID storage. Here’s what I’ve done:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Installed OpenMediaVault on the ThinkPad&lt;/li&gt;
&lt;li&gt;Wiped and configured two 500GB hard drives and one 1TB hard drive&lt;/li&gt;
&lt;li&gt;Set up RAID 5, providing 1TB of usable storage&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Key Learnings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;USB RAID is a really dodgy solution for data storage&lt;/strong&gt; – The OpenMediaVault UI didn’t even allow it, though setting it up via CLI was easy. This reinforces my concern that &lt;strong&gt;USB RAID isn’t a viable long-term solution&lt;/strong&gt;. So I guess I've learned I need to buy a NAS asap.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RAID setup was easier than expected&lt;/strong&gt; – I’ve avoided running RAID for years, but getting it working was surprisingly straightforward.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Networking will need an upgrade&lt;/strong&gt; – My BT Hub router and a small 5-in-1 switch aren’t going to cut it. A proper network switch may need to be another purchase.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is just the beginning, but storage is a critical first step. On to the next challenge!&lt;/p&gt;</content><category term="homelab"></category></entry><entry><title>Homelab Setup: The Journey to Kubernetes</title><link href="https://shanedowling.com/homelab-setup-the-journey-to-kubernetes.html" rel="alternate"></link><published>2025-02-10T20:50:46+00:00</published><updated>2025-02-10T20:50:46+00:00</updated><author><name>Shane Dowling</name></author><id>tag:shanedowling.com,2025-02-10:/homelab-setup-the-journey-to-kubernetes.html</id><summary type="html">&lt;h2&gt;Why I'm Migrating My Self-Hosted Services&lt;/h2&gt;
&lt;p&gt;I've decided to migrate all my existing self-hosted services—and add a few new ones—to a Kubernetes (K8s) cluster that I'm going to build. There are several motivations behind this decision:&lt;/p&gt;
&lt;h3&gt;Learning Kubernetes Beyond Ephemeral Clusters&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;My role as an Engineering Manager at …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h2&gt;Why I'm Migrating My Self-Hosted Services&lt;/h2&gt;
&lt;p&gt;I've decided to migrate all my existing self-hosted services—and add a few new ones—to a Kubernetes (K8s) cluster that I'm going to build. There are several motivations behind this decision:&lt;/p&gt;
&lt;h3&gt;Learning Kubernetes Beyond Ephemeral Clusters&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;My role as an Engineering Manager at Syntasso involves a lot of K8s development using Kind, but these environments are entirely ephemeral. I want to experience the long-term challenges of operating a cluster to build greater empathy for our customers.&lt;/li&gt;
&lt;li&gt;I want to deepen my understanding of Kubernetes, particularly in areas like:&lt;ul&gt;
&lt;li&gt;Hardening a K8s cluster&lt;/li&gt;
&lt;li&gt;Managing multiple clusters effectively&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Increased Focus on Self-Hosting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The British government's baffling approach to tech privacy has pushed me toward self-hosting more of my personal services.&lt;/li&gt;
&lt;li&gt;My current setup is a mix of manually configured systems and Docker Compose-based services running on different machines. It’s time to bring structure to the chaos.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The Plan&lt;/h2&gt;
&lt;h3&gt;Time Constraints and Approach&lt;/h3&gt;
&lt;p&gt;I'm a dad with two small kids, so my time for this project is limited. My approach will be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Chipping away at it&lt;/strong&gt; for a few minutes each night.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Updating my progress&lt;/strong&gt; as I go along.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Keeping it cheap&lt;/strong&gt;—I'll work with my existing hardware for now. If this experiment proves successful, I may invest in better hardware later.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Minimising downtime&lt;/strong&gt;—I already have services running that I need to migrate carefully without disruptions.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Migration Phases&lt;/h3&gt;
&lt;p&gt;The migration will be broken down into multiple phases to ensure a smooth transition. My current focus is on:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Setting up RAID storage&lt;/strong&gt; for critical data (Nextcloud, Git-Tea, Pixelfed, databases) on an old laptop.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Keeping USB media drives on a thin client&lt;/strong&gt; until I migrate services to Kubernetes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Moving USB media drives to a MergerFS pool&lt;/strong&gt; for media storage before the final migration.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Building a Kubernetes cluster (Talos OS)&lt;/strong&gt; once storage is stable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Migrating services from Docker Compose&lt;/strong&gt; to Kubernetes with proper storage integration.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Rough Architecture&lt;/h2&gt;
&lt;p&gt;At the moment, everything will sit under the same LAN at home. However, as I progress, I may invest in a switch and introduce proper network segmentation.&lt;/p&gt;
&lt;p&gt;This is just the beginning. I'll document my learnings, mistakes, and adjustments along the way. Stay tuned!&lt;/p&gt;</content><category term="homelab"></category></entry></feed>