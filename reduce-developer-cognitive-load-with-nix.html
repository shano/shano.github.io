
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">




  <link href="https://shanedowling.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Shane Dowling Atom">

  <link href="https://shanedowling.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Shane Dowling RSS">

<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-Z9P3V6D0SV', 'auto');
  ga('send', 'pageview');
</script>






 

<meta name="author" content="Shane Dowling" />
<meta name="description" content="Nixpkg is a package manager that uses a purely functional approach to package management, isolating packages and ensuring that there are no conflicts between them. It provides a powerful language for defining packages, which makes it easy to manage dependencies and ensure that software environments are reproducible and reliable. Additionally …" />
<meta name="keywords" content="">


  <meta property="og:site_name" content="Shane Dowling"/>
  <meta property="og:title" content="Reduce developer cognitive load with nix"/>
  <meta property="og:description" content="Nixpkg is a package manager that uses a purely functional approach to package management, isolating packages and ensuring that there are no conflicts between them. It provides a powerful language for defining packages, which makes it easy to manage dependencies and ensure that software environments are reproducible and reliable. Additionally …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./reduce-developer-cognitive-load-with-nix.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-03-11 13:32:59.350000+00:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="./author/shane-dowling.html">
  <meta property="article:section" content="Platform Engineering"/>
  <meta property="og:image" content="/images/logo.png">

  <title>Shane Dowling &ndash; Reduce developer cognitive load with nix</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="/images/logo.png" alt="Shane Dowling" title="Shane Dowling">
    </a>

    <h1>
      <a href="./">Shane Dowling</a>
    </h1>

    <p>Platform Engineering Manager</p>


    <nav>
      <ul class="list">


            <li>
              <a target="_self"
                 href="./pages/contact.html#contact">
                Contact
              </a>
            </li>

          <li>
            <a target="_self" href="https://pemonthly.com/" >newsletter</a>
          </li>
          <li>
            <a target="_self" href="https://sed.status.lol/" >statuslog</a>
          </li>
          <li>
            <a target="_self" href="https://now.sedd.dev/" >Now Page</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/shano"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-mastodon"
rel="me"           href="http://social.lol/@sed"
           target="_blank">
          <i class="fa-brands fa-mastodon"></i>
        </a>
      </li>
      <li>
        <a class="sc-linkedin"
           href="https://www.linkedin.com/in/shanedow/"
           target="_blank">
          <i class="fa-brands fa-linkedin"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="reduce-developer-cognitive-load-with-nix">Reduce developer cognitive load with nix</h1>
    <p>
      Posted on Sat 11 March 2023 in <a href="./category/platform-engineering.html">Platform Engineering</a>

    </p>
  </header>


  <div>
    <p><img alt="" src="images/1*pKKqrJIhwCjSWjfz2BIQPw@2x.jpeg"></p>
<p>Nixpkg is a package manager that uses a purely functional approach to package management, isolating packages and ensuring that there are no conflicts between them. It provides a powerful language for defining packages, which makes it easy to manage dependencies and ensure that software environments are reproducible and reliable. Additionally, Nixpkg makes it easy to manage multiple software environments and share projects with other developers.</p>
<p>In addition to Nixpkg, there are two other tools that can be used in conjunction with Nix to improve developer productivity: Homemanager and Direnv.</p>
<p>Homemanager is a tool for managing your home directory configuration files. With Homemanager, you can easily store your dotfiles in a Git repository, and use Nix to manage the installation and configuration of your dotfiles on different systems. This ensures that your configuration files are consistent across all your systems, and that you can easily set up a new system with all your preferred configuration settings.</p>
<p>Here’s an example of how to use Homemanager to manage your Vim configuration:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># In your home directory, create a directory for your Homemanager configuration</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/.config/homemanager

<span class="c1"># Create a Git repository for your Homemanager configuration</span>
<span class="nb">cd</span><span class="w"> </span>~/.config/homemanager
git<span class="w"> </span>init

<span class="c1"># Add a configuration file for Vim</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>vim.nix<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">{ config, pkgs, ... }:</span>

<span class="s">{</span>
<span class="s">  environment.variables.VIMINIT = &quot;~/.vim/vimrc&quot;;</span>

<span class="s">  home.file.&quot;.vimrc&quot;.text = &#39;&#39;</span>
<span class="s">    set nocompatible</span>
<span class="s">    set backspace=indent,eol,start</span>
<span class="s">    set number</span>
<span class="s">    set hlsearch</span>
<span class="s">    set incsearch</span>
<span class="s">    set ignorecase</span>
<span class="s">    set smartcase</span>
<span class="s">    set showcmd</span>
<span class="s">    set showmatch</span>
<span class="s">    set laststatus=2</span>
<span class="s">    set statusline=%&lt;%F\ %h%m%r%=%-14.(%l,%c%V%)\ %P</span>
<span class="s">  &#39;&#39;;</span>
<span class="s">}</span>
<span class="s">EOF</span>

<span class="c1"># Install your Vim configuration using Homemanager</span>
nix-channel<span class="w"> </span>--add<span class="w"> </span>https://nixos.org/channels/nixpkgs-unstable
nix-channel<span class="w"> </span>--update
nix-env<span class="w"> </span>-iA<span class="w"> </span>nixpkgs.homemanager
homemanager<span class="w"> </span>switch
</code></pre></div>

<p>In this example, we’re using Homemanager to manage our Vim configuration. We’re creating a Git repository in our home directory, and adding a configuration file for Vim in Nix format. We’re then using Homemanager to install our Vim configuration on the current system, using the homemanager switch command.</p>
<p>Another tool that can be used with Nix to improve developer productivity is Direnv. Direnv is a shell extension that can be used to load and unload environment variables based on your current directory. With Direnv, you can easily manage your software environments on a per-project basis, ensuring that each project has the required dependencies and configuration settings.</p>
<p>Here’s an example of how to use Direnv with Nixpkg to manage your software environment:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Install Direnv</span>
nix-env<span class="w"> </span>-iA<span class="w"> </span>nixpkgs.direnv

<span class="c1"># Add the following to your shell profile</span>
<span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>direnv<span class="w"> </span>hook<span class="w"> </span>bash<span class="k">)</span><span class="s2">&quot;</span>

<span class="c1"># Create a .envrc file in your project directory</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>.envrc<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">use nix</span>
<span class="s">EOF</span>

<span class="c1"># Allow the .envrc file</span>
direnv<span class="w"> </span>allow<span class="w"> </span>.

<span class="c1"># Now you can use Nixpkg commands inside your project directory, and they will use the software environment defined in the .envrc file</span>
nix-env<span class="w"> </span>-iA<span class="w"> </span>nixpkgs.python
</code></pre></div>

<p>In this example, we’re using Direnv to manage our software environment on a per-project basis. We’re creating a .envrc file in our project directory, and telling Direnv to load the nix shell hook. This will automatically load the software environment defined in the .envrc file when we enter the project directory.</p>
<p>Nixpkg, Homemanager, and Direnv are three powerful tools that can be used together to improve developer productivity. They simplify package management, manage configuration files, and manage software environments on a per-project basis. By using these tools together, developers can streamline their workflow, reduce time spent managing dependencies and configuration files, and focus on writing high-quality software.</p>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>






</article>

<footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Shane Dowling ",
  "url" : ".",
  "image": "/images/logo.png",
  "description": ""
}
</script>
</body>
</html>