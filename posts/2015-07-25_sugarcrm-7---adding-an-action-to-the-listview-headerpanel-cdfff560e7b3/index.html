<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SugarCRM 7 — Adding an action to the listview headerpanel | Shane Dowling</title><meta name=keywords content><meta name=description content="
This tutorial should show you how to add a custom button/action that
will appear across all modules. It&rsquo;s a little similar to this tutorial
with a few changes to how the button gets rendered and the actions get
called.
1. Adding the button to the headerpanel
Firstly you&rsquo;ll need to create a new folder to store the headerpane
actions, so create this folder in the sugarcrm root
directory custom/clients/base/views/list-headerpane/. Then create the
file list-headerpane.php with this content. This will add a button next
to the Create button for all modules."><meta name=author content="Shane Dowling"><link rel=canonical href=https://shanedowling.com/posts/2015-07-25_sugarcrm-7---adding-an-action-to-the-listview-headerpanel-cdfff560e7b3/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://shanedowling.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shanedowling.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shanedowling.com/favicon-32x32.png><link rel=apple-touch-icon href=https://shanedowling.com/apple-touch-icon.png><link rel=mask-icon href=https://shanedowling.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://shanedowling.com/posts/2015-07-25_sugarcrm-7---adding-an-action-to-the-listview-headerpanel-cdfff560e7b3/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://shanedowling.com/posts/2015-07-25_sugarcrm-7---adding-an-action-to-the-listview-headerpanel-cdfff560e7b3/"><meta property="og:site_name" content="Shane Dowling"><meta property="og:title" content="SugarCRM 7 — Adding an action to the listview headerpanel"><meta property="og:description" content="
This tutorial should show you how to add a custom button/action that will appear across all modules. It’s a little similar to this tutorial with a few changes to how the button gets rendered and the actions get called.
1. Adding the button to the headerpanel Firstly you’ll need to create a new folder to store the headerpane actions, so create this folder in the sugarcrm root directory custom/clients/base/views/list-headerpane/. Then create the file list-headerpane.php with this content. This will add a button next to the Create button for all modules."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-07-25T00:00:00+00:00"><meta property="article:modified_time" content="2015-07-25T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SugarCRM 7 — Adding an action to the listview headerpanel"><meta name=twitter:description content="
This tutorial should show you how to add a custom button/action that
will appear across all modules. It&rsquo;s a little similar to this tutorial
with a few changes to how the button gets rendered and the actions get
called.
1. Adding the button to the headerpanel
Firstly you&rsquo;ll need to create a new folder to store the headerpane
actions, so create this folder in the sugarcrm root
directory custom/clients/base/views/list-headerpane/. Then create the
file list-headerpane.php with this content. This will add a button next
to the Create button for all modules."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://shanedowling.com/posts/"},{"@type":"ListItem","position":2,"name":"SugarCRM 7 — Adding an action to the listview headerpanel","item":"https://shanedowling.com/posts/2015-07-25_sugarcrm-7---adding-an-action-to-the-listview-headerpanel-cdfff560e7b3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SugarCRM 7 — Adding an action to the listview headerpanel","name":"SugarCRM 7 — Adding an action to the listview headerpanel","description":"\nThis tutorial should show you how to add a custom button/action that will appear across all modules. It\u0026rsquo;s a little similar to this tutorial with a few changes to how the button gets rendered and the actions get called.\n1. Adding the button to the headerpanel Firstly you\u0026rsquo;ll need to create a new folder to store the headerpane actions, so create this folder in the sugarcrm root directory custom/clients/base/views/list-headerpane/. Then create the file list-headerpane.php with this content. This will add a button next to the Create button for all modules.\n","keywords":[],"articleBody":"\nThis tutorial should show you how to add a custom button/action that will appear across all modules. It’s a little similar to this tutorial with a few changes to how the button gets rendered and the actions get called.\n1. Adding the button to the headerpanel Firstly you’ll need to create a new folder to store the headerpane actions, so create this folder in the sugarcrm root directory custom/clients/base/views/list-headerpane/. Then create the file list-headerpane.php with this content. This will add a button next to the Create button for all modules.\n\u003c?php if(!defined('sugarEntry') || !sugarEntry) die('Not A Valid Entry Point'); /* * Your installation or use of this SugarCRM file is subject to the applicable * terms available at * [http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/](http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/). * If you do not agree to all of the applicable terms or do not have the * authority to bind the entity as an authorized representative, then do not * install or use this SugarCRM file. * * Copyright (C) SugarCRM Inc. All rights reserved. */ $viewdefs['base']['view']['list-headerpane'] = array( 'template' =\u003e 'headerpane', 'title' =\u003e 'LBL_MODULE_NAME', 'buttons' =\u003e array( array( 'name' =\u003e 'new_button', 'type' =\u003e 'button', 'label' =\u003e 'LBL_NEW_BUTTON_LABEL', 'css_class' =\u003e 'btn-secondary', 'acl_action' =\u003e 'list', 'events' =\u003e array( 'click' =\u003e 'list:new_button:fire' ), ), array( 'name' =\u003e 'create_button', 'type' =\u003e 'button', 'label' =\u003e 'LBL_CREATE_BUTTON_LABEL', 'css_class' =\u003e 'btn-primary', 'acl_action' =\u003e 'create', 'route' =\u003e array( 'action'=\u003e'create' ) ), array( 'name' =\u003e 'sidebar_toggle', 'type' =\u003e 'sidebartoggle', ), ), ); 2. Adding the action hook To fire this action you’ll need to add some code custom/clients/base/views/recordlist/recordlist.js, in the\nthis.context.on('list:new_button:fire', this.applyFxn, this); Now populate applyFxn with whatever code you want to run and it will work across every module.\n3. Quick Repair and Rebuilt(as always) Any questions feel free to ask!\nExtra tip. Only want to do this for a single module. Instead of placing the code in custom/clients place it in custom/modules//clients and it should work for just that one module.\n","wordCount":"316","inLanguage":"en","datePublished":"2015-07-25T00:00:00Z","dateModified":"2015-07-25T00:00:00Z","author":{"@type":"Person","name":"Shane Dowling"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://shanedowling.com/posts/2015-07-25_sugarcrm-7---adding-an-action-to-the-listview-headerpanel-cdfff560e7b3/"},"publisher":{"@type":"Organization","name":"Shane Dowling","logo":{"@type":"ImageObject","url":"https://shanedowling.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shanedowling.com/ accesskey=h title="Shane Dowling (Alt + H)">Shane Dowling</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shanedowling.com/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://shanedowling.com/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">SugarCRM 7 — Adding an action to the listview headerpanel</h1><div class=post-meta><span title='2015-07-25 00:00:00 +0000 UTC'>July 25, 2015</span>&nbsp;·&nbsp;Shane Dowling</div></header><div class=post-content><p><img loading=lazy src=/1__WJpUe2DNz1qsC4zMTJB0eA.jpeg></p><p>This tutorial should show you how to add a custom button/action that
will appear across all modules. It&rsquo;s a little similar to <a href=http://shanedowling.com/sugarcrm-7-adding-an-action-to-the-listview/>this tutorial</a>
with a few changes to how the button gets rendered and the actions get
called.</p><h3 id=1-adding-the-button-to-the-headerpanel>1. Adding the button to the headerpanel<a hidden class=anchor aria-hidden=true href=#1-adding-the-button-to-the-headerpanel>#</a></h3><p>Firstly you&rsquo;ll need to create a new folder to store the headerpane
actions, so create this folder in the sugarcrm root
directory custom/clients/base/views/list-headerpane/. Then create the
file list-headerpane.php with this content. This will add a button next
to the Create button for all modules.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>defined</span>(<span style=color:#e6db74>&#39;sugarEntry&#39;</span>) <span style=color:#f92672>||</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>sugarEntry</span>) <span style=color:#66d9ef>die</span>(<span style=color:#e6db74>&#39;Not A Valid Entry Point&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Your installation or use of this SugarCRM file is subject to the applicable
</span></span></span><span style=display:flex><span><span style=color:#75715e> * terms available at
</span></span></span><span style=display:flex><span><span style=color:#75715e> * [http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/](http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/).
</span></span></span><span style=display:flex><span><span style=color:#75715e> * If you do not agree to all of the applicable terms or do not have the
</span></span></span><span style=display:flex><span><span style=color:#75715e> * authority to bind the entity as an authorized representative, then do not
</span></span></span><span style=display:flex><span><span style=color:#75715e> * install or use this SugarCRM file.
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Copyright (C) SugarCRM Inc. All rights reserved.
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$viewdefs[<span style=color:#e6db74>&#39;base&#39;</span>][<span style=color:#e6db74>&#39;view&#39;</span>][<span style=color:#e6db74>&#39;list-headerpane&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;template&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;headerpane&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;title&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;LBL_MODULE_NAME&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;buttons&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;name&#39;</span>    <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;new_button&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;type&#39;</span>    <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;button&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;label&#39;</span>   <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;LBL_NEW_BUTTON_LABEL&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;css_class&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;btn-secondary&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;acl_action&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;list&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;events&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;click&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;list:new_button:fire&#39;</span>
</span></span><span style=display:flex><span>            ),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;name&#39;</span>    <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;create_button&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;type&#39;</span>    <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;button&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;label&#39;</span>   <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;LBL_CREATE_BUTTON_LABEL&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;css_class&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;btn-primary&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;acl_action&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;create&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;route&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;action&#39;</span><span style=color:#f92672>=&gt;</span><span style=color:#e6db74>&#39;create&#39;</span>
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;name&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;sidebar_toggle&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;type&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;sidebartoggle&#39;</span>,
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>    ),
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><h3 id=2-adding-the-action-hook>2. Adding the action hook<a hidden class=anchor aria-hidden=true href=#2-adding-the-action-hook>#</a></h3><p>To fire this action you&rsquo;ll need to add some
code custom/clients/base/views/recordlist/recordlist.js, in the</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#39;list:new_button:fire&#39;</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>applyFxn</span>, <span style=color:#66d9ef>this</span>);
</span></span></code></pre></div><p>Now populate applyFxn with whatever code you want to run and it will
work across every module.</p><h3 id=3-quick-repair-and-rebuiltas-always>3. Quick Repair and Rebuilt(as always)<a hidden class=anchor aria-hidden=true href=#3-quick-repair-and-rebuiltas-always>#</a></h3><p>Any questions feel free to ask!</p><h3 id=extra-tip>Extra tip.<a hidden class=anchor aria-hidden=true href=#extra-tip>#</a></h3><p>Only want to do this for a single module. Instead of placing the code in
custom/clients place it in custom/modules/<module>/clients and it
should work for just that one module.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://shanedowling.com/>Shane Dowling</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>