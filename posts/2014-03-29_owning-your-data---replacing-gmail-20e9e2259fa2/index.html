<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Owning Your Data — Replacing Gmail | Shane Dowling</title><meta name=keywords content><meta name=description content="
Gmail isn&rsquo;t secure or private, Google have admitted this. You simply cannot expect privacy from any service that you don&rsquo;t have
control of. Thankfully your email doesn&rsquo;t have to be tied a mail service
like Gmail, Yahoo or Microsoft. You can simply roll your own email
server with your own domain name and easily create an (admittedly
minimalist) Gmail equivalent.
Before you start
If you think this guide is too complex, that&rsquo;s totally understandable.
Running your own mail server requires a reasonable amount of technical
experience. If you&rsquo;re interesting in getting away from a service like
Gmail and want a good alternative check-out https://mykolab.com/. It
costs around 10 bucks a month for 2GB of storage, which isn&rsquo;t too bad.
If you think this isn&rsquo;t enough space, you could either pay for more or
have a mail client like thunderbird offline all non-essential email to
your desktop."><meta name=author content="Shane Dowling"><link rel=canonical href=https://shanedowling.com/posts/2014-03-29_owning-your-data---replacing-gmail-20e9e2259fa2/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://shanedowling.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shanedowling.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shanedowling.com/favicon-32x32.png><link rel=apple-touch-icon href=https://shanedowling.com/apple-touch-icon.png><link rel=mask-icon href=https://shanedowling.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://shanedowling.com/posts/2014-03-29_owning-your-data---replacing-gmail-20e9e2259fa2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://shanedowling.com/posts/2014-03-29_owning-your-data---replacing-gmail-20e9e2259fa2/"><meta property="og:site_name" content="Shane Dowling"><meta property="og:title" content="Owning Your Data — Replacing Gmail"><meta property="og:description" content="
Gmail isn’t secure or private, Google have admitted this. You simply cannot expect privacy from any service that you don’t have control of. Thankfully your email doesn’t have to be tied a mail service like Gmail, Yahoo or Microsoft. You can simply roll your own email server with your own domain name and easily create an (admittedly minimalist) Gmail equivalent.
Before you start If you think this guide is too complex, that’s totally understandable. Running your own mail server requires a reasonable amount of technical experience. If you’re interesting in getting away from a service like Gmail and want a good alternative check-out https://mykolab.com/. It costs around 10 bucks a month for 2GB of storage, which isn’t too bad. If you think this isn’t enough space, you could either pay for more or have a mail client like thunderbird offline all non-essential email to your desktop."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-03-29T00:00:00+00:00"><meta property="article:modified_time" content="2014-03-29T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Owning Your Data — Replacing Gmail"><meta name=twitter:description content="
Gmail isn&rsquo;t secure or private, Google have admitted this. You simply cannot expect privacy from any service that you don&rsquo;t have
control of. Thankfully your email doesn&rsquo;t have to be tied a mail service
like Gmail, Yahoo or Microsoft. You can simply roll your own email
server with your own domain name and easily create an (admittedly
minimalist) Gmail equivalent.
Before you start
If you think this guide is too complex, that&rsquo;s totally understandable.
Running your own mail server requires a reasonable amount of technical
experience. If you&rsquo;re interesting in getting away from a service like
Gmail and want a good alternative check-out https://mykolab.com/. It
costs around 10 bucks a month for 2GB of storage, which isn&rsquo;t too bad.
If you think this isn&rsquo;t enough space, you could either pay for more or
have a mail client like thunderbird offline all non-essential email to
your desktop."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://shanedowling.com/posts/"},{"@type":"ListItem","position":2,"name":"Owning Your Data — Replacing Gmail","item":"https://shanedowling.com/posts/2014-03-29_owning-your-data---replacing-gmail-20e9e2259fa2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Owning Your Data — Replacing Gmail","name":"Owning Your Data — Replacing Gmail","description":"\nGmail isn\u0026rsquo;t secure or private, Google have admitted this. You simply cannot expect privacy from any service that you don\u0026rsquo;t have control of. Thankfully your email doesn\u0026rsquo;t have to be tied a mail service like Gmail, Yahoo or Microsoft. You can simply roll your own email server with your own domain name and easily create an (admittedly minimalist) Gmail equivalent.\nBefore you start If you think this guide is too complex, that\u0026rsquo;s totally understandable. Running your own mail server requires a reasonable amount of technical experience. If you\u0026rsquo;re interesting in getting away from a service like Gmail and want a good alternative check-out https://mykolab.com/. It costs around 10 bucks a month for 2GB of storage, which isn\u0026rsquo;t too bad. If you think this isn\u0026rsquo;t enough space, you could either pay for more or have a mail client like thunderbird offline all non-essential email to your desktop.\n","keywords":[],"articleBody":"\nGmail isn’t secure or private, Google have admitted this. You simply cannot expect privacy from any service that you don’t have control of. Thankfully your email doesn’t have to be tied a mail service like Gmail, Yahoo or Microsoft. You can simply roll your own email server with your own domain name and easily create an (admittedly minimalist) Gmail equivalent.\nBefore you start If you think this guide is too complex, that’s totally understandable. Running your own mail server requires a reasonable amount of technical experience. If you’re interesting in getting away from a service like Gmail and want a good alternative check-out https://mykolab.com/. It costs around 10 bucks a month for 2GB of storage, which isn’t too bad. If you think this isn’t enough space, you could either pay for more or have a mail client like thunderbird offline all non-essential email to your desktop.\nWhat you’re not getting This is very minimal email setup. You won’t be getting a web-accessible email client. If you want your email accessible everywhere, this simply isn’t a guide for you. If you do want web-accesible email setup you could use something like `iRedmail `__\\ to do all of your configuration for you. I find that because iRedmail configures everything automatically, I’m less in control of how my server works. Plus the extra requirements iRedmail needs reduce the security of my server, which I’m not too happy about. This guide is to get the bare minimum for email to work. Also, to decrease the amount of time my emails sit on my server, I store all of emails on my local machine and back that machine up locally. This is simply to minimise data leakage should my server become compromised. So you will need to point a mail client(thunderbird, k9 for Android etc) to download your email locally for search indexing. Sadly, there are a few usability prices to pay to stay out of another companies pocket.\nRequirements Ensure you have a server setup with salt. See here. A domain name you wish to send email from. So instead of you@gmail.com it’s you@mynewdomain.com. I use namecheap. They accept bitcoin and will allow you to buy whoisguard for your domain name. So fake all the details on here and make sure you buy whoisguard just to keep things quiet. Once you have bought your domain name, you will need to point your domain mail records to your new server. Namecheap has a guide here. Generally, I create an A record on my domain mx.mynewdomain.com to the ip of my server. I then setup multiple mx records that point to mx.mynewdomain.com. I also use backup DNS suppliers for my low priority mx records (say priority 40/50), take a look at https://freedns.afraid.org/ to get yourself some free domain names. Install git apt-get install git Setup a user on the server who you wish to send/recieve email as. So adduser jim and enter the password you wish to authenticate with on your mail client. Setting up the server The first thing you’re going to need to do is, using salt, grab my salty-mailer setup. This leverages salt stack and will install everything you need to get your mail server up and running. You don’t need to worry too much about what git does, it simply downloads the files required from github. Copy and paste this line into the terminal and it should get things started.\nsudo mkdir /srv/salt/mail \u0026\u0026 sudo git clone https://github.com/shano/salty-mailer /srv/salt/mail\nNow you’ll need to configure a few files, with your own settings.\nIn /srv/salt/mail/init.sls change all entries from to the username you wish to send email as. So for example change it from to jim.\nIn /srv/salt/mail/postfix/main.cf you need to change \u003cdomain.com\u003e to mynewdomain.com .\nUnder /srv/salt/top.sls ensure you have lines that look like this:\nbase: '*': — mail Done? Great you’ve finished configuration and you’re ready to install everything. This command tells salt to read these configuration files and install enough to get basic mail server up and running.\nsudo salt-call -l debug state.highstate This should provide a ton of output, but as long as there’s no errors, you’re good to go.\nTesting your mail-server You should now be able to configure your email-client to talk to your email server. So fire up your preferred mail client and use these settings to connect. Inbound:\nServer Type:IMAP Username:jim Password:\nOutbound:\nServer Type:SMTP Password:\nNow try connect your email client to your server and see what happens. If you have trouble connecting try run sudo tail -f /var/log/mail.log and reconnect. See if anything appears in the output. If there is something wrong, checkout google(duh) or tryout The Comms Room on ServerFault and see if someone can point you in the right direction. Or of course add something in the comments here.\nMake your emails more reliable Now that you have your mail server up and running, you’re going to need to ensure the major email suppliers are willing to accept your email. People suggest adding SPFs and DKIMs to your email records but personally I haven’t found either much use. The best thing for you to do is to add yourself to a legitimate whitelist. Fill in this form, the guys there will come back if the find any issues with your server that would prevent them adding you to their whitelist, once accepted Presto! You look like a legimate email user on the interwebs!\nWhat’s next? Now that you’ve done all that work, here’s the kicker. Email isn’t secure. It was never meant to be the center of our digital lives, so back when it was invented security really wasn’t a big concern. But here we are. With everything in plain-text all over the place you’d be wise to reduce your email as much as possible. If you wish to improve the security of any email communications you do make, take a look at using GPG. I use Enigmail with Thunderbird.\n","wordCount":"988","inLanguage":"en","datePublished":"2014-03-29T00:00:00Z","dateModified":"2014-03-29T00:00:00Z","author":{"@type":"Person","name":"Shane Dowling"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://shanedowling.com/posts/2014-03-29_owning-your-data---replacing-gmail-20e9e2259fa2/"},"publisher":{"@type":"Organization","name":"Shane Dowling","logo":{"@type":"ImageObject","url":"https://shanedowling.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shanedowling.com/ accesskey=h title="Shane Dowling (Alt + H)">Shane Dowling</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shanedowling.com/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://shanedowling.com/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Owning Your Data — Replacing Gmail</h1><div class=post-meta><span title='2014-03-29 00:00:00 +0000 UTC'>March 29, 2014</span>&nbsp;·&nbsp;Shane Dowling</div></header><div class=post-content><p><img loading=lazy src=/1__jrj__wnQecgnTwBXPZsg05w.jpeg></p><p>Gmail isn&rsquo;t secure or private, Google have admitted this. You simply cannot expect privacy from any service that you don&rsquo;t have
control of. Thankfully your email doesn&rsquo;t have to be tied a mail service
like Gmail, Yahoo or Microsoft. You can simply roll your own email
server with your own domain name and easily create an (admittedly
minimalist) Gmail equivalent.</p><h3 id=before-you-start>Before you start<a hidden class=anchor aria-hidden=true href=#before-you-start>#</a></h3><p>If you think this guide is too complex, that&rsquo;s totally understandable.
Running your own mail server requires a reasonable amount of technical
experience. If you&rsquo;re interesting in getting away from a service like
Gmail and want a good alternative check-out <a href=https://mykolab.com/.>https://mykolab.com/.</a> It
costs around 10 bucks a month for 2GB of storage, which isn&rsquo;t too bad.
If you think this isn&rsquo;t enough space, you could either pay for more or
have a mail client like thunderbird offline all non-essential email to
your desktop.</p><h3 id=what-youre-not-getting>What you&rsquo;re not getting<a hidden class=anchor aria-hidden=true href=#what-youre-not-getting>#</a></h3><p>This is very minimal email setup. You won&rsquo;t be getting a web-accessible
email client. If you want your email accessible everywhere, this simply
isn&rsquo;t a guide for you. If you do want web-accesible email setup you
could use something like `iRedmail `__\ to do
all of your configuration for you. I find that because iRedmail
configures everything automatically, I&rsquo;m less in control of how my
server works. Plus the extra requirements iRedmail needs reduce the
security of my server, which I&rsquo;m not too happy about. This guide is to
get the bare minimum for email to work.
Also, to decrease the amount of time my emails sit on my server, I store
all of emails on my local machine and back that machine up locally. This
is simply to minimise data leakage should my server become compromised.
So you will need to point a mail client(thunderbird, k9 for Android etc)
to download your email locally for search indexing. Sadly, there are a
few usability prices to pay to stay out of another companies pocket.</p><h3 id=requirements>Requirements<a hidden class=anchor aria-hidden=true href=#requirements>#</a></h3><ul><li>Ensure you have a server setup with salt. See <a href=https://shanedowling.com/owning-your-data-initial-server-setup-afa33394b94>here</a>.</li><li>A domain name you wish to send email from. So instead of <a href=mailto:you@gmail.com>you@gmail.com</a> it&rsquo;s <a href=mailto:you@mynewdomain.com>you@mynewdomain.com</a>. I use <a href=https://www.namecheap.com>namecheap</a>. They accept bitcoin and will allow you to buy <a href=https://www.namecheap.com/security/whoisguard.aspx>whoisguard</a> for your domain name. So fake all the details on here and make sure you buy whoisguard just to keep things quiet.</li><li>Once you have bought your domain name, you will need to point your domain mail records to your new server. Namecheap has a guide here. Generally, I create an A record on my domain mx.mynewdomain.com to the ip of my server. I then setup multiple mx records that point to mx.mynewdomain.com. I also use backup DNS suppliers for my low priority mx records (say priority 40/50), take a look at <a href=https://freedns.afraid.org/>https://freedns.afraid.org/</a> to get yourself some free domain names.</li><li>Install git</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apt-get install git
</span></span></code></pre></div><ul><li>Setup a user on the server who you wish to send/recieve email as. So adduser jim and enter the password you wish to authenticate with on your mail client.</li></ul><h3 id=setting-up-the-server>Setting up the server<a hidden class=anchor aria-hidden=true href=#setting-up-the-server>#</a></h3><p>The first thing you&rsquo;re going to need to do is, using salt, grab my <a href=https://github.com/shano/salty-mailer>salty-mailer setup</a>. This leverages salt stack and will install everything you need to get your
mail server up and running. You don&rsquo;t need to worry too much about what
git does, it simply downloads the files required from github. Copy and
paste this line into the terminal and it should get things started.</p><p>sudo mkdir /srv/salt/mail && sudo git clone
<a href=https://github.com/shano/salty-mailer>https://github.com/shano/salty-mailer</a> /srv/salt/mail</p><p>Now you&rsquo;ll need to configure a few files, with your own settings.</p><ul><li><p>In /srv/salt/mail/init.sls change all entries from to the username you wish to send email as. So for example change it from to jim.</p></li><li><p>In /srv/salt/mail/postfix/main.cf you need to change &lt;<code>domain.com</code>> to <code>mynewdomain.com </code>.</p></li><li><p>Under /srv/salt/top.sls ensure you have lines that look like this:</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>base</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#39;*&#39;</span>:
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>— mail</span>
</span></span></code></pre></div><p>Done? Great you&rsquo;ve finished configuration and you&rsquo;re ready to install
everything. This command tells salt to read these configuration files
and install enough to get basic mail server up and running.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo salt-call -l debug state.highstate
</span></span></code></pre></div><p>This should provide a ton of output, but as long as there&rsquo;s no errors,
you&rsquo;re good to go.</p><h3 id=testing-your-mail-server>Testing your mail-server<a hidden class=anchor aria-hidden=true href=#testing-your-mail-server>#</a></h3><p>You should now be able to configure your email-client to talk to your
email server. So fire up your preferred mail client and use these
settings to connect.
Inbound:</p><p>Server Type:IMAP
Username:jim
Password:</p><p>Outbound:</p><p>Server Type:SMTP
Password:</p><p>Now try connect your email client to your server and see what happens.
If you have trouble connecting try run sudo tail -f /var/log/mail.log
and reconnect. See if anything appears in the output. If there is
something wrong, checkout google(duh) or tryout The Comms
Room on ServerFault and see if someone can point you in the right direction. Or of course add something in the comments here.</p><h3 id=make-your-emails-more-reliable>Make your emails more reliable<a hidden class=anchor aria-hidden=true href=#make-your-emails-more-reliable>#</a></h3><p>Now that you have your mail server up and running, you&rsquo;re going to need
to ensure the major email suppliers are willing to accept your email.
People suggest adding SPFs and DKIMs to your email records but
personally I haven&rsquo;t found either much use. The best thing for you to do is to add yourself to a legitimate whitelist. Fill in <a href=https://www.dnswl.org/selfservice/>this form</a>, the guys there will come back if the find any issues with your server that would prevent them adding you to their whitelist, once accepted Presto! You look like a legimate email user on the interwebs!</p><h3 id=whats-next>What&rsquo;s next?<a hidden class=anchor aria-hidden=true href=#whats-next>#</a></h3><p>Now that you&rsquo;ve done all that work, here&rsquo;s the kicker. Email isn&rsquo;t
secure. It was never meant to be the center of our digital lives, so
back when it was invented security really wasn&rsquo;t a big concern. But here
we are. With everything in plain-text all over the place you&rsquo;d be wise
to reduce your email as much as possible. If you wish to improve the
security of any email communications you do make, take a look at using
GPG. I use <a href=https://addons.mozilla.org/en-US/thunderbird/addon/enigmail/>Enigmail with Thunderbird</a>.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://shanedowling.com/>Shane Dowling</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>