<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SugarCRM — Search for records related to the current record | Shane Dowling</title><meta name=keywords content><meta name=description content="Say you have two modules in Sugar: Animals and Ringmasters and they aren&rsquo;t directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster, I&rsquo;ve written about how to do something similar recently. Conversely, you want to search for all Animals related to a Ringmaster you&rsquo;re currently viewing. It&rsquo;s not a link that exists in Sugar so you can directly see a Dashlet and you don&rsquo;t want to build anything from scratch so that&rsquo;s going to take effort."><meta name=author content="Shane Dowling"><link rel=canonical href=https://shanedowling.com/posts/2014-04-20_sugarcrm---search-for-records-related-to-the-current-record-4c0086341c14/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://shanedowling.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shanedowling.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shanedowling.com/favicon-32x32.png><link rel=apple-touch-icon href=https://shanedowling.com/apple-touch-icon.png><link rel=mask-icon href=https://shanedowling.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://shanedowling.com/posts/2014-04-20_sugarcrm---search-for-records-related-to-the-current-record-4c0086341c14/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://shanedowling.com/posts/2014-04-20_sugarcrm---search-for-records-related-to-the-current-record-4c0086341c14/"><meta property="og:site_name" content="Shane Dowling"><meta property="og:title" content="SugarCRM — Search for records related to the current record"><meta property="og:description" content="Say you have two modules in Sugar: Animals and Ringmasters and they aren’t directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster, I’ve written about how to do something similar recently. Conversely, you want to search for all Animals related to a Ringmaster you’re currently viewing. It’s not a link that exists in Sugar so you can directly see a Dashlet and you don’t want to build anything from scratch so that’s going to take effort."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-04-20T00:00:00+00:00"><meta property="article:modified_time" content="2014-04-20T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SugarCRM — Search for records related to the current record"><meta name=twitter:description content="Say you have two modules in Sugar: Animals and Ringmasters and they aren&rsquo;t directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster, I&rsquo;ve written about how to do something similar recently. Conversely, you want to search for all Animals related to a Ringmaster you&rsquo;re currently viewing. It&rsquo;s not a link that exists in Sugar so you can directly see a Dashlet and you don&rsquo;t want to build anything from scratch so that&rsquo;s going to take effort."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://shanedowling.com/posts/"},{"@type":"ListItem","position":2,"name":"SugarCRM — Search for records related to the current record","item":"https://shanedowling.com/posts/2014-04-20_sugarcrm---search-for-records-related-to-the-current-record-4c0086341c14/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SugarCRM — Search for records related to the current record","name":"SugarCRM — Search for records related to the current record","description":"Say you have two modules in Sugar: Animals and Ringmasters and they aren\u0026rsquo;t directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster, I\u0026rsquo;ve written about how to do something similar recently. Conversely, you want to search for all Animals related to a Ringmaster you\u0026rsquo;re currently viewing. It\u0026rsquo;s not a link that exists in Sugar so you can directly see a Dashlet and you don\u0026rsquo;t want to build anything from scratch so that\u0026rsquo;s going to take effort.\n","keywords":[],"articleBody":"Say you have two modules in Sugar: Animals and Ringmasters and they aren’t directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster, I’ve written about how to do something similar recently. Conversely, you want to search for all Animals related to a Ringmaster you’re currently viewing. It’s not a link that exists in Sugar so you can directly see a Dashlet and you don’t want to build anything from scratch so that’s going to take effort.\nWhat you could do, is create a link on the action drop-down while viewing the Ringmaster that linked you to a search that would call animals supplying the Ringmaster’s id as the argument.\nThis is based on the previous tutorial I’ve shared.\nFirstly add a new logic hook in custom/modules/RingMasterModule/logic_hooks.php $hook_array['after_ui_frame'][] = Array(2, 'Custom Ring Master Buttons', 'custom/modules/RingMasterModule/CustomButtons.php ','RingMasterButtons', 'add'); Then add the custom buttons class in custom/modules/RingMasterModule/CustomButtons.php class RingMasterButtons { function add($bean) { echo $bean; $ringMasterID = $_GET['record']; if(!$ringMasterID) return; // Based on what action we're in, add some buttons! switch ($GLOBALS['app']-\u003econtroller-\u003eaction) { case \"DetailView\": // Add buttons to Detail View $button_code = \u003c\u003c EOQ; echo $button_code; break; } } } Quick Repair and Rebuild for good measure. This should add a hidden form that will be called when the user clicks the Ring Master Animals.\n","wordCount":"241","inLanguage":"en","datePublished":"2014-04-20T00:00:00Z","dateModified":"2014-04-20T00:00:00Z","author":{"@type":"Person","name":"Shane Dowling"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://shanedowling.com/posts/2014-04-20_sugarcrm---search-for-records-related-to-the-current-record-4c0086341c14/"},"publisher":{"@type":"Organization","name":"Shane Dowling","logo":{"@type":"ImageObject","url":"https://shanedowling.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shanedowling.com/ accesskey=h title="Shane Dowling (Alt + H)">Shane Dowling</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shanedowling.com/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://shanedowling.com/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">SugarCRM — Search for records related to the current record</h1><div class=post-meta><span title='2014-04-20 00:00:00 +0000 UTC'>April 20, 2014</span>&nbsp;·&nbsp;Shane Dowling</div></header><div class=post-content><p>Say you have two modules in Sugar: Animals and Ringmasters and they aren&rsquo;t directly related via a standard relationship but they are related through some convoluted means. Now, imagine if you want to override the SugarCRM search to allow you to search for all Animals indirectly related to a Ringmaster, I&rsquo;ve written about how to do something <a href=http://shanedowling.com/sugarcrm-searches-data-indirectly-related-modules/>similar recently</a>. Conversely, you want to search for all Animals related to a Ringmaster you&rsquo;re currently viewing. It&rsquo;s not a link that exists in Sugar so you can directly see a Dashlet and you don&rsquo;t want to build anything from scratch so that&rsquo;s going to take effort.</p><p>What you could do, is create a link on the action drop-down while viewing the Ringmaster that linked you to a search that would call animals supplying the Ringmaster&rsquo;s id as the argument.</p><p>This is based on the previous tutorial I&rsquo;ve shared.</p><ul><li>Firstly add a new logic hook in custom/modules/RingMasterModule/logic_hooks.php</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$hook_array[<span style=color:#e6db74>&#39;after_ui_frame&#39;</span>][] <span style=color:#f92672>=</span> <span style=color:#66d9ef>Array</span>(<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;Custom Ring Master Buttons&#39;</span>, <span style=color:#e6db74>&#39;custom/modules/RingMasterModule/CustomButtons.php
</span></span></span><span style=display:flex><span><span style=color:#e6db74> &#39;</span>,<span style=color:#e6db74>&#39;RingMasterButtons&#39;</span>, <span style=color:#e6db74>&#39;add&#39;</span>);
</span></span></code></pre></div><ul><li>Then add the custom buttons class in custom/modules/RingMasterModule/CustomButtons.php</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RingMasterButtons</span> {
</span></span><span style=display:flex><span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>add</span>($bean)
</span></span><span style=display:flex><span> {
</span></span><span style=display:flex><span> <span style=color:#66d9ef>echo</span> $bean;
</span></span><span style=display:flex><span> $ringMasterID <span style=color:#f92672>=</span> $_GET[<span style=color:#e6db74>&#39;record&#39;</span>];
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>$ringMasterID) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span> <span style=color:#75715e>// Based on what action we&#39;re in, add some buttons!
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> <span style=color:#66d9ef>switch</span> ($GLOBALS[<span style=color:#e6db74>&#39;app&#39;</span>]<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>controller</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>action</span>)
</span></span><span style=display:flex><span> {
</span></span><span style=display:flex><span> <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;DetailView&#34;</span><span style=color:#f92672>:</span> <span style=color:#75715e>// Add buttons to Detail View
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>$button_code <span style=color:#f92672>=</span> <span style=color:#f92672>&lt;&lt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>EOQ</span>;
</span></span><span style=display:flex><span> <span style=color:#66d9ef>echo</span> $button_code;
</span></span><span style=display:flex><span> <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span> }
</span></span></code></pre></div><p>Quick Repair and Rebuild for good measure. This should add a hidden form
that will be called when the user clicks the Ring Master Animals.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://shanedowling.com/>Shane Dowling</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>