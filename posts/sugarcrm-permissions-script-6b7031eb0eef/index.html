<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SugarCRM — Permissions Script | Shane Dowling</title><meta name=keywords content><meta name=description content="I use salt quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the Sugar documentation and this handy post here.
Simply fill in your apache user details and the path to the Sugar
install and you&rsquo;re away.
#!/bin/bash
APACHEUSER='www-data:www-data'
SUGARPATH='/var/www/sugarcrm'

find -P $SUGARPATH/ -type d -exec chmod 755 {} \\;
find -P $SUGARPATH/ -type f -exec chmod 644 {} \\;
find -P $SUGARPATH/ -name *.js -exec chmod 755 {} \\;

chmod 664 $SUGARPATH/config.php
chmod 664 $SUGARPATH/config_override.php
chmod 664 $SUGARPATH/sugarcrm.log

find -P $SUGARPATH/cache -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/custom -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/data -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/modules -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/include -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/upload -type d -exec chmod 775 {} \\;

find -P $SUGARPATH/cache -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/custom -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/data -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/modules -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/include -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/upload -type f -exec chmod 664 {} \\;

chown -R $APACHEUSER $SUGARPATH
And the salt config to get this running."><meta name=author content="Shane Dowling"><link rel=canonical href=https://shanedowling.com/posts/sugarcrm-permissions-script-6b7031eb0eef/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://shanedowling.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shanedowling.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shanedowling.com/favicon-32x32.png><link rel=apple-touch-icon href=https://shanedowling.com/apple-touch-icon.png><link rel=mask-icon href=https://shanedowling.com/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://shanedowling.com/posts/sugarcrm-permissions-script-6b7031eb0eef/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://shanedowling.com/posts/sugarcrm-permissions-script-6b7031eb0eef/"><meta property="og:site_name" content="Shane Dowling"><meta property="og:title" content="SugarCRM — Permissions Script"><meta property="og:description" content="I use salt quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the Sugar documentation and this handy post here.
Simply fill in your apache user details and the path to the Sugar install and you’re away.
#!/bin/bash APACHEUSER='www-data:www-data' SUGARPATH='/var/www/sugarcrm' find -P $SUGARPATH/ -type d -exec chmod 755 {} \\; find -P $SUGARPATH/ -type f -exec chmod 644 {} \\; find -P $SUGARPATH/ -name *.js -exec chmod 755 {} \\; chmod 664 $SUGARPATH/config.php chmod 664 $SUGARPATH/config_override.php chmod 664 $SUGARPATH/sugarcrm.log find -P $SUGARPATH/cache -type d -exec chmod 775 {} \\; find -P $SUGARPATH/custom -type d -exec chmod 775 {} \\; find -P $SUGARPATH/data -type d -exec chmod 775 {} \\; find -P $SUGARPATH/modules -type d -exec chmod 775 {} \\; find -P $SUGARPATH/include -type d -exec chmod 775 {} \\; find -P $SUGARPATH/upload -type d -exec chmod 775 {} \\; find -P $SUGARPATH/cache -type f -exec chmod 664 {} \\; find -P $SUGARPATH/custom -type f -exec chmod 664 {} \\; find -P $SUGARPATH/data -type f -exec chmod 664 {} \\; find -P $SUGARPATH/modules -type f -exec chmod 664 {} \\; find -P $SUGARPATH/include -type f -exec chmod 664 {} \\; find -P $SUGARPATH/upload -type f -exec chmod 664 {} \\; chown -R $APACHEUSER $SUGARPATH And the salt config to get this running."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-06-21T00:00:00+00:00"><meta property="article:modified_time" content="2014-06-21T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SugarCRM — Permissions Script"><meta name=twitter:description content="I use salt quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the Sugar documentation and this handy post here.
Simply fill in your apache user details and the path to the Sugar
install and you&rsquo;re away.
#!/bin/bash
APACHEUSER='www-data:www-data'
SUGARPATH='/var/www/sugarcrm'

find -P $SUGARPATH/ -type d -exec chmod 755 {} \\;
find -P $SUGARPATH/ -type f -exec chmod 644 {} \\;
find -P $SUGARPATH/ -name *.js -exec chmod 755 {} \\;

chmod 664 $SUGARPATH/config.php
chmod 664 $SUGARPATH/config_override.php
chmod 664 $SUGARPATH/sugarcrm.log

find -P $SUGARPATH/cache -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/custom -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/data -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/modules -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/include -type d -exec chmod 775 {} \\;
find -P $SUGARPATH/upload -type d -exec chmod 775 {} \\;

find -P $SUGARPATH/cache -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/custom -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/data -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/modules -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/include -type f -exec chmod 664 {} \\;
find -P $SUGARPATH/upload -type f -exec chmod 664 {} \\;

chown -R $APACHEUSER $SUGARPATH
And the salt config to get this running."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://shanedowling.com/posts/"},{"@type":"ListItem","position":2,"name":"SugarCRM — Permissions Script","item":"https://shanedowling.com/posts/sugarcrm-permissions-script-6b7031eb0eef/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SugarCRM — Permissions Script","name":"SugarCRM — Permissions Script","description":"I use salt quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the Sugar documentation and this handy post here.\nSimply fill in your apache user details and the path to the Sugar install and you\u0026rsquo;re away.\n#!/bin/bash APACHEUSER=\u0026#39;www-data:www-data\u0026#39; SUGARPATH=\u0026#39;/var/www/sugarcrm\u0026#39; find -P $SUGARPATH/ -type d -exec chmod 755 {} \\\\; find -P $SUGARPATH/ -type f -exec chmod 644 {} \\\\; find -P $SUGARPATH/ -name *.js -exec chmod 755 {} \\\\; chmod 664 $SUGARPATH/config.php chmod 664 $SUGARPATH/config_override.php chmod 664 $SUGARPATH/sugarcrm.log find -P $SUGARPATH/cache -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/custom -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/data -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/modules -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/include -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/upload -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/cache -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/custom -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/data -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/modules -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/include -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/upload -type f -exec chmod 664 {} \\\\; chown -R $APACHEUSER $SUGARPATH And the salt config to get this running.\n","keywords":[],"articleBody":"I use salt quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the Sugar documentation and this handy post here.\nSimply fill in your apache user details and the path to the Sugar install and you’re away.\n#!/bin/bash APACHEUSER='www-data:www-data' SUGARPATH='/var/www/sugarcrm' find -P $SUGARPATH/ -type d -exec chmod 755 {} \\\\; find -P $SUGARPATH/ -type f -exec chmod 644 {} \\\\; find -P $SUGARPATH/ -name *.js -exec chmod 755 {} \\\\; chmod 664 $SUGARPATH/config.php chmod 664 $SUGARPATH/config_override.php chmod 664 $SUGARPATH/sugarcrm.log find -P $SUGARPATH/cache -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/custom -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/data -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/modules -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/include -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/upload -type d -exec chmod 775 {} \\\\; find -P $SUGARPATH/cache -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/custom -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/data -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/modules -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/include -type f -exec chmod 664 {} \\\\; find -P $SUGARPATH/upload -type f -exec chmod 664 {} \\\\; chown -R $APACHEUSER $SUGARPATH And the salt config to get this running.\nsugar_permissions: cmd.script: - source: salt://deploy/dev/sugar/permissions.sh - user: root - group: root - shell: /bin/bash If you see any issues with the script/salt config please let me know.\nThanks!\n","wordCount":"259","inLanguage":"en","datePublished":"2014-06-21T00:00:00Z","dateModified":"2014-06-21T00:00:00Z","author":{"@type":"Person","name":"Shane Dowling"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://shanedowling.com/posts/sugarcrm-permissions-script-6b7031eb0eef/"},"publisher":{"@type":"Organization","name":"Shane Dowling","logo":{"@type":"ImageObject","url":"https://shanedowling.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shanedowling.com/ accesskey=h title="Shane Dowling (Alt + H)">Shane Dowling</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shanedowling.com/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://shanedowling.com/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">SugarCRM — Permissions Script</h1><div class=post-meta><span title='2014-06-21 00:00:00 +0000 UTC'>June 21, 2014</span>&nbsp;·&nbsp;Shane Dowling</div></header><div class=post-content><p>I use <a href=http://www.saltstack.com/>salt</a> quite extensively to deploy SugarCRM installs and I wanted a scriptable way to setup the correct permissions for Sugar running on a linux box. This script is based on the <a href=http://support.sugarcrm.com/04_Find_Answers/02KB/02Administration/100Install/Required_File_System_Permissions_on_Linux/>Sugar documentation</a> and this handy post <a href=http://developer.sugarcrm.com/2012/07/19/a-newbies-guide-to-getting-your-sugarcrm-instances-permissions-right/>here</a>.</p><p>Simply fill in your apache user details and the path to the Sugar
install and you&rsquo;re away.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>APACHEUSER<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;www-data:www-data&#39;</span>
</span></span><span style=display:flex><span>SUGARPATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;/var/www/sugarcrm&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>find -P $SUGARPATH/ -type d -exec chmod <span style=color:#ae81ff>755</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/ -type f -exec chmod <span style=color:#ae81ff>644</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/ -name *.js -exec chmod <span style=color:#ae81ff>755</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>664</span> $SUGARPATH/config.php
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>664</span> $SUGARPATH/config_override.php
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>664</span> $SUGARPATH/sugarcrm.log
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>find -P $SUGARPATH/cache -type d -exec chmod <span style=color:#ae81ff>775</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/custom -type d -exec chmod <span style=color:#ae81ff>775</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/data -type d -exec chmod <span style=color:#ae81ff>775</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/modules -type d -exec chmod <span style=color:#ae81ff>775</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/include -type d -exec chmod <span style=color:#ae81ff>775</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/upload -type d -exec chmod <span style=color:#ae81ff>775</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>find -P $SUGARPATH/cache -type f -exec chmod <span style=color:#ae81ff>664</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/custom -type f -exec chmod <span style=color:#ae81ff>664</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/data -type f -exec chmod <span style=color:#ae81ff>664</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/modules -type f -exec chmod <span style=color:#ae81ff>664</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/include -type f -exec chmod <span style=color:#ae81ff>664</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>find -P $SUGARPATH/upload -type f -exec chmod <span style=color:#ae81ff>664</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\\</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>chown -R $APACHEUSER $SUGARPATH
</span></span></code></pre></div><p>And the salt config to get this running.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>sugar_permissions</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>cmd.script</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>source</span>: <span style=color:#ae81ff>salt://deploy/dev/sugar/permissions.sh</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>user</span>: <span style=color:#ae81ff>root</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>group</span>: <span style=color:#ae81ff>root</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>/bin/bash</span>
</span></span></code></pre></div><p>If you see any issues with the script/salt config please let me know.</p><p>Thanks!</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://shanedowling.com/>Shane Dowling</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>