<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SugarCRM 7 — Hiding subpanels based on specific criteria | Shane Dowling</title><meta name=keywords content><meta name=description content="The new Sugar subpanels look great but they do take up quite a lot
space, without any ability to remove Subpanels via studio I&rsquo;ve had to
come up with a few ways to hide them.
Note: Original Props go to Robin Larsson who wrote the original on the Sugar Community.
What Robin&rsquo;s code does is essentially hide fields based on a specific
value within a record, I didn&rsquo;t really need that ability much so I&rsquo;ve
altered his code based on use cases I&rsquo;ve come across."><meta name=author content="Shane Dowling"><link rel=canonical href=https://shanedowling.com/posts/sugarcrm-7-hiding-subpanels-based-on-specific-criteria-eee6aacb95e1/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://shanedowling.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shanedowling.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shanedowling.com/favicon-32x32.png><link rel=apple-touch-icon href=https://shanedowling.com/apple-touch-icon.png><link rel=mask-icon href=https://shanedowling.com/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://shanedowling.com/posts/sugarcrm-7-hiding-subpanels-based-on-specific-criteria-eee6aacb95e1/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://shanedowling.com/posts/sugarcrm-7-hiding-subpanels-based-on-specific-criteria-eee6aacb95e1/"><meta property="og:site_name" content="Shane Dowling"><meta property="og:title" content="SugarCRM 7 — Hiding subpanels based on specific criteria"><meta property="og:description" content="The new Sugar subpanels look great but they do take up quite a lot space, without any ability to remove Subpanels via studio I’ve had to come up with a few ways to hide them.
Note: Original Props go to Robin Larsson who wrote the original on the Sugar Community.
What Robin’s code does is essentially hide fields based on a specific value within a record, I didn’t really need that ability much so I’ve altered his code based on use cases I’ve come across."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-06-12T00:00:00+00:00"><meta property="article:modified_time" content="2014-06-12T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SugarCRM 7 — Hiding subpanels based on specific criteria"><meta name=twitter:description content="The new Sugar subpanels look great but they do take up quite a lot
space, without any ability to remove Subpanels via studio I&rsquo;ve had to
come up with a few ways to hide them.
Note: Original Props go to Robin Larsson who wrote the original on the Sugar Community.
What Robin&rsquo;s code does is essentially hide fields based on a specific
value within a record, I didn&rsquo;t really need that ability much so I&rsquo;ve
altered his code based on use cases I&rsquo;ve come across."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://shanedowling.com/posts/"},{"@type":"ListItem","position":2,"name":"SugarCRM 7 — Hiding subpanels based on specific criteria","item":"https://shanedowling.com/posts/sugarcrm-7-hiding-subpanels-based-on-specific-criteria-eee6aacb95e1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SugarCRM 7 — Hiding subpanels based on specific criteria","name":"SugarCRM 7 — Hiding subpanels based on specific criteria","description":"The new Sugar subpanels look great but they do take up quite a lot space, without any ability to remove Subpanels via studio I\u0026rsquo;ve had to come up with a few ways to hide them.\nNote: Original Props go to Robin Larsson who wrote the original on the Sugar Community.\nWhat Robin\u0026rsquo;s code does is essentially hide fields based on a specific value within a record, I didn\u0026rsquo;t really need that ability much so I\u0026rsquo;ve altered his code based on use cases I\u0026rsquo;ve come across.\n","keywords":[],"articleBody":"The new Sugar subpanels look great but they do take up quite a lot space, without any ability to remove Subpanels via studio I’ve had to come up with a few ways to hide them.\nNote: Original Props go to Robin Larsson who wrote the original on the Sugar Community.\nWhat Robin’s code does is essentially hide fields based on a specific value within a record, I didn’t really need that ability much so I’ve altered his code based on use cases I’ve come across.\nThe related type, meaning hide all subpanels of say type Account or Contact The relationship name, so if you want to hide a related module by a specific relationship. For example accounts_contacts If a specific relationship has no related records. So say if an account has no contacts, hide that subpanel. Place this code in custom/modules//clients/base/layouts/subpanels/subpanels.js and simply populate the hide_variables with whatever you wish to hide!\n({ }, /** * Show the subpanel for the given linkName and hide all others * @param {String} linkName name of subpanel link */ var self = this, //this.layout is the filter layout which subpanels is child of; we //use it here as it has a last_state key in its meta cacheKey = app.user.lastState.key('subpanels-last', this.layout); // wait for the model to load self.model.on(\"change\", function () { if (linkName) { app.user.lastState.set(cacheKey, linkName); } _.each(self._components, function (component) { var hide_subpanel = self._checkIfHideSubpanel(component.module.toLowerCase(), component.collection); var link = component.context.get('link'); if (!hide_subpanel \u0026\u0026 ( !linkName || linkName === link )) { component.context.set(\"hidden\", false); component.show(); } else { component.context.set(\"hidden\", true); component.hide(); } }); }); }, /** * Check if the subpanel is on the hiding list and if the watched field has a specific value. * @param {Boolean} subpanel name of the module for the subpanel */ var relationship = field_collection.link.name; var self = this; var hide_subpanel = false; if (( jQuery.inArray(type, self.hide_subpanel_by_type) !== -1 )) { hide_subpanel = true; } if (( jQuery.inArray(relationship, self.hide_subpanel_by_empty) !== -1 ) \u0026\u0026 (field_collection.models.length === 0)) { hide_subpanel = true; } if (( jQuery.inArray(relationship, self.hide_subpanel_by_relationship) !== -1 )) { hide_subpanel = true; } return hide_subpanel; }, }) ","wordCount":"349","inLanguage":"en","datePublished":"2014-06-12T00:00:00Z","dateModified":"2014-06-12T00:00:00Z","author":{"@type":"Person","name":"Shane Dowling"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://shanedowling.com/posts/sugarcrm-7-hiding-subpanels-based-on-specific-criteria-eee6aacb95e1/"},"publisher":{"@type":"Organization","name":"Shane Dowling","logo":{"@type":"ImageObject","url":"https://shanedowling.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shanedowling.com/ accesskey=h title="Shane Dowling (Alt + H)">Shane Dowling</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shanedowling.com/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://shanedowling.com/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">SugarCRM 7 — Hiding subpanels based on specific criteria</h1><div class=post-meta><span title='2014-06-12 00:00:00 +0000 UTC'>June 12, 2014</span>&nbsp;·&nbsp;Shane Dowling</div></header><div class=post-content><p>The new Sugar subpanels look great but they do take up quite a lot
space, without any ability to remove Subpanels via studio I&rsquo;ve had to
come up with a few ways to hide them.</p><p><strong>Note: Original Props go to Robin Larsson who wrote the</strong> <a href=https://community.sugarcrm.com/sugarcrm/topics/dynamically_hiding_showing_subpanels_based_on_record_values_in_sugar_7><strong>original</strong></a> <strong>on the Sugar Community.</strong></p><p>What Robin&rsquo;s code does is essentially hide fields based on a specific
value within a record, I didn&rsquo;t really need that ability much so I&rsquo;ve
altered his code based on use cases I&rsquo;ve come across.</p><ol><li>The related type, meaning hide all subpanels of say type Account or Contact</li><li>The relationship name, so if you want to hide a related module by a specific relationship. For example accounts_contacts</li><li>If a specific relationship has no related records. So say if an account has no contacts, hide that subpanel.</li></ol><p>Place this code in
custom/modules/&lt;YOUR_MODULE>/clients/base/layouts/subpanels/subpanels.js and
simply populate the hide_variables with whatever you wish to hide!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>({
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>},
</span></span><span style=display:flex><span> <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Show the subpanel for the given linkName and hide all others
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @param {String} linkName name of subpanel link
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>self</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>,
</span></span><span style=display:flex><span> <span style=color:#75715e>//this.layout is the filter layout which subpanels is child of; we
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> <span style=color:#75715e>//use it here as it has a last_state key in its meta
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> <span style=color:#a6e22e>cacheKey</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>lastState</span>.<span style=color:#a6e22e>key</span>(<span style=color:#e6db74>&#39;subpanels-last&#39;</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>layout</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// wait for the model to load
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> <span style=color:#a6e22e>self</span>.<span style=color:#a6e22e>model</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;change&#34;</span>, <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>linkName</span>) {
</span></span><span style=display:flex><span> <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>lastState</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>cacheKey</span>, <span style=color:#a6e22e>linkName</span>);
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>_</span>.<span style=color:#a6e22e>each</span>(<span style=color:#a6e22e>self</span>.<span style=color:#a6e22e>_components</span>, <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>component</span>) {
</span></span><span style=display:flex><span> <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>hide_subpanel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>self</span>.<span style=color:#a6e22e>_checkIfHideSubpanel</span>(<span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>toLowerCase</span>(), <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>collection</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>link</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;link&#39;</span>);
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>hide_subpanel</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span> ( <span style=color:#f92672>!</span><span style=color:#a6e22e>linkName</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>linkName</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span> )) {
</span></span><span style=display:flex><span> <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>set</span>(<span style=color:#e6db74>&#34;hidden&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span> <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span> <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span> <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>set</span>(<span style=color:#e6db74>&#34;hidden&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span> <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span> });
</span></span><span style=display:flex><span> });
</span></span><span style=display:flex><span> },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Check if the subpanel is on the hiding list and if the watched field has a specific value.
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @param {Boolean} subpanel name of the module for the subpanel
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>relationship</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>field_collection</span>.<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>name</span>;
</span></span><span style=display:flex><span> <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>self</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>;
</span></span><span style=display:flex><span> <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>hide_subpanel</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (( <span style=color:#a6e22e>jQuery</span>.<span style=color:#a6e22e>inArray</span>(<span style=color:#a6e22e>type</span>, <span style=color:#a6e22e>self</span>.<span style=color:#a6e22e>hide_subpanel_by_type</span>) <span style=color:#f92672>!==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> )) {
</span></span><span style=display:flex><span> <span style=color:#a6e22e>hide_subpanel</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (( <span style=color:#a6e22e>jQuery</span>.<span style=color:#a6e22e>inArray</span>(<span style=color:#a6e22e>relationship</span>, <span style=color:#a6e22e>self</span>.<span style=color:#a6e22e>hide_subpanel_by_empty</span>) <span style=color:#f92672>!==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> )
</span></span><span style=display:flex><span> <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>field_collection</span>.<span style=color:#a6e22e>models</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>)) {
</span></span><span style=display:flex><span> <span style=color:#a6e22e>hide_subpanel</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (( <span style=color:#a6e22e>jQuery</span>.<span style=color:#a6e22e>inArray</span>(<span style=color:#a6e22e>relationship</span>, <span style=color:#a6e22e>self</span>.<span style=color:#a6e22e>hide_subpanel_by_relationship</span>) <span style=color:#f92672>!==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> )) {
</span></span><span style=display:flex><span> <span style=color:#a6e22e>hide_subpanel</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#a6e22e>hide_subpanel</span>;
</span></span><span style=display:flex><span> },
</span></span><span style=display:flex><span> })
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://shanedowling.com/>Shane Dowling</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>